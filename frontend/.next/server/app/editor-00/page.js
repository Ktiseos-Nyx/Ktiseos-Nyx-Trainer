(()=>{var a={};a.id=253,a.ids=[253],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4776:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(49754),e=c(9117),f=c(46595),g=c(32324),h=c(39326),i=c(38928),j=c(20175),k=c(12),l=c(54290),m=c(12696),n=c(82802),o=c(77533),p=c(45229),q=c(32822),r=c(261),s=c(26453),t=c(52474),u=c(26713),v=c(51356),w=c(62685),x=c(36225),y=c(63446),z=c(2762),A=c(45742),B=c(86439),C=c(81170),D=c.n(C),E=c(62506),F=c(91203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H={children:["",{children:["editor-00",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,46077)),"/Users/duskfall/Ktiseos-Nyx-Trainer/frontend/app/editor-00/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,16953)),"/Users/duskfall/Ktiseos-Nyx-Trainer/frontend/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,81170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,87028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"]}]}.children,I=["/Users/duskfall/Ktiseos-Nyx-Trainer/frontend/app/editor-00/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/editor-00/page",pathname:"/editor-00",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/editor-00/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},25982:(a,b,c)=>{Promise.resolve().then(c.bind(c,46077))},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},28354:a=>{"use strict";a.exports=require("util")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:a=>{"use strict";a.exports=require("path")},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},46077:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>f,initialValue:()=>e});var d=c(97954);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call initialValue() from the server but initialValue is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/duskfall/Ktiseos-Nyx-Trainer/frontend/app/editor-00/page.tsx","initialValue"),f=(0,d.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/duskfall/Ktiseos-Nyx-Trainer/frontend/app/editor-00/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/duskfall/Ktiseos-Nyx-Trainer/frontend/app/editor-00/page.tsx","default")},56182:(a,b,c)=>{"use strict";let d,e;c.r(b),c.d(b,{default:()=>hj,initialValue:()=>hi});var f=c(21124),g=c(38301);let h=(0,g.createContext)(null);function i(){let a=(0,g.useContext)(h);return null==a&&function(a,...b){let c=new URL("https://lexical.dev/docs/error"),d=new URLSearchParams;for(let a of(d.append("code",8),b))d.append("v",a);throw c.search=d.toString(),Error(`Minified Lexical error #${8}; visit ${c.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),a}function j(a,...b){let c=new URL("https://lexical.dev/docs/error"),d=new URLSearchParams;for(let c of(d.append("code",a),b))d.append("v",c);throw c.search=d.toString(),Error(`Minified Lexical error #${a}; visit ${c.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function k(a,...b){let c=new URL("https://lexical.dev/docs/error"),d=new URLSearchParams;for(let c of(d.append("code",a),b))d.append("v",c);c.search=d.toString(),console.warn(`Minified Lexical warning #${a}; visit ${c.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let l="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,m=l&&"documentMode"in document?document.documentMode:null,n=l&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),o=l&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),p=!(!l||!("InputEvent"in window)||m)&&"getTargetRanges"in new window.InputEvent("input"),q=l&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),r=l&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,s=l&&/Android/.test(navigator.userAgent),t=l&&/^(?=.*Chrome).*/i.test(navigator.userAgent),u=l&&s&&t,v=l&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&n&&!t;function w(...a){let b=[];for(let c of a)if(c&&"string"==typeof c)for(let[a]of c.matchAll(/\S+/g))b.push(a);return b}let x=q||r||v?"\xa0":"​",y=o?"\xa0":x,z="֑-߿יִ-﷽ﹰ-ﻼ",A="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",B=(RegExp("^[^"+A+"]*["+z+"]"),RegExp("^[^"+z+"]*["+A+"]"),{bold:1,capitalize:1024,code:16,highlight:128,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512}),C={directionless:1,unmergeable:2},D={center:2,end:6,justify:4,left:1,right:3,start:5},E={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},F={normal:0,segmented:2,token:1},G={0:"normal",2:"segmented",1:"token"},H="$config",I=!1,J=0;function K(a){J=a.timeStamp}function L(a,b,c){let d="BR"===a.nodeName,e=b.__lexicalLineBreak;return e&&(a===e||d&&a.previousSibling===e)||d&&void 0!==dH(a,c)}function M(a,b,c){I=!0;let d=performance.now()-J>100;try{c_(a,()=>{let e=cx()||a.getEditorState().read(()=>{let a=cx();return null!==a?a.clone():null}),f=new Map,g=a.getRootElement(),h=a._editorState,i=a._blockCursorElement,j=!1,k="";for(let c=0;c<b.length;c++){let l=b[c],m=l.type,n=l.target,p=function(a,b,c,d){var e;for(let f=a;f&&(e=f,!0!==e.__lexicalUnmanaged);f=d7(f)){let a=dH(f,b);if(void 0!==a){let b=dF(a,c);if(b)return c6(b)||!ei(f)?void 0:[f,b]}else if(f===d)return[d,dM(c)]}}(n,a,h,g);if(!p)continue;let[q,r]=p;if("characterData"===m)d&&b6(r)&&dx(n)&&function(a,b,c){if(cg(a)){let b=a.anchor.getNode();if(b.is(c)&&a.format!==b.getFormat())return!1}return dx(b)&&c.isAttached()}(e,n,r)&&function(a,b,c){let d=eh(eb(c)),e=null,f=null;null!==d&&d.anchorNode===a&&(e=d.anchorOffset,f=d.focusOffset);let g=a.nodeValue;null!==g&&dU(b,g,e,f,!1)}(n,r,a);else if("childList"===m){j=!0;let b=l.addedNodes;for(let c=0;c<b.length;c++){let d=b[c],e=dG(d),f=d.parentNode;if(null!=f&&d!==i&&null===e&&!L(d,f,a)){if(o){let a=(ei(d)?d.innerText:null)||d.nodeValue;a&&(k+=a)}f.removeChild(d)}}let c=l.removedNodes,d=c.length;if(d>0){let b=0;for(let e=0;e<d;e++){let d=c[e];(L(d,n,a)||i===d)&&(n.appendChild(d),b++)}d!==b&&f.set(q,r)}}}if(f.size>0)for(let[b,c]of f)c.reconcileObservedMutation(b,a);let l=c.takeRecords();if(l.length>0){for(let b=0;b<l.length;b++){let c=l[b],d=c.addedNodes,e=c.target;for(let b=0;b<d.length;b++){let c=d[b],f=c.parentNode;null==f||"BR"!==c.nodeName||L(c,e,a)||f.removeChild(c)}}c.takeRecords()}null!==e&&(j&&dN(e),o&&d3(a)&&e.insertRawText(k))})}finally{I=!1}}function N(a){let b=a._observer;null!==b&&M(a,b.takeRecords(),b)}function O(a){0===J&&eb(a).addEventListener("textInput",K,!0),a._observer=new MutationObserver((b,c)=>{M(a,b,c)})}class P{node;knownState;unknownState;sharedNodeState;size;constructor(a,b,c,d=new Map,e){this.node=a,this.sharedNodeState=b,this.unknownState=c,this.knownState=d;let{sharedConfigMap:f}=this.sharedNodeState,g=void 0!==e?e:function(a,b,c){let d=c.size;if(b)for(let e in b){let b=a.get(e);b&&c.has(b)||d++}return d}(f,c,d);this.size=g}getValue(a){let b=this.knownState.get(a);if(void 0!==b)return b;this.sharedNodeState.sharedConfigMap.set(a.key,a);let c=a.defaultValue;if(this.unknownState&&a.key in this.unknownState){let b=this.unknownState[a.key];void 0!==b&&(c=a.parse(b)),this.updateFromKnown(a,c)}return c}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){let a={...this.unknownState},b={};for(let[b,c]of this.knownState)b.isEqual(c,b.defaultValue)?delete a[b.key]:a[b.key]=b.unparse(c);for(let c of this.sharedNodeState.flatKeys)c in a&&(b[c]=a[c],delete a[c]);return R(a)&&(b.$=a),b}getWritable(a){if(this.node===a)return this;let{sharedNodeState:b,unknownState:c}=this,d=new Map(this.knownState);return new P(a,b,function(a,b,c){let d;if(c)for(let[e,f]of Object.entries(c)){let c=a.get(e);c?b.has(c)||b.set(c,c.parse(f)):(d=d||{})[e]=f}return d}(b.sharedConfigMap,d,c),d,this.size)}updateFromKnown(a,b){let c=a.key;this.sharedNodeState.sharedConfigMap.set(c,a);let{knownState:d,unknownState:e}=this;d.has(a)||e&&c in e||(e&&(delete e[c],this.unknownState=R(e)),this.size++),d.set(a,b)}updateFromUnknown(a,b){let c=this.sharedNodeState.sharedConfigMap.get(a);c?this.updateFromKnown(c,c.parse(b)):(this.unknownState=this.unknownState||{},a in this.unknownState||this.size++,this.unknownState[a]=b)}updateFromJSON(a){let{knownState:b}=this;for(let a of b.keys())b.set(a,a.defaultValue);if(this.size=b.size,this.unknownState=void 0,a)for(let[b,c]of Object.entries(a))this.updateFromUnknown(b,c)}}function Q(a){return a.__state?a.__state.sharedNodeState:dm(cQ(),a.getType()).sharedNodeState}function R(a){if(a)for(let b in a)return a}function S(a,b,c){for(let[d,e]of b.knownState){if(a.has(d.key))continue;a.add(d.key);let b=c?c.getValue(d):d.defaultValue;if(b!==e&&!d.isEqual(b,e))return!0}return!1}function T(a,b,c){let{unknownState:d}=b,e=c?c.unknownState:void 0;if(d){for(let[b,c]of Object.entries(d))if(!a.has(b)&&(a.add(b),c!==(e?e[b]:void 0)))return!0}return!1}function U(a,b){let c=a.__state;return c&&c.node===a?c.getWritable(b):c}function V(a,b){let c=a.__mode,d=a.__format,e=a.__style,f=b.__mode,g=b.__format,h=b.__style,i=a.__state,j=b.__state;return(null===c||c===f)&&(null===d||d===g)&&(null===e||e===h)&&(null===a.__state||i===j||function(a,b){if(a===b)return!0;if(a&&b&&a.size!==b.size)return!1;let c=new Set;return!(a&&S(c,a,b)||b&&S(c,b,a)||a&&T(c,a,b)||b&&T(c,b,a))}(i,j))}function W(a,b){let c=a.mergeWithSibling(b),d=cQ()._normalizedNodes;return d.add(a.__key),d.add(b.__key),c}function X(a){let b,c,d=a;if(""!==d.__text||!d.isSimpleText()||d.isUnmergeable()){for(;null!==(b=d.getPreviousSibling())&&b6(b)&&b.isSimpleText()&&!b.isUnmergeable();){if(""!==b.__text){V(b,d)&&(d=W(b,d));break}b.remove()}for(;null!==(c=d.getNextSibling())&&b6(c)&&c.isSimpleText()&&!c.isUnmergeable();){if(""!==c.__text){V(d,c)&&(d=W(d,c));break}c.remove()}}else d.remove()}function Y(a){return Z(a.anchor),Z(a.focus),a}function Z(a){for(;"element"===a.type;){let b,c,d=a.getNode(),e=a.offset;if(e===d.getChildrenSize()?(b=d.getChildAtIndex(e-1),c=!0):(b=d.getChildAtIndex(e),c=!1),b6(b)){a.set(b.__key,c?b.getTextContentSize():0,"text",!0);break}if(!c3(b))break;a.set(b.__key,c?b.getChildrenSize():0,"element",!0)}}let $,_,aa,ab,ac,ad,ae,af,ag,ah,ai="",aj=null,ak="",al="",am=!1,an=!1;function ao(a,b){let c=ae.get(a);if(null!==b){let c=aB(a);c.parentNode===b&&b.removeChild(c)}if(af.has(a)||_._keyToDOMMap.delete(a),c3(c)){let a=ay(c,ae);ap(a,0,a.length-1,null)}void 0!==c&&d0(ah,aa,ab,c,"destroyed")}function ap(a,b,c,d){let e=b;for(;e<=c;++e){let b=a[e];void 0!==b&&ao(b,d)}}function aq(a,b){a.setProperty("text-align",b)}function ar(a,b){let c=$.theme.indent;if("string"==typeof c){let d=a.classList.contains(c);b>0&&!d?a.classList.add(c):b<1&&d&&a.classList.remove(c)}let d=getComputedStyle(a).getPropertyValue("--lexical-indent-base-value")||"40px";a.style.setProperty("padding-inline-start",0===b?"":`calc(${b} * ${d})`)}function as(a,b){let c=a.style;0===b?aq(c,""):1===b?aq(c,"left"):2===b?aq(c,"center"):3===b?aq(c,"right"):4===b?aq(c,"justify"):5===b?aq(c,"start"):6===b&&aq(c,"end")}function at(a,b){let c=function(a){let b=a.__dir;if(null!==b)return b;if(c8(a))return null;let c=a.getParentOrThrow();return c8(c)&&null===c.__dir?"auto":null}(b);null!==c?a.dir=c:a.removeAttribute("dir")}function au(a,b){let c=af.get(a);void 0===c&&j(60);let d=c.createDOM($,_);if(function(a,b,c){let d=c._keyToDOMMap;b[`__lexicalKey_${c._key}`]=a,d.set(a,b)}(a,d,_),b6(c)?d.setAttribute("data-lexical-text","true"):c6(c)&&d.setAttribute("data-lexical-decorator","true"),c3(c)){let a=c.__indent,b=c.__size;at(d,c),0!==a&&ar(d,a),0!==b&&av(ay(c,af),c,0,b-1,c.getDOMSlot(d));let e=c.__format;0!==e&&as(d,e),c.isInline()||ax(null,c,d),d5(c)&&(ai+="\n\n",al+="\n\n")}else{let b=c.getTextContent();if(c6(c)){let b=c.decorate(_,$);null!==b&&az(a,b),d.contentEditable="false"}ai+=b,al+=b}return null!==b&&b.insertChild(d),d0(ah,aa,ab,c,"created"),d}function av(a,b,c,d,e){let f=ai;ai="";let g=c;for(;g<=d;++g){au(a[g],e);let b=af.get(a[g]);null!==b&&b6(b)&&(null===aj&&(aj=b.getFormat()),""===ak&&(ak=b.getStyle()))}d5(b)&&(ai+="\n\n"),e.element.__lexicalTextContent=ai,ai=f+ai}function aw(a,b){if(a){let c=a.__last;if(c){let a=b.get(c);if(a)return bR(a)?"line-break":c6(a)&&a.isInline()?"decorator":null}return"empty"}return null}function ax(a,b,c){let d=aw(a,ae),e=aw(b,af);d!==e&&b.getDOMSlot(c).setManagedLineBreak(e)}function ay(a,b){let c=[],d=a.__first;for(;null!==d;){let a=b.get(d);void 0===a&&j(101),c.push(d),d=a.__next}return c}function az(a,b){let c=_._pendingDecorators,d=_._decorators;if(null===c){if(d[a]===b)return;c=dJ(_)}c[a]=b}function aA(a){let b=a.nextSibling;return null!==b&&b===_._blockCursorElement&&(b=b.nextSibling),b}function aB(a){let b=ag.get(a);return void 0===b&&j(75,a),b}function aC(a){return{type:a}}let aD=aC("SELECTION_CHANGE_COMMAND"),aE=aC("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),aF=aC("CLICK_COMMAND"),aG=aC("DELETE_CHARACTER_COMMAND"),aH=aC("INSERT_LINE_BREAK_COMMAND"),aI=aC("INSERT_PARAGRAPH_COMMAND"),aJ=aC("CONTROLLED_TEXT_INSERTION_COMMAND"),aK=aC("PASTE_COMMAND"),aL=aC("REMOVE_TEXT_COMMAND"),aM=aC("DELETE_WORD_COMMAND"),aN=aC("DELETE_LINE_COMMAND"),aO=aC("FORMAT_TEXT_COMMAND"),aP=aC("UNDO_COMMAND"),aQ=aC("REDO_COMMAND"),aR=aC("KEYDOWN_COMMAND"),aS=aC("KEY_ARROW_RIGHT_COMMAND"),aT=aC("MOVE_TO_END"),aU=aC("KEY_ARROW_LEFT_COMMAND"),aV=aC("MOVE_TO_START"),aW=aC("KEY_ARROW_UP_COMMAND"),aX=aC("KEY_ARROW_DOWN_COMMAND"),aY=aC("KEY_ENTER_COMMAND"),aZ=aC("KEY_SPACE_COMMAND"),a$=aC("KEY_BACKSPACE_COMMAND"),a_=aC("KEY_ESCAPE_COMMAND"),a0=aC("KEY_DELETE_COMMAND"),a1=aC("KEY_TAB_COMMAND"),a2=aC("INSERT_TAB_COMMAND"),a3=aC("INDENT_CONTENT_COMMAND"),a4=aC("OUTDENT_CONTENT_COMMAND"),a5=aC("DROP_COMMAND"),a6=aC("FORMAT_ELEMENT_COMMAND"),a7=aC("DRAGSTART_COMMAND"),a8=aC("DRAGOVER_COMMAND"),a9=aC("DRAGEND_COMMAND"),ba=aC("COPY_COMMAND"),bb=aC("CUT_COMMAND"),bc=aC("SELECT_ALL_COMMAND"),bd=(aC("CLEAR_EDITOR_COMMAND"),aC("CLEAR_HISTORY_COMMAND"),aC("CAN_REDO_COMMAND"),aC("CAN_UNDO_COMMAND"),aC("FOCUS_COMMAND")),be=aC("BLUR_COMMAND"),bf=aC("KEY_MODIFIER_COMMAND"),bg=Object.freeze({}),bh=[["keydown",function(a,b){if((bi=a.timeStamp,bj=a.key,!(b.isComposing()||d4(b,aR,a)))&&null!=a.key){if(bs&&d$(a))return c_(b,()=>{bC(b,bt)}),bs=!1,void(bt="");if(dX(a,"ArrowRight",{shiftKey:"any"}))d4(b,aS,a);else if(dX(a,"ArrowRight",dY))d4(b,aT,a);else if(dX(a,"ArrowLeft",{shiftKey:"any"}))d4(b,aU,a);else if(dX(a,"ArrowLeft",dY))d4(b,aV,a);else if(dX(a,"ArrowUp",{altKey:"any",shiftKey:"any"}))d4(b,aW,a);else if(dX(a,"ArrowDown",{altKey:"any",shiftKey:"any"}))d4(b,aX,a);else if(dX(a,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0}))bq=!0,d4(b,aY,a);else if(" "===a.key)d4(b,aZ,a);else if(n&&dX(a,"o",{ctrlKey:!0}))a.preventDefault(),bq=!0,d4(b,aH,!0);else if(dX(a,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"}))bq=!1,d4(b,aY,a);else if(dX(a,"Backspace",{shiftKey:"any"})||n&&dX(a,"h",{ctrlKey:!0}))d$(a)?d4(b,a$,a):(a.preventDefault(),d4(b,aG,!0));else if("Escape"===a.key)d4(b,a_,a);else if(dX(a,"Delete",{})||n&&dX(a,"d",{ctrlKey:!0}))"Delete"!==a.key?(a.preventDefault(),d4(b,aG,!1)):d4(b,a0,a);else if(dX(a,"Backspace",dZ))a.preventDefault(),d4(b,aM,!0);else if(dX(a,"Delete",dZ))a.preventDefault(),d4(b,aM,!1);else if(n&&dX(a,"Backspace",{metaKey:!0}))a.preventDefault(),d4(b,aN,!0);else if(n&&(dX(a,"Delete",{metaKey:!0})||dX(a,"k",{ctrlKey:!0})))a.preventDefault(),d4(b,aN,!1);else if(dX(a,"b",dY))a.preventDefault(),d4(b,aO,"bold");else if(dX(a,"u",dY))a.preventDefault(),d4(b,aO,"underline");else if(dX(a,"i",dY))a.preventDefault(),d4(b,aO,"italic");else if(dX(a,"Tab",{shiftKey:"any"}))d4(b,a1,a);else if(dX(a,"z",dY))a.preventDefault(),d4(b,aP,void 0);else if(n?dX(a,"z",{metaKey:!0,shiftKey:!0}):dX(a,"y",{ctrlKey:!0})||dX(a,"z",{ctrlKey:!0,shiftKey:!0}))a.preventDefault(),d4(b,aQ,void 0);else{let c=b._editorState._selection;null===c||cg(c)?dX(a,"a",dY)&&(a.preventDefault(),d4(b,bc,a)):dX(a,"c",dY)?(a.preventDefault(),d4(b,ba,a)):dX(a,"x",dY)?(a.preventDefault(),d4(b,bb,a)):dX(a,"a",dY)&&(a.preventDefault(),d4(b,bc,a))}(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey)&&d4(b,bf,a)}}],["pointerdown",function(a,b){let c=a.target,d=a.pointerType;ej(c)&&"touch"!==d&&"pen"!==d&&0===a.button&&c_(b,()=>{c6(dI(c))||(bp=!0)})}],["compositionstart",function(a,b){c_(b,()=>{let c=cx();if(cg(c)&&!b.isComposing()){let d=c.anchor,e=c.anchor.getNode();dD(d.key),(a.timeStamp<bi+30||"element"===d.type||!c.isCollapsed()||e.getFormat()!==c.format||b6(e)&&e.getStyle()!==c.style)&&d4(b,aJ,y)}})}],["compositionend",function(a,b){o?br=!0:!r&&(q||v)?(bs=!0,bt=a.data):c_(b,()=>{bC(b,a.data)})}],["input",function(a,b){a.stopPropagation(),c_(b,()=>{if(ei(a.target)&&c6(dI(a.target)))return;let c=cx(),d=a.data,e=bB(a);if(null!=d&&cg(c)&&bw(c,e,d,a.timeStamp,!1)){br&&(bC(b,d),br=!1);let e=c.anchor.getNode(),f=eh(eb(b));if(null===f)return;let g=c.isBackward(),h=g?c.anchor.offset:c.focus.offset,i=g?c.focus.offset:c.anchor.offset;p&&!c.isCollapsed()&&b6(e)&&null!==f.anchorNode&&e.getTextContent().slice(0,h)+d+e.getTextContent().slice(h+i)===dS(f.anchorNode)||d4(b,aJ,d);let j=d.length;o&&j>1&&"insertCompositionText"===a.inputType&&!b.isComposing()&&(c.anchor.offset-=j),q||r||v||!b.isComposing()||(bi=0,dD(null))}else dT(!1,b,null!==d?d:void 0),br&&(bC(b,d||void 0),br=!1);cN(),N(cQ())},{event:a}),bl=null}],["click",function(a,b){c_(b,()=>{let c=cx(),d=eh(eb(b)),e=cy();if(d){if(cg(c)){let b=c.anchor,f=b.getNode();if("element"===b.type&&0===b.offset&&c.isCollapsed()&&!c8(f)&&1===dL().getChildrenSize()&&f.getTopLevelElementOrThrow().isEmpty()&&null!==e&&c.is(e))d.removeAllRanges(),c.dirty=!0;else if(3===a.detail&&!c.isCollapsed()&&f!==c.focus.getNode()){let a=ev(f,a=>c3(a)&&!a.isInline());c3(a)&&a.select(0)}}else if("touch"===a.pointerType||"pen"===a.pointerType){let c=d.anchorNode;(ei(c)||dx(c))&&dN(cw(e,d,b,a))}}d4(b,aF,a)})}],["cut",bg],["copy",bg],["dragstart",bg],["dragover",bg],["dragend",bg],["paste",bg],["focus",bg],["blur",bg],["drop",bg]];p&&bh.push(["beforeinput",(a,b)=>(function(a,b){let c=a.inputType,d=bB(a);"deleteCompositionText"===c||o&&d3(b)||"insertCompositionText"!==c&&c_(b,()=>{var e;let f=cx();if("deleteContentBackward"===c){if(null===f){let a=cy();if(!cg(a))return;dN(a.clone())}if(cg(f)){let c=f.anchor.key===f.focus.key;if(e=a.timeStamp,"MediaLast"===bj&&e<bi+30&&b.isComposing()&&c){if(dD(null),bi=0,setTimeout(()=>{c_(b,()=>{dD(null)})},30),cg(f)){let a=f.anchor.getNode();a.markDirty(),b6(a)||j(142),bA(f,a)}}else{dD(null),a.preventDefault();let d=f.anchor.getNode(),e=d.getTextContent(),g=d.canInsertTextAfter(),h=0===f.anchor.offset&&f.focus.offset===e.length,i=u&&c&&!h&&g;if(i&&f.isCollapsed()&&(i=!c6(d2(f.anchor,!0))),!i){d4(b,aG,!0);let a=cx();u&&cg(a)&&a.isCollapsed()&&(bu=a,setTimeout(()=>bu=null))}}return}}if(!cg(f))return;let g=a.data;null!==bl&&dT(!1,b,bl),f.dirty&&null===bl||!f.isCollapsed()||c8(f.anchor.getNode())||null===d||f.applyDOMRange(d),bl=null;let h=f.anchor,i=f.focus,k=h.getNode(),l=i.getNode();if("insertText"!==c&&"insertTranspose"!==c)switch(a.preventDefault(),c){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":d4(b,aJ,a);break;case"insertFromComposition":dD(null),d4(b,aJ,a);break;case"insertLineBreak":dD(null),d4(b,aH,!1);break;case"insertParagraph":dD(null),bq&&!r?(bq=!1,d4(b,aH,!1)):d4(b,aI,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":d4(b,aK,a);break;case"deleteByComposition":(k!==l||c3(k)||c3(l)||!dv(k)||!dv(l))&&d4(b,aL,a);break;case"deleteByDrag":case"deleteByCut":d4(b,aL,a);break;case"deleteContent":d4(b,aG,!1);break;case"deleteWordBackward":d4(b,aM,!0);break;case"deleteWordForward":d4(b,aM,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":d4(b,aN,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":d4(b,aN,!1);break;case"formatStrikeThrough":d4(b,aO,"strikethrough");break;case"formatBold":d4(b,aO,"bold");break;case"formatItalic":d4(b,aO,"italic");break;case"formatUnderline":d4(b,aO,"underline");break;case"historyUndo":d4(b,aP,void 0);break;case"historyRedo":d4(b,aQ,void 0)}else{if("\n"===g)a.preventDefault(),d4(b,aH,!1);else if("\n\n"===g)a.preventDefault(),d4(b,aI,void 0);else if(null==g&&a.dataTransfer){let b=a.dataTransfer.getData("text/plain");a.preventDefault(),f.insertRawText(b)}else null!=g&&bw(f,d,g,a.timeStamp,!0)?(a.preventDefault(),d4(b,aJ,g)):bl=g;bk=a.timeStamp}})})(a,b)]);let bi=0,bj=null,bk=0,bl=null,bm=new WeakMap,bn=new WeakMap,bo=!1,bp=!1,bq=!1,br=!1,bs=!1,bt="",bu=null,bv=[0,"",0,"root",0];function bw(a,b,c,d,e){let f=a.anchor,g=a.focus,h=f.getNode(),i=cQ(),j=eh(eb(i)),k=null!==j?j.anchorNode:null,l=f.key,m=i.getElementByKey(l),n=c.length;return l!==g.key||!b6(h)||(!e&&(!p||bk<d+50)||h.isDirty()&&n<2||dP(c))&&f.offset!==g.offset&&!h.isComposing()||dw(h)||h.isDirty()&&n>1||(e||!p)&&null!==m&&!h.isComposing()&&k!==dz(m)||null!==j&&null!==b&&(!b.collapsed||b.startContainer!==j.anchorNode||b.startOffset!==j.anchorOffset)||h.getFormat()!==a.format||h.getStyle()!==a.style||function(a,b){if(b.isSegmented())return!0;if(!a.isCollapsed())return!1;let c=a.anchor.offset,d=b.getParentOrThrow(),e=dv(b);return 0===c?!b.canInsertTextBefore()||!d.canInsertTextBefore()&&!b.isComposing()||e||function(a){let b=a.getPreviousSibling();return(b6(b)||c3(b)&&b.isInline())&&!b.canInsertTextAfter()}(b):c===b.getTextContentSize()&&(!b.canInsertTextAfter()||!d.canInsertTextAfter()&&!b.isComposing()||e)}(a,h)}function bx(a,b){return dx(a)&&null!==a.nodeValue&&0!==b&&b!==a.nodeValue.length}function by(a,b,c){let{anchorNode:d,anchorOffset:e,focusNode:f,focusOffset:g}=a;bo&&(bo=!1,bx(d,e)&&bx(f,g)&&!bu)||c_(b,()=>{if(!c)return void dN(null);if(!dr(b,d,f))return;let h=cx();if(bu&&cg(h)&&h.isCollapsed()){let a=h.anchor,b=bu.anchor;(a.key===b.key&&a.offset===b.offset+1||1===a.offset&&b.getNode().is(a.getNode().getPreviousSibling()))&&dN(h=bu.clone())}if(bu=null,cg(h)){let c=h.anchor,d=c.getNode();if(h.isCollapsed()){"Range"===a.type&&a.anchorNode===a.focusNode&&(h.dirty=!0);let e=eb(b).event,f=e?e.timeStamp:performance.now(),[g,k,l,m,n]=bv,o=dL(),p=!1===b.isComposing()&&""===o.getTextContent();if(f<n+200&&c.offset===l&&c.key===m)bz(h,g,k);else if("text"===c.type)b6(d)||j(141),bA(h,d);else if("element"===c.type&&!p){var i;c3(d)||j(259);let a=c.getNode();a.isEmpty()?bz(h,(i=a).getTextFormat(),i.getTextStyle()):bz(h,0,"")}}else{let a=c.key,b=h.focus.key,d=h.getNodes(),f=d.length,i=h.isBackward(),j=i?g:e,k=i?e:g,l=i?b:a,m=i?a:b,n=2047,o=!1;for(let a=0;a<f;a++){let b=d[a],c=b.getTextContentSize();if(b6(b)&&0!==c&&(0!==a||b.__key!==l||j!==c)&&(a!==f-1||b.__key!==m||0!==k)&&(o=!0,0==(n&=b.getFormat())))break}h.format=o?n:0}}d4(b,aD,void 0)})}function bz(a,b,c){a.format===b&&a.style===c||(a.format=b,a.style=c,a.dirty=!0)}function bA(a,b){bz(a,b.getFormat(),b.getStyle())}function bB(a){if(!a.getTargetRanges)return null;let b=a.getTargetRanges();return 0===b.length?null:b[0]}function bC(a,b){let c=a._compositionKey;if(dD(null),null!==c&&null!=b){if(""===b){let b=dF(c),d=dz(a.getElementByKey(c));return void(null!==d&&null!==d.nodeValue&&b6(b)&&dU(b,d.nodeValue,null,null,!0))}if("\n"===b[b.length-1]){let b=cx();if(cg(b)){let c=b.focus;return b.anchor.set(c.key,c.offset,c.type),void d4(a,aY,null)}}}dT(!0,a,b)}function bD(a){let b=a.__lexicalEventHandles;return void 0===b&&(a.__lexicalEventHandles=b=[]),b}let bE=new Map;function bF(a){let b=function(a){let b=ea(a);return b?b.getSelection():null}(a.target);if(null===b)return;let c=dt(b.anchorNode);if(null===c)return;bp&&(bp=!1,c_(c,()=>{let d=cy(),e=b.anchorNode;(ei(e)||dx(e))&&dN(cw(d,b,c,a))}));let d=dQ(c),e=d[d.length-1],f=e._key,g=bE.get(f),h=g||e;h!==c&&by(b,h,!1),by(b,c,!0),c!==e?bE.set(f,c):g&&bE.delete(f)}function bG(a){a._lexicalHandled=!0}function bH(a){return!0===a._lexicalHandled}let bI=()=>{};function bJ(a,b,c){cN();let d=a.__key,e=a.getParent();if(null===e)return;let f=function(a){let b=cx();if(!cg(b)||!c3(a))return b;let{anchor:c,focus:d}=b,e=c.getNode(),f=d.getNode();return d9(e,a)&&c.set(a.__key,0,"element"),d9(f,a)&&d.set(a.__key,0,"element"),b}(a),g=!1;if(cg(f)&&b){let b=f.anchor,c=f.focus;b.key===d&&(cB(b,a,e,a.getPreviousSibling(),a.getNextSibling()),g=!0),c.key===d&&(cB(c,a,e,a.getPreviousSibling(),a.getNextSibling()),g=!0)}else ci(f)&&b&&a.isSelected()&&a.selectPrevious();if(cg(f)&&b&&!g){let b=a.getIndexWithinParent();dB(a),cz(f,e,b,-1)}else dB(a);c||ec(e)||e.canBeEmpty()||!e.isEmpty()||bJ(e,b),b&&f&&c8(e)&&e.isEmpty()&&e.selectEnd()}let bK=Symbol.for("ephemeral");function bL(a){return a[bK]||!1}class bM{__type;__key;__parent;__prev;__next;__state;static getType(){let{ownNodeType:a}=eu(this);return void 0===a&&j(64,this.name),a}static clone(a){j(65,this.name)}$config(){return{}}config(a,b){let c=b.extends||Object.getPrototypeOf(this.constructor);return Object.assign(b,{extends:c,type:a}),{[a]:b}}afterCloneFrom(a){this.__key===a.__key?(this.__parent=a.__parent,this.__next=a.__next,this.__prev=a.__prev,this.__state=a.__state):a.__state&&(this.__state=a.__state.getWritable(this))}static importDOM;constructor(a){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),function(a,b){let c=function(){let a=dk;return dk=null,a}();if(null!=(b=b||c&&c.__key))return a.__key=b;cN(),cO();let d=cQ(),e=cP(),f=""+dl++;e._nodeMap.set(f,a),c3(a)?d._dirtyElements.set(f,!0):d._dirtyLeaves.add(f),d._cloneNotNeeded.add(f),d._dirtyType=1,a.__key=f}(this,a)}getType(){return this.__type}isInline(){j(137,this.constructor.name)}isAttached(){let a=this.__key;for(;null!==a;){if("root"===a)return!0;let b=dF(a);if(null===b)break;a=b.__parent}return!1}isSelected(a){let b=a||cx();if(null==b)return!1;let c=b.getNodes().some(a=>a.__key===this.__key);if(b6(this))return c;if(cg(b)&&"element"===b.anchor.type&&"element"===b.focus.type){if(b.isCollapsed())return!1;let a=this.getParent();if(c6(this)&&this.isInline()&&a){let c=b.isBackward()?b.focus:b.anchor;if(a.is(c.getNode())&&c.offset===a.getChildrenSize()&&this.is(a.getLastChild()))return!1}}return c}getKey(){return this.__key}getIndexWithinParent(){let a=this.getParent();if(null===a)return -1;let b=a.getFirstChild(),c=0;for(;null!==b;){if(this.is(b))return c;c++,b=b.getNextSibling()}return -1}getParent(){let a=this.getLatest().__parent;return null===a?null:dF(a)}getParentOrThrow(){let a=this.getParent();return null===a&&j(66,this.__key),a}getTopLevelElement(){let a=this;for(;null!==a;){let b=a.getParent();if(ec(b))return c3(a)||a===this&&c6(a)||j(194),a;a=b}return null}getTopLevelElementOrThrow(){let a=this.getTopLevelElement();return null===a&&j(67,this.__key),a}getParents(){let a=[],b=this.getParent();for(;null!==b;)a.push(b),b=b.getParent();return a}getParentKeys(){let a=[],b=this.getParent();for(;null!==b;)a.push(b.__key),b=b.getParent();return a}getPreviousSibling(){let a=this.getLatest().__prev;return null===a?null:dF(a)}getPreviousSiblings(){let a=[],b=this.getParent();if(null===b)return a;let c=b.getFirstChild();for(;null!==c&&!c.is(this);)a.push(c),c=c.getNextSibling();return a}getNextSibling(){let a=this.getLatest().__next;return null===a?null:dF(a)}getNextSiblings(){let a=[],b=this.getNextSibling();for(;null!==b;)a.push(b),b=b.getNextSibling();return a}getCommonAncestor(a){let b=c3(this)?this:this.getParent(),c=c3(a)?a:a.getParent(),d=b&&c?eW(b,c):null;return d?d.commonAncestor:null}is(a){return null!=a&&this.__key===a.__key}isBefore(a){let b=eW(this,a);return null!==b&&("descendant"===b.type||("branch"===b.type?-1===eU(b):("same"!==b.type&&"ancestor"!==b.type&&j(279),!1)))}isParentOf(a){let b=eW(this,a);return null!==b&&"ancestor"===b.type}getNodesBetween(a){let b=this.isBefore(a),c=[],d=new Set,e=this;for(;null!==e;){let f=e.__key;if(d.has(f)||(d.add(f),c.push(e)),e===a)break;let g=c3(e)?b?e.getFirstChild():e.getLastChild():null;if(null!==g){e=g;continue}let h=b?e.getNextSibling():e.getPreviousSibling();if(null!==h){e=h;continue}let i=e.getParentOrThrow();if(d.has(i.__key)||c.push(i),i===a)break;let k=null,l=i;do{if(null===l&&j(68),k=b?l.getNextSibling():l.getPreviousSibling(),null===(l=l.getParent()))break;null!==k||d.has(l.__key)||c.push(l)}while(null===k);e=k}return b||c.reverse(),c}isDirty(){let a=cQ()._dirtyLeaves;return null!==a&&a.has(this.__key)}getLatest(){if(bL(this))return this;let a=dF(this.__key);return null===a&&j(113),a}getWritable(){if(bL(this))return this;cN();let a=cP(),b=cQ(),c=a._nodeMap,d=this.__key,e=this.getLatest(),f=b._cloneNotNeeded,g=cx();if(null!==g&&g.setCachedNodes(null),f.has(d))return dC(e),e;let h=er(e);return f.add(d),dC(h),c.set(d,h),h}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(a,b){j(70)}updateDOM(a,b,c){j(71)}exportDOM(a){return{element:this.createDOM(a._config,a)}}exportJSON(){let a=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...a}}static importJSON(a){j(18,this.name)}updateFromJSON(a){return function(a,b){let c=a.getWritable(),d=b.$,e=d;for(let a of Q(c).flatKeys)a in b&&(void 0!==e&&e!==d||(e={...d}),e[a]=b[a]);return(c.__state||e)&&(function(a){let b=a.getWritable(),c=b.__state?b.__state.getWritable(b):new P(b,Q(b));return b.__state=c,c})(a).updateFromJSON(e),c}(this,a)}static transform(){return null}remove(a){bJ(this,!0,a)}replace(a,b){cN();let c=cx();null!==c&&(c=c.clone()),ee(this,a);let d=this.getLatest(),e=this.__key,f=a.__key,g=a.getWritable(),h=this.getParentOrThrow().getWritable(),i=h.__size;dB(g);let k=d.getPreviousSibling(),l=d.getNextSibling(),m=d.__prev,n=d.__next,o=d.__parent;if((bJ(d,!1,!0),null===k)?h.__first=f:k.getWritable().__next=f,(g.__prev=m,null===l)?h.__last=f:l.getWritable().__prev=f,g.__next=n,g.__parent=o,h.__size=i,b&&(c3(this)&&c3(g)||j(139),this.getChildren().forEach(a=>{g.append(a)})),cg(c)){dN(c);let a=c.anchor,b=c.focus;a.key===e&&ce(a,g),b.key===e&&ce(b,g)}return dE()===e&&dD(f),g}insertAfter(a,b=!0){cN(),ee(this,a);let c=this.getWritable(),d=a.getWritable(),e=d.getParent(),f=cx(),g=!1,h=!1;if(null!==e){let b=a.getIndexWithinParent();if(dB(d),cg(f)){let a=e.__key,c=f.anchor,d=f.focus;g="element"===c.type&&c.key===a&&c.offset===b+1,h="element"===d.type&&d.key===a&&d.offset===b+1}}let i=this.getNextSibling(),j=this.getParentOrThrow().getWritable(),k=d.__key,l=c.__next;if(null===i?j.__last=k:i.getWritable().__prev=k,j.__size++,c.__next=k,d.__next=l,d.__prev=c.__key,d.__parent=c.__parent,b&&cg(f)){let a=this.getIndexWithinParent();cz(f,j,a+1);let b=j.__key;g&&f.anchor.set(b,a+2,"element"),h&&f.focus.set(b,a+2,"element")}return a}insertBefore(a,b=!0){cN(),ee(this,a);let c=this.getWritable(),d=a.getWritable(),e=d.__key;dB(d);let f=this.getPreviousSibling(),g=this.getParentOrThrow().getWritable(),h=c.__prev,i=this.getIndexWithinParent();null===f?g.__first=e:f.getWritable().__next=e,g.__size++,c.__prev=e,d.__prev=h,d.__next=c.__key,d.__parent=c.__parent;let j=cx();return b&&cg(j)&&cz(j,this.getParentOrThrow(),i),a}isParentRequired(){return!1}createParentElementNode(){return df()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(a,b){cN();let c=this.getPreviousSibling(),d=this.getParentOrThrow();if(null===c)return d.select(0,0);if(c3(c))return c.select();if(!b6(c)){let a=c.getIndexWithinParent()+1;return d.select(a,a)}return c.select(a,b)}selectNext(a,b){cN();let c=this.getNextSibling(),d=this.getParentOrThrow();if(null===c)return d.select();if(c3(c))return c.select(0,0);if(!b6(c)){let a=c.getIndexWithinParent();return d.select(a,a)}return c.select(a,b)}markDirty(){this.getWritable()}reconcileObservedMutation(a,b){this.markDirty()}}let bN="history-merge";class bO extends bM{static getType(){return"linebreak"}static clone(a){return new bO(a.__key)}constructor(a){super(a)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:a=>(function(a){let b=a.parentElement;if(null!==b&&em(b)){let c=b.firstChild;if(c===a||c.nextSibling===a&&bS(c)){let c=b.lastChild;if(c===a||c.previousSibling===a&&bS(c))return!0}}return!1})(a)||function(a){let b=a.parentElement;if(null!==b&&em(b)){let c=b.firstChild;if(c===a||c.nextSibling===a&&bS(c))return!1;let d=b.lastChild;if(d===a||d.previousSibling===a&&bS(d))return!0}return!1}(a)?null:{conversion:bP,priority:0}}}static importJSON(a){return bQ().updateFromJSON(a)}}function bP(a){return{node:bQ()}}function bQ(){return ed(new bO)}function bR(a){return a instanceof bO}function bS(a){return dx(a)&&/^( |\t|\r?\n)+$/.test(a.textContent||"")}function bT(a,b){return 16&b?"code":128&b?"mark":32&b?"sub":64&b?"sup":null}function bU(a,b){return 1&b?"strong":2&b?"em":"span"}function bV(a,b,c,d,e){let f=d.classList,g=d_(e,"base");void 0!==g&&f.add(...g);let h=!1,i=8&b&&4&b;for(let a in void 0!==(g=d_(e,"underlineStrikethrough"))&&(8&c&&4&c?(h=!0,i||f.add(...g)):i&&f.remove(...g)),B){let d=B[a];if(void 0!==(g=d_(e,a)))if(c&d){if(h&&("underline"===a||"strikethrough"===a)){b&d&&f.remove(...g);continue}(0==(b&d)||i&&"underline"===a||"strikethrough"===a)&&f.add(...g)}else b&d&&f.remove(...g)}}function bW(a,b,c){let d=b.firstChild,e=c.isComposing(),f=a+(e?x:"");if(null==d)b.textContent=f;else{let a=d.nodeValue;if(a!==f)if(e||o){let[b,c,e]=function(a,b){let c=a.length,d=b.length,e=0,f=0;for(;e<c&&e<d&&a[e]===b[e];)e++;for(;f+e<c&&f+e<d&&a[c-f-1]===b[d-f-1];)f++;return[e,c-e-f,b.slice(e,d-f)]}(a,f);0!==c&&d.deleteData(b,c),d.insertData(b,e)}else d.nodeValue=f}}function bX(a,b,c,d,e,f){bW(e,a,b);let g=f.theme.text;void 0!==g&&bV(0,0,d,a,g)}function bY(a,b){let c=document.createElement(b);return c.appendChild(a),c}class bZ extends bM{__text;__format;__style;__mode;__detail;static getType(){return"text"}static clone(a){return new bZ(a.__text,a.__key)}afterCloneFrom(a){super.afterCloneFrom(a),this.__text=a.__text,this.__format=a.__format,this.__style=a.__style,this.__mode=a.__mode,this.__detail=a.__detail}constructor(a="",b){super(b),this.__text=a,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){return G[this.getLatest().__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===dE()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(a){let b=B[a];return 0!=(this.getFormat()&b)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(a,b){return dA(this.getLatest().__format,a,b)}canHaveFormat(){return!0}isInline(){return!0}createDOM(a,b){let c=this.__format,d=bT(0,c),e=bU(0,c),f=null===d?e:d,g=document.createElement(f),h=g;this.hasFormat("code")&&g.setAttribute("spellcheck","false"),null!==d&&(h=document.createElement(e),g.appendChild(h)),bX(h,this,0,c,this.__text,a);let i=this.__style;return""!==i&&(g.style.cssText=i),g}updateDOM(a,b,c){let d=this.__text,e=a.__format,f=this.__format,g=bT(0,e),h=bT(0,f),i=bU(0,e),k=bU(0,f);if((null===g?i:g)!==(null===h?k:h))return!0;if(g===h&&i!==k){let a=b.firstChild;null==a&&j(48);let e=document.createElement(k);return bX(e,this,0,f,d,c),b.replaceChild(e,a),!1}let l=b;null!==h&&null!==g&&null==(l=b.firstChild)&&j(49),bW(d,l,this);let m=c.theme.text;void 0!==m&&e!==f&&bV(0,e,f,l,m);let n=a.__style,o=this.__style;return n!==o&&(b.style.cssText=o),!1}static importDOM(){return{"#text":()=>({conversion:b1,priority:0}),b:()=>({conversion:b_,priority:0}),code:()=>({conversion:b4,priority:0}),em:()=>({conversion:b4,priority:0}),i:()=>({conversion:b4,priority:0}),mark:()=>({conversion:b4,priority:0}),s:()=>({conversion:b4,priority:0}),span:()=>({conversion:b$,priority:0}),strong:()=>({conversion:b4,priority:0}),sub:()=>({conversion:b4,priority:0}),sup:()=>({conversion:b4,priority:0}),u:()=>({conversion:b4,priority:0})}}static importJSON(a){return b5().updateFromJSON(a)}updateFromJSON(a){return super.updateFromJSON(a).setTextContent(a.text).setFormat(a.format).setDetail(a.detail).setMode(a.mode).setStyle(a.style)}exportDOM(a){let{element:b}=super.exportDOM(a);return ei(b)||j(132),b.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?b.style.textTransform="lowercase":this.hasFormat("uppercase")?b.style.textTransform="uppercase":this.hasFormat("capitalize")&&(b.style.textTransform="capitalize"),this.hasFormat("bold")&&(b=bY(b,"b")),this.hasFormat("italic")&&(b=bY(b,"i")),this.hasFormat("strikethrough")&&(b=bY(b,"s")),this.hasFormat("underline")&&(b=bY(b,"u")),{element:b}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(a,b){}setFormat(a){let b=this.getWritable();return b.__format="string"==typeof a?B[a]:a,b}setDetail(a){let b=this.getWritable();return b.__detail="string"==typeof a?C[a]:a,b}setStyle(a){let b=this.getWritable();return b.__style=a,b}toggleFormat(a){let b=dA(this.getFormat(),a,null);return this.setFormat(b)}toggleDirectionless(){let a=this.getWritable();return a.__detail^=1,a}toggleUnmergeable(){let a=this.getWritable();return a.__detail^=2,a}setMode(a){let b=F[a];if(this.__mode===b)return this;let c=this.getWritable();return c.__mode=b,c}setTextContent(a){if(this.__text===a)return this;let b=this.getWritable();return b.__text=a,b}select(a,b){cN();let c=a,d=b,e=cx(),f=this.getTextContent(),g=this.__key;if("string"==typeof f){let a=f.length;void 0===c&&(c=a),void 0===d&&(d=a)}else c=0,d=0;if(!cg(e))return ct(g,c,g,d,"text","text");{let a=dE();a!==e.anchor.key&&a!==e.focus.key||dD(g),e.setTextNodeRange(this,c,this,d)}return e}selectStart(){return this.select(0,0)}selectEnd(){let a=this.getTextContentSize();return this.select(a,a)}spliceText(a,b,c,d){let e=this.getWritable(),f=e.__text,g=c.length,h=a;h<0&&(h=g+h)<0&&(h=0);let i=cx();if(d&&cg(i)){let b=a+g;i.setTextNodeRange(e,b,e,b)}return e.__text=f.slice(0,h)+c+f.slice(h+b),e}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...a){let b;cN();let c=this.getLatest(),d=c.getTextContent();if(""===d)return[];let e=c.__key,f=dE(),g=d.length;a.sort((a,b)=>a-b),a.push(g);let h=[],i=a.length;for(let b=0,c=0;b<g&&c<=i;c++){let e=a[c];e>b&&(h.push(d.slice(b,e)),b=e)}let j=h.length;if(1===j)return[c];let k=h[0],l=c.getParent(),m=c.getFormat(),n=c.getStyle(),o=c.__detail,p=!1,q=null,r=null,s=cx();if(cg(s)){let[a,b]=s.isBackward()?[s.focus,s.anchor]:[s.anchor,s.focus];"text"===a.type&&a.key===e&&(q=a),"text"===b.type&&b.key===e&&(r=b)}c.isSegmented()?((b=b5(k)).__format=m,b.__style=n,b.__detail=o,b.__state=U(c,b),p=!0):b=c.setTextContent(k);let t=[b];for(let a=1;a<j;a++){let b=b5(h[a]);b.__format=m,b.__style=n,b.__detail=o,b.__state=U(c,b);let d=b.__key;f===e&&dD(d),t.push(b)}let u=q?q.offset:null,v=r?r.offset:null,w=0;for(let a of t){if(!q&&!r)break;let b=w+a.getTextContentSize();if(null!==q&&null!==u&&u<=b&&u>=w&&(q.set(a.getKey(),u-w,"text"),u<b&&(q=null)),null!==r&&null!==v&&v<=b&&v>=w){r.set(a.getKey(),v-w,"text");break}w=b}if(null!==l){let a=this.getPreviousSibling(),b=this.getNextSibling();null!==a&&dC(a),null!==b&&dC(b);let c=l.getWritable(),d=this.getIndexWithinParent();p?(c.splice(d,0,t),this.remove()):c.splice(d,1,t),cg(s)&&cz(s,l,d,j-1)}return t}mergeWithSibling(a){let b=a===this.getPreviousSibling();b||a===this.getNextSibling()||j(50);let c=this.__key,d=a.__key,e=this.__text,f=e.length;dE()===d&&dD(c);let g=cx();if(cg(g)){let e=g.anchor,h=g.focus;null!==e&&e.key===d&&cC(e,b,c,a,f),null!==h&&h.key===d&&cC(h,b,c,a,f)}let h=a.__text,i=b?h+e:e+h;this.setTextContent(i);let k=this.getWritable();return a.remove(),k}isTextEntity(){return!1}}function b$(a){return{forChild:b7(a.style),node:null}}function b_(a){let b="normal"===a.style.fontWeight;return{forChild:b7(a.style,b?void 0:"bold"),node:null}}let b0=new WeakMap;function b1(a){null===a.parentElement&&j(129);let b=a.textContent||"";if(null!==function(a){let b,c=a.parentNode,d=[a];for(;null!==c&&void 0===(b=b0.get(c))&&!function(a){if(!ei(a))return!1;if("PRE"===a.nodeName)return!0;let b=a.style.whiteSpace;return"string"==typeof b&&b.startsWith("pre")}(c);)d.push(c),c=c.parentNode;let e=void 0===b?c:b;for(let a=0;a<d.length;a++)b0.set(d[a],e);return e}(a)){let a=b.split(/(\r?\n|\t)/),c=[],d=a.length;for(let b=0;b<d;b++){let d=a[b];"\n"===d||"\r\n"===d?c.push(bQ()):"	"===d?c.push(b9()):""!==d&&c.push(b5(d))}return{node:c}}if(""===(b=b.replace(/\r/g,"").replace(/[ \t\n]+/g," ")))return{node:null};if(" "===b[0]){let c=a,d=!0;for(;null!==c&&null!==(c=b2(c,!1));){let a=c.textContent||"";if(a.length>0){/[ \t\n]$/.test(a)&&(b=b.slice(1)),d=!1;break}}d&&(b=b.slice(1))}if(" "===b[b.length-1]){let c=a,d=!0;for(;null!==c&&null!==(c=b2(c,!0));)if((c.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){d=!1;break}d&&(b=b.slice(0,b.length-1))}return""===b?{node:null}:{node:b5(b)}}function b2(a,b){let c=a;for(;;){let a;for(;null===(a=b?c.nextSibling:c.previousSibling);){let a=c.parentElement;if(null===a)return null;c=a}if(ei(c=a)){let a=c.style.display;if(""===a&&!el(c)||""!==a&&!a.startsWith("inline"))return null}let d=c;for(;null!==(d=b?c.firstChild:c.lastChild);)c=d;if(dx(c))return c;if("BR"===c.nodeName)return null}}let b3={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function b4(a){let b=b3[a.nodeName.toLowerCase()];return void 0===b?{node:null}:{forChild:b7(a.style,b),node:null}}function b5(a=""){return ed(new bZ(a))}function b6(a){return a instanceof bZ}function b7(a,b){let c=a.fontWeight,d=a.textDecoration.split(" "),e="700"===c||"bold"===c,f=d.includes("line-through"),g="italic"===a.fontStyle,h=d.includes("underline"),i=a.verticalAlign;return a=>(b6(a)&&(e&&!a.hasFormat("bold")&&a.toggleFormat("bold"),f&&!a.hasFormat("strikethrough")&&a.toggleFormat("strikethrough"),g&&!a.hasFormat("italic")&&a.toggleFormat("italic"),h&&!a.hasFormat("underline")&&a.toggleFormat("underline"),"sub"!==i||a.hasFormat("subscript")||a.toggleFormat("subscript"),"super"!==i||a.hasFormat("superscript")||a.toggleFormat("superscript"),b&&!a.hasFormat(b)&&a.toggleFormat(b)),a)}class b8 extends bZ{static getType(){return"tab"}static clone(a){return new b8(a.__key)}constructor(a){super("	",a),this.__detail=2}static importDOM(){return null}createDOM(a){let b=super.createDOM(a),c=d_(a.theme,"tab");return void 0!==c&&b.classList.add(...c),b}static importJSON(a){return b9().updateFromJSON(a)}setTextContent(a){return"	"!==a&&""!==a&&k(126),super.setTextContent("	")}spliceText(a,b,c,d){return""===c&&0===b||"	"===c&&1===b||j(286),this}setDetail(a){return 2!==a&&j(127),this}setMode(a){return"normal"!==a&&j(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function b9(){return ed(new b8)}function ca(a){return a instanceof b8}class cb{key;offset;type;_selection;constructor(a,b,c){this._selection=null,this.key=a,this.offset=b,this.type=c}is(a){return this.key===a.key&&this.offset===a.offset&&this.type===a.type}isBefore(a){return this.key===a.key?this.offset<a.offset:0>eT(e2(eX(this,"next")),e2(eX(a,"next")))}getNode(){let a=dF(this.key);return null===a&&j(20),a}set(a,b,c,d){let e=this._selection,f=this.key;d&&this.key===a&&this.offset===b&&this.type===c||(this.key=a,this.offset=b,this.type=c,cM()||(dE()===f&&dD(a),null!==e&&(e.setCachedNodes(null),e.dirty=!0)))}}function cc(a,b,c){return new cb(a,b,c)}function cd(a,b){let c=b.__key,d=a.offset,e="element";if(b6(b)){e="text";let a=b.getTextContentSize();d>a&&(d=a)}else if(!c3(b)){let a=b.getNextSibling();if(b6(a))c=a.__key,d=0,e="text";else{let a=b.getParent();a&&(c=a.__key,d=b.getIndexWithinParent()+1)}}a.set(c,d,e)}function ce(a,b){if(c3(b)){let c=b.getLastDescendant();c3(c)||b6(c)?cd(a,c):cd(a,b)}else cd(a,b)}class cf{_nodes;_cachedNodes;dirty;constructor(a){this._cachedNodes=null,this._nodes=a,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(a){this._cachedNodes=a}is(a){if(!ci(a))return!1;let b=this._nodes,c=a._nodes;return b.size===c.size&&Array.from(b).every(a=>c.has(a))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(a){this.dirty=!0,this._nodes.add(a),this._cachedNodes=null}delete(a){this.dirty=!0,this._nodes.delete(a),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(a){return this._nodes.has(a)}clone(){return new cf(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(a){}insertText(){}insertNodes(a){let b,c=this.getNodes(),d=c.length,e=c[d-1];if(b6(e))b=e.select();else{let a=e.getIndexWithinParent()+1;b=e.getParentOrThrow().select(a,a)}b.insertNodes(a);for(let a=0;a<d;a++)c[a].remove()}getNodes(){let a=this._cachedNodes;if(null!==a)return a;let b=this._nodes,c=[];for(let a of b){let b=dF(a);null!==b&&c.push(b)}return cM()||(this._cachedNodes=c),c}getTextContent(){let a=this.getNodes(),b="";for(let c=0;c<a.length;c++)b+=a[c].getTextContent();return b}deleteNodes(){let a=this.getNodes();if((cx()||cy())===this&&a[0]){let c=eJ(a[0],"next");var b=eR(c,c);let d=cx(),e=cg(d)?d:cu();eZ(e,b),dN(e)}for(let b of a)b.remove()}}function cg(a){return a instanceof ch}class ch{format;style;anchor;focus;_cachedNodes;dirty;constructor(a,b,c,d){this.anchor=a,this.focus=b,a._selection=this,b._selection=this,this._cachedNodes=null,this.format=c,this.style=d,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(a){this._cachedNodes=a}is(a){return!!cg(a)&&this.anchor.is(a.anchor)&&this.focus.is(a.focus)&&this.format===a.format&&this.style===a.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){let a=this._cachedNodes;if(null!==a)return a;let b=function(a){let b=[],[c,d]=a.getTextSlices();c&&b.push(c.caret.origin);let e=new Set,f=new Set;for(let c of a)if(eF(c)){let{origin:a}=c;0===b.length?e.add(a):(f.add(a),b.push(a))}else{let{origin:a}=c;c3(a)&&f.has(a)||b.push(a)}if(d&&b.push(d.caret.origin),eE(a.focus)&&c3(a.focus.origin)&&null===a.focus.getNodeAtCaret())for(let c=eM(a.focus.origin,"previous");eF(c)&&e.has(c.origin)&&!c.origin.isEmpty()&&c.origin.is(b[b.length-1]);c=eN(c))e.delete(c.origin),b.pop();for(;b.length>1;){let a=b[b.length-1];if(!c3(a)||f.has(a)||a.isEmpty()||e.has(a))break;b.pop()}if(0===b.length&&a.isCollapsed()){let c=e2(a.anchor),d=e2(a.anchor.getFlipped()),e=a=>eD(a)?a.origin:a.getNodeAtCaret(),f=e(c)||e(d)||(a.anchor.getNodeAtCaret()?c.origin:d.origin);b.push(f)}return b}(e5(e$(this),"next"));return cM()||(this._cachedNodes=b),b}setTextNodeRange(a,b,c,d){this.anchor.set(a.__key,b,"text"),this.focus.set(c.__key,d,"text")}getTextContent(){let a=this.getNodes();if(0===a.length)return"";let b=a[0],c=a[a.length-1],d=this.anchor,e=this.focus,f=d.isBefore(e),[g,h]=ck(this),i="",j=!0;for(let k=0;k<a.length;k++){let l=a[k];if(c3(l)&&!l.isInline())j||(i+="\n"),j=!l.isEmpty();else if(j=!1,b6(l)){let a=l.getTextContent();l===b?l===c?"element"===d.type&&"element"===e.type&&e.offset!==d.offset||(a=g<h?a.slice(g,h):a.slice(h,g)):a=f?a.slice(g):a.slice(h):l===c&&(a=f?a.slice(0,h):a.slice(0,g)),i+=a}else!c6(l)&&!bR(l)||l===c&&this.isCollapsed()||(i+=l.getTextContent())}return i}applyDOMRange(a){let b=cQ(),c=b.getEditorState()._selection,d=cr(a.startContainer,a.startOffset,a.endContainer,a.endOffset,b,c);if(null===d)return;let[e,f]=d;this.anchor.set(e.key,e.offset,e.type,!0),this.focus.set(f.key,f.offset,f.type,!0),Y(this)}clone(){let a=this.anchor,b=this.focus;return new ch(cc(a.key,a.offset,a.type),cc(b.key,b.offset,b.type),this.format,this.style)}toggleFormat(a){this.format=dA(this.format,a,null),this.dirty=!0}setFormat(a){this.format=a,this.dirty=!0}setStyle(a){this.style=a,this.dirty=!0}hasFormat(a){let b=B[a];return 0!=(this.format&b)}insertRawText(a){let b=a.split(/(\r?\n|\t)/),c=[],d=b.length;for(let a=0;a<d;a++){let d=b[a];"\n"===d||"\r\n"===d?c.push(bQ()):"	"===d?c.push(b9()):c.push(b5(d))}this.insertNodes(c)}insertText(a){let b=this.anchor,c=this.focus,d=this.format,e=this.style,f=b,g=c;!this.isCollapsed()&&c.isBefore(b)&&(f=c,g=b),"element"===f.type&&function(a,b,c,d){let e=a.getNode(),f=e.getChildAtIndex(a.offset),g=b5();if(g.setFormat(c),g.setStyle(d),dg(f))f.splice(0,0,[g]);else{let a=c8(e)?df().append(g):g;null===f?e.append(a):f.insertBefore(a)}a.is(b)&&b.set(g.__key,0,"text"),a.set(g.__key,0,"text")}(f,g,d,e),"element"===g.type&&eY(g,e2(eX(g,"next")));let h=f.offset,i=g.offset,k=this.getNodes(),l=k.length,m=k[0];b6(m)||j(26);let n=m.getTextContent().length,o=m.getParentOrThrow(),p=k[l-1];if(1===l&&"element"===g.type&&(i=n,g.set(f.key,i,"text")),this.isCollapsed()&&h===n&&(dw(m)||!m.canInsertTextAfter()||!o.canInsertTextAfter()&&null===m.getNextSibling())){let b=m.getNextSibling();if(b6(b)&&b.canInsertTextBefore()&&!dw(b)||((b=b5()).setFormat(d),b.setStyle(e),o.canInsertTextAfter()?m.insertAfter(b):o.insertAfter(b)),b.select(0,0),m=b,""!==a)return void this.insertText(a)}else if(this.isCollapsed()&&0===h&&(dw(m)||!m.canInsertTextBefore()||!o.canInsertTextBefore()&&null===m.getPreviousSibling())){let b=m.getPreviousSibling();if(b6(b)&&!dw(b)||((b=b5()).setFormat(d),o.canInsertTextBefore()?m.insertBefore(b):o.insertBefore(b)),b.select(),m=b,""!==a)return void this.insertText(a)}else if(m.isSegmented()&&h!==n){let a=b5(m.getTextContent());a.setFormat(d),m.replace(a),m=a}else if(!this.isCollapsed()&&""!==a){let b=p.getParent();if(!o.canInsertTextBefore()||!o.canInsertTextAfter()||c3(b)&&(!b.canInsertTextBefore()||!b.canInsertTextAfter()))return this.insertText(""),cq(this.anchor,this.focus,null),void this.insertText(a)}if(1===l){if(dv(m)){let b=b5(a);return b.select(),void m.replace(b)}let b=m.getFormat(),c=m.getStyle();if(h!==i||b===d&&c===e){if(ca(m)){let b=b5(a);return b.setFormat(d),b.setStyle(e),b.select(),void m.replace(b)}}else{if(""!==m.getTextContent()){let b=b5(a);if(b.setFormat(d),b.setStyle(e),b.select(),0===h)m.insertBefore(b,!1);else{let[a]=m.splitText(h);a.insertAfter(b,!1)}return void(b.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=a.length))}m.setFormat(d),m.setStyle(e)}let f=i-h;""===(m=m.spliceText(h,f,a,!0)).getTextContent()?m.remove():"text"===this.anchor.type&&(m.isComposing()?this.anchor.offset-=a.length:(this.format=b,this.style=c))}else{let b=new Set([...m.getParentKeys(),...p.getParentKeys()]),c=c3(m)?m:m.getParentOrThrow(),d=c3(p)?p:p.getParentOrThrow(),e=p;if(!c.is(d)&&d.isInline())do e=d,d=d.getParentOrThrow();while(d.isInline());if("text"===g.type&&(0!==i||""===p.getTextContent())||"element"===g.type&&p.getIndexWithinParent()<i)if(b6(p)&&!dv(p)&&i!==p.getTextContentSize()){if(p.isSegmented()){let a=b5(p.getTextContent());p.replace(a),p=a}c8(g.getNode())||"text"!==g.type||(p=p.spliceText(0,i,"")),b.add(p.__key)}else{let a=p.getParentOrThrow();a.canBeEmpty()||1!==a.getChildrenSize()?p.remove():a.remove()}else b.add(p.__key);let f=d.getChildren(),j=new Set(k),o=c.is(d),q=c.isInline()&&null===m.getNextSibling()?c:m;for(let a=f.length-1;a>=0;a--){let b=f[a];if(b.is(m)||c3(b)&&b.isParentOf(m))break;b.isAttached()&&(!j.has(b)||b.is(e)?o||q.insertAfter(b,!1):b.remove())}if(!o){let a=d,c=null;for(;null!==a;){let d=a.getChildren(),e=d.length;(0===e||d[e-1].is(c))&&(b.delete(a.__key),c=a),a=a.getParent()}}if(dv(m))if(h===n)m.select();else{let b=b5(a);b.select(),m.replace(b)}else""===(m=m.spliceText(h,n-h,a,!0)).getTextContent()?m.remove():m.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=a.length);for(let a=1;a<l;a++){let c=k[a],d=c.__key;b.has(d)||c.remove()}}}removeText(){let a=cx()===this;eZ(this,function(a,b="removeEmptySlices"){let c,d;if(a.isCollapsed())return a;let e="root",f="next",g=b,h=e5(a,f),i=e0(h.anchor,e),k=e0(h.focus.getFlipped(),e),l=new Set,m=[];for(let a of h.iterNodeCarets(e))if(eF(a))l.add(a.origin.getKey());else if(eE(a)){let{origin:b}=a;c3(b)&&!l.has(b.getKey())||m.push(b)}for(let a of m)a.remove();for(let a of h.getTextSlices()){if(!a)continue;let{origin:b}=a.caret,c=b.getTextContentSize(),d=e_(eJ(b,f)),e=b.getMode();if(Math.abs(a.distance)===c&&"removeEmptySlices"===g||"token"===e&&0!==a.distance)d.remove();else if(0!==a.distance){g="removeEmptySlices";let b=a.removeTextSlice(),c=a.caret.origin;if("segmented"===e){let a=b.origin,c=b5(a.getTextContent()).setStyle(a.getStyle()).setFormat(a.getFormat());d.replaceOrInsert(c),b=eK(c,f,b.offset)}c.is(i[0].origin)&&(i[0]=b),c.is(k[0].origin)&&(k[0]=b.getFlipped())}}for(let a of i)if(e1(a)){c=e2(a);break}for(let a of k)if(e1(a)){d=e2(a);break}let n=function(a,b,c){let d;if(!a||!b)return null;let e=a.getParentAtCaret(),f=b.getParentAtCaret();if(!e||!f)return null;let g=e.getParents().reverse();g.push(e);let h=f.getParents().reverse();h.push(f);let i=Math.min(g.length,h.length);for(d=0;d<i&&g[d]===h[d];d++);let j=(a,b)=>{let c;for(let e=d;e<a.length;e++){let d=a[e];if(ec(d))return;!c&&b(d)&&(c=d)}return c},k=j(g,en),l=k&&j(h,a=>c.has(a.getKey())&&en(a));return k&&l?[k,l]:null}(c,d,l);if(n){let[a,b]=n;eM(a,"previous").splice(0,b.getChildren()),b.remove()}let o=[c,d,...i,...k].find(e1);if(o){var p;return eR(p=e4(e2(o),a.direction),p)}j(269,JSON.stringify(i.map(a=>a.origin.__key)))}(e$(this))),a&&cx()!==this&&dN(this)}formatText(a,b=null){if(this.isCollapsed())return this.toggleFormat(a),void dD(null);let c=this.getNodes(),d=[];for(let a of c)b6(a)&&d.push(a);let e=b=>{c.forEach(c=>{if(c3(c)){let d=c.getFormatFlags(a,b);c.setTextFormat(d)}})},f=d.length;if(0===f)return this.toggleFormat(a),dD(null),void e(b);let g=this.anchor,h=this.focus,i=this.isBackward(),j=i?h:g,k=i?g:h,l=0,m=d[0],n="element"===j.type?0:j.offset;if("text"===j.type&&n===m.getTextContentSize()&&(l=1,m=d[1],n=0),null==m)return;let o=m.getFormatFlags(a,b);e(o);let p=f-1,q=d[p],r="text"===k.type?k.offset:q.getTextContentSize();if(m.is(q)){if(n===r)return;if(dw(m)||0===n&&r===m.getTextContentSize())m.setFormat(o);else{let a=m.splitText(n,r),b=0===n?a[0]:a[1];b.setFormat(o),"text"===j.type&&j.set(b.__key,0,"text"),"text"===k.type&&k.set(b.__key,r-n,"text")}return void(this.format=o)}0===n||dw(m)||([,m]=m.splitText(n),n=0),m.setFormat(o);let s=q.getFormatFlags(a,o);r>0&&(r===q.getTextContentSize()||dw(q)||([q]=q.splitText(r)),q.setFormat(s));for(let b=l+1;b<p;b++){let c=d[b],e=c.getFormatFlags(a,s);c.setFormat(e)}"text"===j.type&&j.set(m.__key,n,"text"),"text"===k.type&&k.set(q.__key,r,"text"),this.format=o|s}insertNodes(a){var b;if(0===a.length)return;if(this.isCollapsed()||this.removeText(),"root"===this.anchor.key){this.insertParagraph();let b=cx();return cg(b)||j(134),b.insertNodes(a)}let c=(this.isBackward()?this.focus:this.anchor).getNode(),d=ev(c,en),e=a[a.length-1];if(c3(d)&&"__language"in d){if("__language"in a[0])this.insertText(a[0].getTextContent());else{let b=cE(this);d.splice(b,0,a),e.selectEnd()}return}if(!a.some(a=>(c3(a)||c6(a))&&!a.isInline())){c3(d)||j(211,c.constructor.name,c.getType());let b=cE(this);return d.splice(b,0,a),void e.selectEnd()}let f=function(a){let b=df(),c=null;for(let d=0;d<a.length;d++){let e=a[d],f=bR(e);if(f||c6(e)&&e.isInline()||c3(e)&&e.isInline()||b6(e)||e.isParentRequired()){if(null===c&&(c=e.createParentElementNode(),b.append(c),f))continue;null!==c&&c.append(e)}else b.append(e),c=null}return b}(a),g=f.getLastDescendant(),h=f.getChildren(),i=c3(d)&&d.isEmpty()?null:this.insertParagraph(),k=h[h.length-1],l=h[0];c3(b=l)&&en(b)&&!b.isEmpty()&&c3(d)&&(!d.isEmpty()||d.canMergeWhenEmpty())&&(c3(d)||j(211,c.constructor.name,c.getType()),d.append(...l.getChildren()),l=h[1]),l&&(null===d&&j(212,c.constructor.name,c.getType()),function(a,b){let c=b.getParentOrThrow().getLastChild(),d=b,e=[b];for(;d!==c;)d.getNextSibling()||j(140),e.push(d=d.getNextSibling());let f=a;for(let a of e)f=f.insertAfter(a)}(d,l));let m=ev(g,en);i&&c3(m)&&(i.canMergeWhenEmpty()||en(k))&&(m.append(...i.getChildren()),i.remove()),c3(d)&&d.isEmpty()&&d.remove(),g.selectEnd();let n=c3(d)?d.getLastChild():null;bR(n)&&m!==d&&n.remove()}insertParagraph(){if("root"===this.anchor.key){let a=df();return dL().splice(this.anchor.offset,0,[a]),a.select(),a}let a=cE(this),b=ev(this.anchor.getNode(),en);c3(b)||j(213);let c=b.getChildAtIndex(a),d=c?[c,...c.getNextSiblings()]:[],e=b.insertNewAfter(this,!1);return e?(e.append(...d),e.selectStart(),e):null}insertLineBreak(a){let b=bQ();if(this.insertNodes([b]),a){let a=b.getParentOrThrow(),c=b.getIndexWithinParent();a.select(c,c)}}extract(){let a=[...this.getNodes()],b=a.length,c=a[0],d=a[b-1],[e,f]=ck(this),g=this.isBackward(),[h,i]=g?[this.focus,this.anchor]:[this.anchor,this.focus],[j,k]=g?[f,e]:[e,f];if(0===b)return[];if(1===b){if(b6(c)&&!this.isCollapsed()){let a=c.splitText(j,k),b=0===j?a[0]:a[1];return b?(h.set(b.getKey(),0,"text"),i.set(b.getKey(),b.getTextContentSize(),"text"),[b]):[]}return[c]}if(b6(c)&&(j===c.getTextContentSize()?a.shift():0!==j&&([,c]=c.splitText(j),a[0]=c,h.set(c.getKey(),0,"text"))),b6(d)){let b=d.getTextContent().length;0===k?a.pop():k!==b&&([d]=d.splitText(k),a[a.length-1]=d,i.set(d.getKey(),d.getTextContentSize(),"text"))}return a}modify(a,b,c){var d;if(cF(this,a,b,c))return;let e="move"===a,f=cQ(),g=eh(eb(f));if(!g)return;let h=f._blockCursorElement,i=f._rootElement,j=this.focus.getNode();if(null===i||null===h||!c3(j)||j.isInline()||j.canBeEmpty()||eg(h,f,i),this.dirty){let a=d6(f,this.anchor.key),b=d6(f,this.focus.key);"text"===this.anchor.type&&(a=dz(a)),"text"===this.focus.type&&(b=dz(b)),a&&b&&cD(g,a,this.anchor.offset,b,this.focus.offset)}if(d=b?"backward":"forward",g.modify(a,d,c),g.rangeCount>0){let a=g.getRangeAt(0),c=this.anchor.getNode(),d=c8(c)?c:function(a){let b=a.getParentOrThrow();for(;null!==b&&!ec(b);)b=b.getParentOrThrow();return b}(c);if(this.applyDOMRange(a),this.dirty=!0,!e){let c=this.getNodes(),e=[],f=!1;for(let a=0;a<c.length;a++){let b=c[a];d9(b,d)?e.push(b):f=!0}if(f&&e.length>0)if(b){let a=e[0];c3(a)?a.selectStart():a.getParentOrThrow().selectStart()}else{let a=e[e.length-1];c3(a)?a.selectEnd():a.getParentOrThrow().selectEnd()}g.anchorNode===a.startContainer&&g.anchorOffset===a.startOffset||function(a){let b=a.focus,c=a.anchor,d=c.key,e=c.offset,f=c.type;c.set(b.key,b.offset,b.type,!0),b.set(d,e,f,!0)}(this)}}"lineboundary"===c&&cF(this,a,b,c,"decorators")}forwardDeletion(a,b,c){if(!c&&("element"===a.type&&c3(b)&&a.offset===b.getChildrenSize()||"text"===a.type&&a.offset===b.getTextContentSize())){let a=b.getParent(),c=b.getNextSibling()||(null===a?null:a.getNextSibling());if(c3(c)&&c.isShadowRoot())return!0}return!1}deleteCharacter(a){let b=this.isCollapsed();if(this.isCollapsed()){let b=this.anchor,c=b.getNode();if(this.forwardDeletion(b,c,a))return;let d=eQ(eX(b,a?"previous":"next"));if(d.getTextSlices().every(a=>null===a||0===a.distance)){let a={type:"initial"};for(let b of d.iterNodeCarets("shadowRoot"))if(eF(b))if(b.origin.isInline());else{if(b.origin.isShadowRoot()){if("merge-block"===a.type)break;if(c3(d.anchor.origin)&&d.anchor.origin.isEmpty()){let a=e2(b);eZ(this,eR(a,a)),d.anchor.origin.remove()}return}"merge-next-block"!==a.type&&"merge-block"!==a.type||(a={block:a.block,caret:b,type:"merge-block"})}else{if("merge-block"===a.type)break;if(eE(b)){if(c3(b.origin)){if(b.origin.isInline()){if(!b.origin.isParentOf(d.anchor.origin))break}else a={block:b.origin,type:"merge-next-block"};continue}if(c6(b.origin)){if(b.origin.isIsolated());else if("merge-next-block"===a.type&&(b.origin.isKeyboardSelectable()||!b.origin.isInline())&&c3(d.anchor.origin)&&d.anchor.origin.isEmpty()){d.anchor.origin.remove();let a=cv();a.add(b.origin.getKey()),dN(a)}else b.origin.remove();return}break}}if("merge-block"===a.type){let{caret:b,block:c}=a;return eZ(this,eR(!b.origin.isEmpty()&&c.isEmpty()?e_(eJ(c,b.direction)):d.anchor,b)),this.removeText()}}let e=this.focus;if(this.modify("extend",a,"character"),this.isCollapsed()){if(a&&0===b.offset&&cl(this,b.getNode()))return}else{let d="text"===e.type?e.getNode():null;if(c="text"===b.type?b.getNode():null,null!==d&&d.isSegmented()){let b=e.offset,f=d.getTextContentSize();if(d.is(c)||a&&b!==f||!a&&0!==b)return void cn(d,a,b)}else if(null!==c&&c.isSegmented()){let e=b.offset,f=c.getTextContentSize();if(c.is(d)||a&&0!==e||!a&&e!==f)return void cn(c,a,e)}!function(a,b){let c=a.anchor,d=a.focus,e=c.getNode();if(e===d.getNode()&&"text"===c.type&&"text"===d.type){var f;let a=c.offset,g=d.offset,h=a<g,i=h?a:g,j=h?g:a,k=j-1;i===k||dP(f=e.getTextContent().slice(i,j))||cm(f)||(b?d.set(d.key,k,d.type):c.set(c.key,k,c.type))}}(this,a)}}if(this.removeText(),a&&!b&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){let a=this.anchor.getNode();a.isEmpty()&&c8(a.getParent())&&null===a.getPreviousSibling()&&cl(this,a)}}deleteLine(a){this.isCollapsed()&&this.modify("extend",a,"lineboundary"),this.isCollapsed()?this.deleteCharacter(a):this.removeText()}deleteWord(a){if(this.isCollapsed()){let b=this.anchor,c=b.getNode();if(this.forwardDeletion(b,c,a))return;this.modify("extend",a,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function ci(a){return a instanceof cf}function cj(a){let b=a.offset;if("text"===a.type)return b;let c=a.getNode();return b===c.getChildrenSize()?c.getTextContent().length:0}function ck(a){let b=a.getStartEndPoints();if(null===b)return[0,0];let[c,d]=b;return"element"===c.type&&"element"===d.type&&c.key===d.key&&c.offset===d.offset?[0,0]:[cj(c),cj(d)]}function cl(a,b){for(let c=b;c;c=c.getParent()){if(c3(c)){if(c.collapseAtStart(a))return!0;if(ec(c))break}if(c.getPreviousSibling())break}return!1}let cm=(()=>{try{let a=RegExp("\\p{Emoji}","u"),b=a.test.bind(a);if(b("❤️")&&b("#️⃣")&&b("\uD83D\uDC4D"))return b}catch(a){}return()=>!1})();function cn(a,b,c){let d=a.getTextContent().split(/(?=\s)/g),e=d.length,f=0,g=0;for(let a=0;a<e;a++){let h=a===e-1;if(g=f,f+=d[a].length,b&&f===c||f>c||h){d.splice(a,1),h&&(g=void 0);break}}let h=d.join("").trim();""===h?a.remove():(a.setTextContent(h),a.select(g,g))}function co(a,b,c,d){let e,f=b;if(ei(a)){let g=!1,h=a.childNodes,i=h.length,k=d._blockCursorElement;f===i&&(g=!0,f=i-1);let l=h[f],m=!1;if(l===k)l=h[f+1],m=!0;else if(null!==k){let c=k.parentNode;a===c&&b>Array.prototype.indexOf.call(c.children,k)&&f--}if(b6(e=dO(l)))f=eL(e,g?"next":"previous");else{let h=dO(a);if(null===h)return null;if(c3(h)){let i=d.getElementByKey(h.getKey());null===i&&j(214);let k=h.getDOMSlot(i);[h,f]=k.resolveChildIndex(h,i,a,b),c3(h)||j(215),g&&f>=h.getChildrenSize()&&(f=Math.max(0,h.getChildrenSize()-1));let l=h.getChildAtIndex(f);if(c3(l)&&function(a,b,c){let d=a.getParent();return null===c||null===d||!d.canBeEmpty()||d!==c.getNode()}(l,0,c)){let a=g?l.getLastDescendant():l.getFirstDescendant();h=null===a||c3(l=a)?l:l.getParentOrThrow(),f=0}b6(l)?(e=l,h=null,f=eL(l,g?"next":"previous")):l!==h&&g&&!m&&(c3(h)||j(216),f=Math.min(h.getChildrenSize(),f+1))}else{let c=h.getIndexWithinParent();f=0===b&&c6(h)&&dO(a)===h?c:c+1,h=h.getParentOrThrow()}if(c3(h))return cc(h.__key,f,"element")}}else e=dO(a);return b6(e)?cc(e.__key,eL(e,f,"clamp"),"text"):null}function cp(a,b,c){let d=a.offset,e=a.getNode();if(0===d){let d=e.getPreviousSibling(),f=e.getParent();if(b){if((c||!b)&&null===d&&c3(f)&&f.isInline()){let b=f.getPreviousSibling();b6(b)&&a.set(b.__key,b.getTextContent().length,"text")}}else c3(d)&&!c&&d.isInline()?a.set(d.__key,d.getChildrenSize(),"element"):b6(d)&&a.set(d.__key,d.getTextContent().length,"text")}else if(d===e.getTextContent().length){let d=e.getNextSibling(),f=e.getParent();if(b&&c3(d)&&d.isInline())a.set(d.__key,0,"element");else if((c||b)&&null===d&&c3(f)&&f.isInline()&&!f.canInsertTextAfter()){let b=f.getNextSibling();b6(b)&&a.set(b.__key,0,"text")}}}function cq(a,b,c){if("text"===a.type&&"text"===b.type){let d=a.isBefore(b),e=a.is(b);cp(a,d,e),cp(b,!d,e),e&&b.set(a.key,a.offset,a.type);let f=cQ();if(f.isComposing()&&f._compositionKey!==a.key&&cg(c)){let d=c.anchor,e=c.focus;a.set(d.key,d.offset,d.type,!0),b.set(e.key,e.offset,e.type,!0)}}}function cr(a,b,c,d,e,f){if(null===a||null===c||!dr(e,a,c))return null;let g=co(a,b,cg(f)?f.anchor:null,e);if(null===g)return null;let h=co(c,d,cg(f)?f.focus:null,e);if(null===h)return null;if("element"===g.type&&"element"===h.type){let b=dO(a),d=dO(c);if(c6(b)&&c6(d))return null}return cq(g,h,f),[g,h]}function cs(a){return c3(a)&&!a.isInline()}function ct(a,b,c,d,e,f){let g=cP(),h=new ch(cc(a,b,e),cc(c,d,f),0,"");return h.dirty=!0,g._selection=h,h}function cu(){return new ch(cc("root",0,"element"),cc("root",0,"element"),0,"")}function cv(){return new cf(new Set)}function cw(a,b,c,d){let e,f,g,h,i=c._window;if(null===i)return null;let j=d||i.event,k=j?j.type:void 0,l="selectionchange"===k,m=!I&&(l||"beforeinput"===k||"compositionstart"===k||"compositionend"===k||"click"===k&&j&&3===j.detail||"drop"===k||void 0===k);if(cg(a)&&!m)return a.clone();if(null===b)return null;if(e=b.anchorNode,f=b.focusNode,g=b.anchorOffset,h=b.focusOffset,(l||void 0===k)&&cg(a)&&!dr(c,e,f))return a.clone();let n=cr(e,g,f,h,c,a);if(null===n)return null;let[o,p]=n;return new ch(o,p,cg(a)?a.format:0,cg(a)?a.style:"")}function cx(){return cP()._selection}function cy(){return cQ()._editorState._selection}function cz(a,b,c,d=1){let e=a.anchor,f=a.focus,g=e.getNode(),h=f.getNode();if(!b.is(g)&&!b.is(h))return;let i=b.__key;if(a.isCollapsed()){let b=e.offset;if(c<=b&&d>0||c<b&&d<0){let c=Math.max(0,b+d);e.set(i,c,"element"),f.set(i,c,"element"),cA(a)}}else{let g=a.isBackward(),h=g?f:e,j=h.getNode(),k=g?e:f,l=k.getNode();if(b.is(j)){let a=h.offset;(c<=a&&d>0||c<a&&d<0)&&h.set(i,Math.max(0,a+d),"element")}if(b.is(l)){let a=k.offset;(c<=a&&d>0||c<a&&d<0)&&k.set(i,Math.max(0,a+d),"element")}}cA(a)}function cA(a){let b=a.anchor,c=b.offset,d=a.focus,e=d.offset,f=b.getNode(),g=d.getNode();if(a.isCollapsed()){if(!c3(f))return;let a=f.getChildrenSize(),e=c>=a,g=e?f.getChildAtIndex(a-1):f.getChildAtIndex(c);if(b6(g)){let a=0;e&&(a=g.getTextContentSize()),b.set(g.__key,a,"text"),d.set(g.__key,a,"text")}return}if(c3(f)){let a=f.getChildrenSize(),d=c>=a,e=d?f.getChildAtIndex(a-1):f.getChildAtIndex(c);if(b6(e)){let a=0;d&&(a=e.getTextContentSize()),b.set(e.__key,a,"text")}}if(c3(g)){let a=g.getChildrenSize(),b=e>=a,c=b?g.getChildAtIndex(a-1):g.getChildAtIndex(e);if(b6(c)){let a=0;b&&(a=c.getTextContentSize()),d.set(c.__key,a,"text")}}}function cB(a,b,c,d,e){let f=null,g=0,h=null;null!==d?(f=d.__key,b6(d)?(g=d.getTextContentSize(),h="text"):c3(d)&&(g=d.getChildrenSize(),h="element")):null!==e&&(f=e.__key,b6(e)?h="text":c3(e)&&(h="element")),null!==f&&null!==h?a.set(f,g,h):(-1===(g=b.getIndexWithinParent())&&(g=c.getChildrenSize()),a.set(c.__key,g,"element"))}function cC(a,b,c,d,e){"text"===a.type?a.set(c,a.offset+(b?0:e),"text"):a.offset>d.getIndexWithinParent()&&a.set(a.key,a.offset-1,"element")}function cD(a,b,c,d,e){try{a.setBaseAndExtent(b,c,d,e)}catch(a){}}function cE(a){let b=a;a.isCollapsed()||b.removeText();let c=cx();cg(c)&&(b=c),cg(b)||j(161);let d=b.anchor,e=d.getNode(),f=d.offset;for(;!en(e);){let a=e;if([e,f]=function(a,b){let c=a.getParent();if(!c){let a=df();return dL().append(a),a.select(),[dL(),0]}if(b6(a)){let d=a.splitText(b);if(0===d.length)return[c,a.getIndexWithinParent()];let e=+(0!==b);return[c,d[0].getIndexWithinParent()+e]}if(!c3(a)||0===b)return[c,a.getIndexWithinParent()];let d=a.getChildAtIndex(b);if(d){let c=new ch(cc(a.__key,b,"element"),cc(a.__key,b,"element"),0,""),e=a.insertNewAfter(c);e&&e.append(d,...d.getNextSiblings())}return[c,a.getIndexWithinParent()+1]}(e,f),a.is(e))break}return f}function cF(a,b,c,d,e="decorators-and-blocks"){if("move"===b&&"character"===d&&!a.isCollapsed()){let[b,d]=c===a.isBackward()?[a.focus,a.anchor]:[a.anchor,a.focus];return d.set(b.key,b.offset,b.type),!0}let f=eX(a.focus,c?"previous":"next"),g="lineboundary"===d,h="move"===b,i=f,j="decorators-and-blocks"===e;if(!e3(i)){for(let a of i){j=!1;let{origin:b}=a;if(!c6(b)||b.isIsolated()||(i=a,!g||!b.isInline()))break}if(j)for(let a of eQ(f).iterNodeCarets("extend"===b?"shadowRoot":"root")){if(eF(a))a.origin.isInline()||(i=a);else{if(c3(a.origin))continue;c6(a.origin)&&!a.origin.isInline()&&(i=a)}break}}if(i===f)return!1;if(h&&!g&&c6(i.origin)&&i.origin.isKeyboardSelectable()){let a=cv();return a.add(i.origin.getKey()),dN(a),!0}return i=e2(i),h&&eY(a.anchor,i),eY(a.focus,i),j||!g}let cG=null,cH=null,cI=!1,cJ=!1,cK=0,cL={characterData:!0,childList:!0,subtree:!0};function cM(){return cI||null!==cG&&cG._readOnly}function cN(){cI&&j(13)}function cO(){cK>99&&j(14)}function cP(){return null===cG&&j(195,cR()),cG}function cQ(){return null===cH&&j(196,cR()),cH}function cR(){let a=0,b=new Set,c=dj.version;if("undefined"!=typeof window)for(let d of document.querySelectorAll("[contenteditable]")){let e=du(d);if(ds(e))a++;else if(e){let a=String(e.constructor.version||"<0.17.1");a===c&&(a+=" (separately built, likely a bundler configuration issue)"),b.add(a)}}let d=` Detected on the page: ${a} compatible editor(s) with version ${c}`;return b.size&&(d+=` and incompatible editors with versions ${Array.from(b).join(", ")}`),d}function cS(a,b,c){let d=b.__type,e=dm(a,d),f=c.get(d);void 0===f&&(f=Array.from(e.transforms),c.set(d,f));let g=f.length;for(let a=0;a<g&&(f[a](b),b.isAttached());a++);}function cT(a,b){return void 0!==a&&a.__key!==b&&a.isAttached()}function cU(a,b){if(!b)return;let c=a._updateTags,d=b;for(let a of(Array.isArray(b)||(d=[b]),d))c.add(a)}function cV(a,b){let c=a.type,d=b.get(c);void 0===d&&j(17,c);let e=d.klass;a.type!==e.getType()&&j(18,e.name);let f=e.importJSON(a),g=a.children;if(c3(f)&&Array.isArray(g))for(let a=0;a<g.length;a++){let c=cV(g[a],b);f.append(c)}return f}function cW(a,b,c){let d=cG,e=cI,f=cH;cG=b,cI=!0,cH=a;try{return c()}finally{cG=d,cI=e,cH=f}}function cX(a,b){let c=a._pendingEditorState,d=a._rootElement,e=a._headless||null===d;if(null===c)return;let f=a._editorState,g=f._selection,h=c._selection,i=0!==a._dirtyType,k=cG,l=cI,m=cH,n=a._updating,o=a._observer,p=null;if(a._pendingEditorState=null,a._editorState=c,!e&&i&&null!==o){cH=a,cG=c,cI=!1,a._updating=!0;try{let b=a._dirtyType,d=a._dirtyElements,e=a._dirtyLeaves;o.disconnect(),p=function(a,b,c,d,e,f){ai="",al="",am=2===d,_=c,$=c._config,aa=c._nodes,ab=_._listeners.mutation,ac=e,ad=f,ae=a._nodeMap,af=b._nodeMap,an=b._readOnly,ag=new Map(c._keyToDOMMap);let g=new Map;return ah=g,function a(b,c){let d=ae.get(b),e=af.get(b);void 0!==d&&void 0!==e||j(61);let f=am||ad.has(b)||ac.has(b),g=d6(_,b);if(d===e&&!f){if(c3(d)){let a=g.__lexicalTextContent;void 0!==a&&(ai+=a,al+=a)}else{let a=d.getTextContent();al+=a,ai+=a}return g}if(d!==e&&f&&d0(ah,aa,ab,e,"updated"),e.updateDOM(d,g,$)){let a=au(b,null);return null===c&&j(62),c.replaceChild(a,g),ao(b,null),a}if(c3(d)&&c3(e)){let b=e.__indent;(am||b!==d.__indent)&&ar(g,b);let c=e.__format;if((am||c!==d.__format)&&as(g,c),f&&(function(b,c,d){aj=null,ak="",function(b,c,d){let e=ai,f=b.__size,g=c.__size;ai="";let h=d.element;if(1===f&&1===g){let d=b.__first,e=c.__first;if(d===e)a(d,h);else{let a=aB(d),b=au(e,null);try{h.replaceChild(b,a)}catch(c){if("object"==typeof c&&null!=c)throw Error(`${c.toString()} Parent: ${h.tagName}, new child: {tag: ${b.tagName} key: ${e}}, old child: {tag: ${a.tagName}, key: ${d}}.`);throw c}ao(d,null)}let f=af.get(e);b6(f)&&(null===aj&&(aj=f.getFormat()),""===ak&&(ak=f.getStyle()))}else{let e=ay(b,ae),i=ay(c,af);if(e.length!==f&&j(227),i.length!==g&&j(228),0===f)0!==g&&av(i,c,0,g-1,d);else if(0===g){if(0!==f){let a=null==d.after&&null==d.before&&null==d.element.__lexicalLineBreak;ap(e,0,f-1,a?null:h),a&&(h.textContent="")}}else!function(b,c,d,e,f,g){let h=e-1,i=f-1,j,k,l=g.getFirstChild(),m=0,n=0;for(;m<=h&&n<=i;){let b=c[m],e=d[n];if(b===e)l=aA(a(e,g.element)),m++,n++;else{void 0===j&&(j=new Set(c)),void 0===k&&(k=new Set(d));let f=k.has(b),h=j.has(e);if(f)if(h){let b=d6(_,e);b===l?l=aA(a(e,g.element)):(g.withBefore(l).insertChild(b),a(e,g.element)),m++,n++}else au(e,g.withBefore(l)),n++;else l=aA(aB(b)),ao(b,g.element),m++}let f=af.get(e);null!==f&&b6(f)&&(null===aj&&(aj=f.getFormat()),""===ak&&(ak=f.getStyle()))}let o=m>h,p=n>i;if(o&&!p){let a=d[i+1],c=void 0===a?null:_.getElementByKey(a);av(d,b,n,i,g.withBefore(c))}else p&&!o&&ap(c,m,h,g.element)}(c,e,i,f,g,d)}d5(c)&&(ai+="\n\n"),h.__lexicalTextContent=ai,ai=e+ai}(b,c,c.getDOMSlot(d)),null==aj||aj===c.__textFormat||an||c.setTextFormat(aj),""===ak||ak===c.__textStyle||an||c.setTextStyle(ak)}(d,e,g),c8(e)||e.isInline()||ax(d,e,g)),d5(e)&&(ai+="\n\n",al+="\n\n"),(am||e.__dir!==d.__dir)&&(at(g,e),c8(e)&&!am))for(let a of e.getChildren())c3(a)&&at(d6(_,a.getKey()),a)}else{let a=e.getTextContent();if(c6(e)){let a=e.decorate(_,$);null!==a&&az(b,a)}ai+=a,al+=a}if(!an&&c8(e)&&e.__cachedText!==al){let a=e.getWritable();a.__cachedText=al,e=a}return g}("root",null),_=void 0,aa=void 0,ac=void 0,ad=void 0,ae=void 0,af=void 0,$=void 0,ag=void 0,ah=void 0,g}(f,c,a,b,d,e)}catch(b){if(b instanceof Error&&a._onError(b),cJ)throw b;return dh(a,null,d,c),O(a),a._dirtyType=2,cJ=!0,cX(a,f),void(cJ=!1)}finally{o.observe(d,cL),a._updating=n,cG=k,cI=l,cH=m}}c._readOnly||(c._readOnly=!0);let q=a._dirtyLeaves,r=a._dirtyElements,s=a._normalizedNodes,t=a._updateTags,u=a._deferred;i&&(a._dirtyType=0,a._cloneNotNeeded.clear(),a._dirtyLeaves=new Set,a._dirtyElements=new Map,a._normalizedNodes=new Set,a._updateTags=new Set),function(a,b){let c,d=a._decorators,e=a._pendingDecorators||d,f=b._nodeMap;for(c in e)f.has(c)||(e===d&&(e=dJ(a)),delete e[c])}(a,c);let v=e?null:eh(eb(a));if(a._editable&&null!==v&&(i||null===h||h.dirty||!h.is(g))&&null!==d&&!t.has("skip-dom-selection")){cH=a,cG=c;try{if(null!==o&&o.disconnect(),i||null===h||h.dirty){let b=a._blockCursorElement;null!==b&&eg(b,a,d),function(a,b,c,d,e,f,g){let h=d.anchorNode,i=d.focusNode,j=d.anchorOffset,k=d.focusOffset,l=document.activeElement;if(e.has("collaboration")&&l!==f||null!==l&&dq(l))return;if(!cg(b))return null!==a&&dr(c,h,i)&&d.removeAllRanges();let m=b.anchor,n=b.focus,o=m.key,p=n.key,q=d6(c,o),r=d6(c,p),s=m.offset,t=n.offset,u=b.format,v=b.style,w=b.isCollapsed(),x=q,y=r,z=!1;if("text"===m.type){x=dz(q);let a=m.getNode();z=a.getFormat()!==u||a.getStyle()!==v}else cg(a)&&"text"===a.anchor.type&&(z=!0);if("text"===n.type&&(y=dz(r)),null!==x&&null!==y&&(w&&(null===a||z||cg(a)&&(a.format!==u||a.style!==v))&&(bv=[u,v,s,o,performance.now()]),j!==s||k!==t||h!==x||i!==y||"Range"===d.type&&w||(null!==l&&f.contains(l)||e.has("skip-selection-focus")||f.focus({preventScroll:!0}),"element"===m.type))){if(cD(d,x,s,y,t),!e.has("skip-scroll-into-view")&&b.isCollapsed()&&null!==f&&f===document.activeElement){let a=cg(b)&&"element"===b.anchor.type?x.childNodes[s]||null:d.rangeCount>0?d.getRangeAt(0):null;if(null!==a){let b;if(a instanceof Text){let c=document.createRange();c.selectNode(a),b=c.getBoundingClientRect()}else b=a.getBoundingClientRect();!function(a,b,c){let d=d8(c),e=ea(d);if(null===d||null===e)return;let{top:f,bottom:g}=b,h=0,i=0,j=c;for(;null!==j;){let b=j===d.body;if(b)h=0,i=eb(a).innerHeight;else{let a=j.getBoundingClientRect();h=a.top,i=a.bottom}let c=0;if(f<h?c=-(h-f):g>i&&(c=g-i),0!==c)if(b)e.scrollBy(0,c);else{let a=j.scrollTop;j.scrollTop+=c;let b=j.scrollTop-a;f-=b,g-=b}if(b)break;j=d7(j)}}(c,b,f)}}bo=!0}}(g,h,a,v,t,d)}!function(a,b,c){let d=a._blockCursorElement;if(cg(c)&&c.isCollapsed()&&"element"===c.anchor.type&&b.contains(document.activeElement)){let e=c.anchor,f=e.getNode(),g=e.offset,h=!1,i=null;if(g===f.getChildrenSize())ef(f.getChildAtIndex(g-1))&&(h=!0);else{let b=f.getChildAtIndex(g);if(null!==b&&ef(b)){let c=b.getPreviousSibling();(null===c||ef(c))&&(h=!0,i=a.getElementByKey(b.__key))}}if(h){let c=a.getElementByKey(f.__key);return null===d&&(a._blockCursorElement=d=function(a){let b=a.theme,c=document.createElement("div");c.contentEditable="false",c.setAttribute("data-lexical-cursor","true");let d=b.blockCursor;return void 0!==d&&("string"==typeof d&&(d=b.blockCursor=w(d)),void 0!==d&&c.classList.add(...d)),c}(a._config)),b.style.caretColor="transparent",null===i?c.appendChild(d):c.insertBefore(d,i)}}null!==d&&eg(d,a,b)}(a,d,h)}finally{null!==o&&o.observe(d,cL),cH=m,cG=k}}null!==p&&function(a,b,c,d,e){let f=Array.from(a._listeners.mutation),g=f.length;for(let a=0;a<g;a++){let[g,h]=f[a];for(let a of h){let f=b.get(a);void 0!==f&&g(f,{dirtyLeaves:d,prevEditorState:e,updateTags:c})}}}(a,p,t,q,f),cg(h)||null===h||null!==g&&g.is(h)||a.dispatchCommand(aD,void 0);let x=a._pendingDecorators;null!==x&&(a._decorators=x,a._pendingDecorators=null,cY("decorator",a,!0,x)),function(a,b,c){let d=dK(b),e=dK(c);d!==e&&cY("textcontent",a,!0,e)}(a,b||f,c),cY("update",a,!0,{dirtyElements:r,dirtyLeaves:q,editorState:c,mutatedNodes:p,normalizedNodes:s,prevEditorState:b||f,tags:t}),function(a,b){if(a._deferred=[],0!==b.length){let c=a._updating;a._updating=!0;try{for(let a=0;a<b.length;a++)b[a]()}finally{a._updating=c}}}(a,u),function(a){let b=a._updates;if(0!==b.length){let c=b.shift();if(c){let[b,d]=c;c$(a,b,d)}}}(a)}function cY(a,b,c,...d){let e=b._updating;b._updating=c;try{let c=Array.from(b._listeners[a]);for(let a=0;a<c.length;a++)c[a].apply(null,d)}finally{b._updating=e}}function cZ(a,b){let c=a._updates,d=b||!1;for(;0!==c.length;){let b=c.shift();if(b){let c,[e,f]=b,g=a._pendingEditorState;void 0!==f&&(c=f.onUpdate,f.skipTransforms&&(d=!0),f.discrete&&(null===g&&j(191),g._flushSync=!0),c&&a._deferred.push(c),cU(a,f.tag)),null==g?c$(a,e,f):e()}}return d}function c$(a,b,c){let d=a._updateTags,e,f=!1,g=!1;void 0!==c&&(e=c.onUpdate,cU(a,c.tag),f=c.skipTransforms||!1,g=c.discrete||!1),e&&a._deferred.push(e);let h=a._editorState,i=a._pendingEditorState,k=!1;(null===i||i._readOnly)&&(i=a._pendingEditorState=c9(i||h),k=!0),i._flushSync=g;let l=cG,m=cI,n=cH,o=a._updating;cG=i,cI=!1,a._updating=!0,cH=a;let p=a._headless||null===a.getRootElement();dk=null;try{k&&(p?null!==h._selection&&(i._selection=h._selection.clone()):i._selection=function(a,b){let c=a.getEditorState()._selection,d=eh(eb(a));return cg(c)||null==c?cw(c,d,a,b):c.clone()}(a,c&&c.event||null));let d=a._compositionKey;b(),f=cZ(a,f),function(a,b){let c=b.getEditorState()._selection,d=a._selection;if(cg(d)){let a,b=d.anchor,e=d.focus;if("text"===b.type&&(a=b.getNode()).selectionTransform(c,d),"text"===e.type){let b=e.getNode();a!==b&&b.selectionTransform(c,d)}}}(i,a),0!==a._dirtyType&&(f?function(a,b){let c=b._dirtyLeaves,d=a._nodeMap;for(let a of c){let b=d.get(a);b6(b)&&b.isAttached()&&b.isSimpleText()&&!b.isUnmergeable()&&X(b)}}(i,a):function(a,b){let c=b._dirtyLeaves,d=b._dirtyElements,e=a._nodeMap,f=dE(),g=new Map,h=c,i=h.size,j=d,k=j.size;for(;i>0||k>0;){if(i>0){for(let a of(b._dirtyLeaves=new Set,h)){let d=e.get(a);b6(d)&&d.isAttached()&&d.isSimpleText()&&!d.isUnmergeable()&&X(d),void 0!==d&&cT(d,f)&&cS(b,d,g),c.add(a)}if((i=(h=b._dirtyLeaves).size)>0){cK++;continue}}for(let a of(b._dirtyLeaves=new Set,b._dirtyElements=new Map,j.delete("root")&&j.set("root",!0),j)){let c=a[0],h=a[1];if(d.set(c,h),!h)continue;let i=e.get(c);void 0!==i&&cT(i,f)&&cS(b,i,g)}i=(h=b._dirtyLeaves).size,k=(j=b._dirtyElements).size,cK++}b._dirtyLeaves=c,b._dirtyElements=d}(i,a),cZ(a),function(a,b,c,d){let e=a._nodeMap,f=b._nodeMap,g=[];for(let[a]of d){let b=f.get(a);void 0!==b&&(b.isAttached()||(c3(b)&&function a(b,c,d,e,f,g){let h=b.getFirstChild();for(;null!==h;){let b=h.__key;h.__parent===c&&(c3(h)&&a(h,b,d,e,f,g),d.has(b)||g.delete(b),f.push(b)),h=h.getNextSibling()}}(b,a,e,f,g,d),e.has(a)||d.delete(a),g.push(a)))}for(let a of g)f.delete(a);for(let a of c){let b=f.get(a);void 0===b||b.isAttached()||(e.has(a)||c.delete(a),f.delete(a))}}(h,i,a._dirtyLeaves,a._dirtyElements)),d!==a._compositionKey&&(i._flushSync=!0);let e=i._selection;if(cg(e)){let a=i._nodeMap,b=e.anchor.key,c=e.focus.key;void 0!==a.get(b)&&void 0!==a.get(c)||j(19)}else ci(e)&&0===e._nodes.size&&(i._selection=null)}catch(b){return b instanceof Error&&a._onError(b),a._pendingEditorState=h,a._dirtyType=2,a._cloneNotNeeded.clear(),a._dirtyLeaves=new Set,a._dirtyElements.clear(),void cX(a)}finally{cG=l,cI=m,cH=n,a._updating=o,cK=0}0!==a._dirtyType||a._deferred.length>0||function(a,b){let c=b.getEditorState()._selection,d=a._selection;if(null!==d){if(d.dirty||!d.is(c))return!0}else if(null!==c)return!0;return!1}(i,a)?i._flushSync?(i._flushSync=!1,cX(a)):k&&dp(()=>{cX(a)}):(i._flushSync=!1,k&&(d.clear(),a._deferred=[],a._pendingEditorState=null))}function c_(a,b,c){cH===a&&void 0===c?b():c$(a,b,c)}class c0{element;before;after;constructor(a,b,c){this.element=a,this.before=b||null,this.after=c||null}withBefore(a){return new c0(this.element,a,this.after)}withAfter(a){return new c0(this.element,this.before,a)}withElement(a){return this.element===a?this:new c0(a,this.before,this.after)}insertChild(a){let b=this.before||this.getManagedLineBreak();return null!==b&&b.parentElement!==this.element&&j(222),this.element.insertBefore(a,b),this}removeChild(a){return a.parentElement!==this.element&&j(223),this.element.removeChild(a),this}replaceChild(a,b){return b.parentElement!==this.element&&j(224),this.element.replaceChild(a,b),this}getFirstChild(){let a=this.after?this.after.nextSibling:this.element.firstChild;return a===this.before||a===this.getManagedLineBreak()?null:a}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(a){null===a?this.removeManagedLineBreak():this.insertManagedLineBreak("decorator"===a&&(v||r||q))}removeManagedLineBreak(){let a=this.getManagedLineBreak();if(a){let b=this.element,c="IMG"===a.nodeName?a.nextSibling:null;c&&b.removeChild(c),b.removeChild(a),b.__lexicalLineBreak=void 0}}insertManagedLineBreak(a){let b=this.getManagedLineBreak();if(b){if(a===("IMG"===b.nodeName))return;this.removeManagedLineBreak()}let c=this.element,d=this.before,e=document.createElement("br");if(c.insertBefore(e,d),a){let a=document.createElement("img");a.setAttribute("data-lexical-linebreak","true"),a.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",a.alt="",c.insertBefore(a,e),c.__lexicalLineBreak=a}else c.__lexicalLineBreak=e}getFirstChildOffset(){let a=0;for(let b=this.after;null!==b;b=b.previousSibling)a++;return a}resolveChildIndex(a,b,c,d){if(c===this.element){let b=this.getFirstChildOffset();return[a,Math.min(b+a.getChildrenSize(),Math.max(b,d))]}let e=c1(b,c);e.push(d);let f=c1(b,this.element),g=a.getIndexWithinParent();for(let a=0;a<f.length;a++){let b=e[a],c=f[a];if(void 0===b||b<c)break;if(b>c){g+=1;break}}return[a.getParentOrThrow(),g]}}function c1(a,b){let c=[],d=b;for(;d!==a&&null!==d;d=d.parentNode){let a=0;for(let b=d.previousSibling;null!==b;b=b.previousSibling)a++;c.push(a)}return d!==a&&j(225),c.reverse()}class c2 extends bM{__first;__last;__size;__format;__style;__indent;__dir;__textFormat;__textStyle;constructor(a){super(a),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(a){super.afterCloneFrom(a),this.__key===a.__key&&(this.__first=a.__first,this.__last=a.__last,this.__size=a.__size),this.__indent=a.__indent,this.__format=a.__format,this.__style=a.__style,this.__dir=a.__dir,this.__textFormat=a.__textFormat,this.__textStyle=a.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){return E[this.getFormat()]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){let a=[],b=this.getFirstChild();for(;null!==b;)a.push(b),b=b.getNextSibling();return a}getChildrenKeys(){let a=[],b=this.getFirstChild();for(;null!==b;)a.push(b.__key),b=b.getNextSibling();return a}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){let a=cQ()._dirtyElements;return null!==a&&a.has(this.__key)}isLastChild(){let a=this.getLatest(),b=this.getParentOrThrow().getLastChild();return null!==b&&b.is(a)}getAllTextNodes(){let a=[],b=this.getFirstChild();for(;null!==b;){if(b6(b)&&a.push(b),c3(b)){let c=b.getAllTextNodes();a.push(...c)}b=b.getNextSibling()}return a}getFirstDescendant(){let a=this.getFirstChild();for(;c3(a);){let b=a.getFirstChild();if(null===b)break;a=b}return a}getLastDescendant(){let a=this.getLastChild();for(;c3(a);){let b=a.getLastChild();if(null===b)break;a=b}return a}getDescendantByIndex(a){let b=this.getChildren(),c=b.length;if(a>=c){let a=b[c-1];return c3(a)&&a.getLastDescendant()||a||null}let d=b[a];return c3(d)&&d.getFirstDescendant()||d||null}getFirstChild(){let a=this.getLatest().__first;return null===a?null:dF(a)}getFirstChildOrThrow(){let a=this.getFirstChild();return null===a&&j(45,this.__key),a}getLastChild(){let a=this.getLatest().__last;return null===a?null:dF(a)}getLastChildOrThrow(){let a=this.getLastChild();return null===a&&j(96,this.__key),a}getChildAtIndex(a){let b,c,d=this.getChildrenSize();if(a<d/2){for(b=this.getFirstChild(),c=0;null!==b&&c<=a;){if(c===a)return b;b=b.getNextSibling(),c++}return null}for(b=this.getLastChild(),c=d-1;null!==b&&c>=a;){if(c===a)return b;b=b.getPreviousSibling(),c--}return null}getTextContent(){let a="",b=this.getChildren(),c=b.length;for(let d=0;d<c;d++){let e=b[d];a+=e.getTextContent(),c3(e)&&d!==c-1&&!e.isInline()&&(a+="\n\n")}return a}getTextContentSize(){let a=0,b=this.getChildren(),c=b.length;for(let d=0;d<c;d++){let e=b[d];a+=e.getTextContentSize(),c3(e)&&d!==c-1&&!e.isInline()&&(a+=2)}return a}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(a){if(""!==a){let b=D[a];return 0!=(this.getFormat()&b)}return!1}hasTextFormat(a){let b=B[a];return 0!=(this.getTextFormat()&b)}getFormatFlags(a,b){return dA(this.getLatest().__textFormat,a,b)}getTextStyle(){return this.getLatest().__textStyle}select(a,b){cN();let c=cx(),d=a,e=b,f=this.getChildrenSize();if(!this.canBeEmpty()){if(0===a&&0===b){let a=this.getFirstChild();if(b6(a)||c3(a))return a.select(0,0)}else if((void 0===a||a===f)&&(void 0===b||b===f)){let a=this.getLastChild();if(b6(a)||c3(a))return a.select()}}void 0===d&&(d=f),void 0===e&&(e=f);let g=this.__key;return cg(c)?(c.anchor.set(g,d,"element"),c.focus.set(g,e,"element"),c.dirty=!0,c):ct(g,d,g,e,"element","element")}selectStart(){let a=this.getFirstDescendant();return a?a.selectStart():this.select()}selectEnd(){let a=this.getLastDescendant();return a?a.selectEnd():this.select()}clear(){let a=this.getWritable();return this.getChildren().forEach(a=>a.remove()),a}append(...a){return this.splice(this.getChildrenSize(),0,a)}setDirection(a){let b=this.getWritable();return b.__dir=a,b}setFormat(a){return this.getWritable().__format=""!==a?D[a]:0,this}setStyle(a){return this.getWritable().__style=a||"",this}setTextFormat(a){let b=this.getWritable();return b.__textFormat=a,b}setTextStyle(a){let b=this.getWritable();return b.__textStyle=a,b}setIndent(a){return this.getWritable().__indent=a,this}splice(a,b,c){bL(this)&&j(324,this.__key,this.__type);let d=this.getChildrenSize(),e=this.getWritable();a+b<=d||j(226,String(a),String(b),String(d));let f=e.__key,g=[],h=[],i=this.getChildAtIndex(a+b),k=null,l=d-b+c.length;if(0!==a)if(a===d)k=this.getLastChild();else{let b=this.getChildAtIndex(a);null!==b&&(k=b.getPreviousSibling())}if(b>0){let a=null===k?this.getFirstChild():k.getNextSibling();for(let c=0;c<b;c++){null===a&&j(100);let b=a.getNextSibling(),c=a.__key;dB(a.getWritable()),h.push(c),a=b}}let m=k;for(let a of c){null!==m&&a.is(m)&&(k=m=m.getPreviousSibling());let b=a.getWritable();b.__parent===f&&l--,dB(b);let c=a.__key;if(null===m)e.__first=c,b.__prev=null;else{let a=m.getWritable();a.__next=c,b.__prev=a.__key}a.__key===f&&j(76),b.__parent=f,g.push(c),m=a}if(a+b===d)null!==m&&(m.getWritable().__next=null,e.__last=m.__key);else if(null!==i){let a=i.getWritable();if(null!==m){let b=m.getWritable();a.__prev=m.__key,b.__next=i.__key}else a.__prev=null}if(e.__size=l,h.length){let a=cx();if(cg(a)){let b=new Set(h),c=new Set(g),{anchor:d,focus:e}=a;c4(d,b,c)&&cB(d,d.getNode(),this,k,i),c4(e,b,c)&&cB(e,e.getNode(),this,k,i),0!==l||this.canBeEmpty()||ec(this)||this.remove()}}return e}getDOMSlot(a){return new c0(a)}exportDOM(a){let{element:b}=super.exportDOM(a);if(ei(b)){let a=this.getIndent();a>0&&(b.style.paddingInlineStart=40*a+"px");let c=this.getDirection();c&&(b.dir=c)}return{element:b}}exportJSON(){let a={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},b=this.getTextFormat(),c=this.getTextStyle();return 0!==b&&(a.textFormat=b),""!==c&&(a.textStyle=c),a}updateFromJSON(a){return super.updateFromJSON(a).setFormat(a.format).setIndent(a.indent).setDirection(a.direction).setTextFormat(a.textFormat||0).setTextStyle(a.textStyle||"")}insertNewAfter(a,b){return null}canIndent(){return!0}collapseAtStart(a){return!1}excludeFromCopy(a){return!1}canReplaceWith(a){return!0}canInsertAfter(a){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(a){return!1}extractWithChild(a,b,c){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(a,b){let c=this.getDOMSlot(a),d=c.getFirstChild();for(let a=this.getFirstChild();a;a=a.getNextSibling()){let e=b.getElementByKey(a.getKey());null!==e&&(null==d?(c.insertChild(e),d=e):d!==e&&c.replaceChild(e,d),d=d.nextSibling)}}}function c3(a){return a instanceof c2}function c4(a,b,c){let d=a.getNode();for(;d;){let a=d.__key;if(b.has(a)&&!c.has(a))return!0;d=d.getParent()}return!1}class c5 extends bM{decorate(a,b){return null}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function c6(a){return a instanceof c5}class c7 extends c2{__cachedText;static getType(){return"root"}static clone(){return new c7}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){j(51)}getTextContent(){let a=this.__cachedText;return(cM()||0===cQ()._dirtyType)&&null!==a?a:super.getTextContent()}remove(){j(52)}replace(a){j(53)}insertBefore(a){j(54)}insertAfter(a){j(55)}updateDOM(a,b){return!1}splice(a,b,c){for(let a of c)c3(a)||c6(a)||j(282);return super.splice(a,b,c)}static importJSON(a){return dL().updateFromJSON(a)}collapseAtStart(){return!0}}function c8(a){return a instanceof c7}function c9(a){return new db(new Map(a._nodeMap))}function da(){return new db(new Map([["root",new c7]]))}class db{_nodeMap;_selection;_flushSync;_readOnly;constructor(a,b){this._nodeMap=a,this._selection=b||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(a,b){return cW(b&&b.editor||null,this,a)}clone(a){let b=new db(this._nodeMap,void 0===a?this._selection:a);return b._readOnly=!0,b}toJSON(){return cW(null,this,()=>({root:function a(b){let c=b.exportJSON(),d=b.constructor;if(c.type!==d.getType()&&j(130,d.name),c3(b)){let e=c.children;Array.isArray(e)||j(59,d.name);let f=b.getChildren();for(let b=0;b<f.length;b++){let c=a(f[b]);e.push(c)}}return c}(dL())}))}}class dc extends c2{static getType(){return"artificial"}createDOM(a){return document.createElement("div")}}class dd extends c2{static getType(){return"paragraph"}static clone(a){return new dd(a.__key)}createDOM(a){let b=document.createElement("p"),c=d_(a.theme,"paragraph");return void 0!==c&&b.classList.add(...c),b}updateDOM(a,b,c){return!1}static importDOM(){return{p:a=>({conversion:de,priority:0})}}exportDOM(a){let{element:b}=super.exportDOM(a);if(ei(b)){this.isEmpty()&&b.append(document.createElement("br"));let a=this.getFormatType();a&&(b.style.textAlign=a)}return{element:b}}static importJSON(a){return df().updateFromJSON(a)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(a,b){let c=df();c.setTextFormat(a.format),c.setTextStyle(a.style);let d=this.getDirection();return c.setDirection(d),c.setFormat(this.getFormatType()),c.setStyle(this.getStyle()),this.insertAfter(c,b),c}collapseAtStart(){let a=this.getChildren();if(0===a.length||b6(a[0])&&""===a[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function de(a){let b=df();return a.style&&(b.setFormat(a.style.textAlign),es(a,b)),{node:b}}function df(){return ed(new dd)}function dg(a){return a instanceof dd}function dh(a,b,c,d){let e=a._keyToDOMMap;e.clear(),a._editorState=da(),a._pendingEditorState=d,a._compositionKey=null,a._dirtyType=0,a._cloneNotNeeded.clear(),a._dirtyLeaves=new Set,a._dirtyElements.clear(),a._normalizedNodes=new Set,a._updateTags=new Set,a._updates=[],a._blockCursorElement=null;let f=a._observer;null!==f&&(f.disconnect(),a._observer=null),null!==b&&(b.textContent=""),null!==c&&(c.textContent="",e.set("root",c))}function di(a){let b,c=a||{},d=cH,e=c.theme||{},f=void 0===a?d:c.parentEditor||null,g=c.disableEvents||!1,h=da(),i=c.namespace||(null!==f?f._config.namespace:dR()),j=c.editorState,k=[c7,bZ,bO,b8,dd,dc,...c.nodes||[]],{onError:l,html:m}=c,n=void 0===c.editable||c.editable;if(void 0===a&&null!==d)b=d._nodes;else{b=new Map;for(let a=0;a<k.length;a++){let c=k[a],d=null,e=null;if("function"!=typeof c){let a=c;c=a.replace,d=a.with,e=a.withKlass||null}eu(c);let f=c.getType(),g=function(a){let b=new Set,c=new Set,d=a;for(;d;){let{ownNodeConfig:a}=eu(d),e=d.transform;if(!c.has(e)){c.add(e);let a=d.transform();a&&b.add(a)}if(a){let c=a.$transform;c&&b.add(c),d=a.extends}else{let a=Object.getPrototypeOf(d);d=a.prototype instanceof bM&&a!==bM?a:void 0}}return b}(c);b.set(f,{exportDOM:m&&m.export?m.export.get(c):void 0,klass:c,replace:d,replaceWithKlass:e,sharedNodeState:function(a){let b=new Map,c=new Set;for(let d="function"==typeof a?a:a.replace;d.prototype&&void 0!==d.prototype.getType;d=Object.getPrototypeOf(d)){let{ownNodeConfig:a}=eu(d);if(a&&a.stateConfigs)for(let d of a.stateConfigs){let a;"stateConfig"in d?(a=d.stateConfig,d.flat&&c.add(a.key)):a=d,b.set(a.key,a)}}return{flatKeys:c,sharedConfigMap:b}}(k[a]),transforms:g})}}let o=new dj(h,f,b,{disableEvents:g,namespace:i,theme:e},l||console.error,function(a,b){let c=new Map,d=new Set,e=a=>{Object.keys(a).forEach(b=>{let d=c.get(b);void 0===d&&(d=[],c.set(b,d)),d.push(a[b])})};return a.forEach(a=>{let b=a.klass.importDOM;if(null==b||d.has(b))return;d.add(b);let c=b.call(a.klass);null!==c&&e(c)}),b&&e(b),c}(b,m?m.import:void 0),n,a);return void 0!==j&&(o._pendingEditorState=j,o._dirtyType=2),o}class dj{static version;_headless;_parentEditor;_rootElement;_editorState;_pendingEditorState;_compositionKey;_deferred;_keyToDOMMap;_updates;_updating;_listeners;_commands;_nodes;_decorators;_pendingDecorators;_config;_dirtyType;_cloneNotNeeded;_dirtyLeaves;_dirtyElements;_normalizedNodes;_updateTags;_observer;_key;_onError;_htmlConversions;_window;_editable;_blockCursorElement;_createEditorArgs;constructor(a,b,c,d,e,f,g,h){this._createEditorArgs=h,this._parentEditor=b,this._rootElement=null,this._editorState=a,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=d,this._nodes=c,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=dR(),this._onError=e,this._htmlConversions=f,this._editable=g,this._headless=null!==b&&b._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(a){let b=this._listeners.update;return b.add(a),()=>{b.delete(a)}}registerEditableListener(a){let b=this._listeners.editable;return b.add(a),()=>{b.delete(a)}}registerDecoratorListener(a){let b=this._listeners.decorator;return b.add(a),()=>{b.delete(a)}}registerTextContentListener(a){let b=this._listeners.textcontent;return b.add(a),()=>{b.delete(a)}}registerRootListener(a){let b=this._listeners.root;return a(this._rootElement,null),b.add(a),()=>{a(null,this._rootElement),b.delete(a)}}registerCommand(a,b,c){void 0===c&&j(35);let d=this._commands;d.has(a)||d.set(a,[new Set,new Set,new Set,new Set,new Set]);let e=d.get(a);void 0===e&&j(36,String(a));let f=e[c];return f.add(b),()=>{f.delete(b),e.every(a=>0===a.size)&&d.delete(a)}}registerMutationListener(a,b,c){let d=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(a)).klass,e=this._listeners.mutation,f=e.get(b);void 0===f&&(f=new Set,e.set(b,f)),f.add(d);let g=c&&c.skipInitialization;return void 0!==g&&g||this.initializeMutationListener(b,d),()=>{f.delete(d),0===f.size&&e.delete(b)}}getRegisteredNode(a){let b=this._nodes.get(a.getType());return void 0===b&&j(37,a.name),b}resolveRegisteredNodeAfterReplacements(a){for(;a.replaceWithKlass;)a=this.getRegisteredNode(a.replaceWithKlass);return a}initializeMutationListener(a,b){let c=this._editorState,d=eq(c).get(b.getType());if(!d)return;let e=new Map;for(let a of d.keys())e.set(a,"created");e.size>0&&a(e,{dirtyLeaves:new Set,prevEditorState:c,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(a,b){let c=this.getRegisteredNode(a);return c.transforms.add(b),c}registerNodeTransform(a,b){let c=this.registerNodeTransformToKlass(a,b),d=[c],e=c.replaceWithKlass;if(null!=e){let a=this.registerNodeTransformToKlass(e,b);d.push(a)}return function(a,b){let c=eq(a.getEditorState()),d=[];for(let a of b){let b=c.get(a);b&&d.push(b)}0!==d.length&&a.update(()=>{for(let a of d)for(let b of a.keys()){let a=dF(b);a&&a.markDirty()}},null===a._pendingEditorState?{tag:bN}:void 0)}(this,d.map(a=>a.klass.getType())),()=>{d.forEach(a=>a.transforms.delete(b))}}hasNode(a){return this._nodes.has(a.getType())}hasNodes(a){return a.every(this.hasNode.bind(this))}dispatchCommand(a,b){return d4(this,a,b)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(a){let b=this._rootElement;if(a!==b){let c=d_(this._config.theme,"root"),d=this._pendingEditorState||this._editorState;if(this._rootElement=a,dh(this,b,a,d),null!==b&&(this._config.disableEvents||function(a){let b=bm.get(a);if(void 0===b)return bI();let c=bn.get(b);if(void 0===c)return bI();let d=c-1;d>=0||j(164),bm.delete(a),bn.set(b,d),0===d&&b.removeEventListener("selectionchange",bF);let e=du(a);ds(e)?(!function(a){if(null!==a._parentEditor){let b=dQ(a),c=b[b.length-1]._key;bE.get(c)===a&&bE.delete(c)}else bE.delete(a._key)}(e),a.__lexicalEditor=null):e&&j(198);let f=bD(a);for(let a=0;a<f.length;a++)f[a]();a.__lexicalEventHandles=[]}(b),null!=c&&b.classList.remove(...c)),null!==a){let b=ea(a),d=a.style;d.userSelect="text",d.whiteSpace="pre-wrap",d.wordBreak="break-word",a.setAttribute("data-lexical-editor","true"),this._window=b,this._dirtyType=2,O(this),this._updateTags.add(bN),cX(this),this._config.disableEvents||function(a,b){let c=a.ownerDocument;bm.set(a,c);let d=bn.get(c)??0;d<1&&c.addEventListener("selectionchange",bF),bn.set(c,d+1),a.__lexicalEditor=b;let e=bD(a);for(let c=0;c<bh.length;c++){let[d,f]=bh[c],g="function"==typeof f?a=>{bH(a)||(bG(a),(b.isEditable()||"click"===d)&&f(a,b))}:a=>{if(bH(a))return;bG(a);let c=b.isEditable();switch(d){case"cut":return c&&d4(b,bb,a);case"copy":return d4(b,ba,a);case"paste":return c&&d4(b,aK,a);case"dragstart":return c&&d4(b,a7,a);case"dragover":return c&&d4(b,a8,a);case"dragend":return c&&d4(b,a9,a);case"focus":return c&&d4(b,bd,a);case"blur":return c&&d4(b,be,a);case"drop":return c&&d4(b,a5,a)}};a.addEventListener(d,g),e.push(()=>{a.removeEventListener(d,g)})}}(a,this),null!=c&&a.classList.add(...c)}else this._window=null,this._updateTags.add(bN),cX(this);cY("root",this,!1,a,b)}}getElementByKey(a){return this._keyToDOMMap.get(a)||null}getEditorState(){return this._editorState}setEditorState(a,b){a.isEmpty()&&j(38);let c=a;c._readOnly&&((c=c9(a))._selection=a._selection?a._selection.clone():null),N(this);let d=this._pendingEditorState,e=this._updateTags,f=void 0!==b?b.tag:null;null===d||d.isEmpty()||(null!=f&&e.add(f),cX(this)),this._pendingEditorState=c,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=f&&e.add(f),this._updating||cX(this)}parseEditorState(a,b){return function(a,b,c){let d=da(),e=cG,f=cI,g=cH,h=b._dirtyElements,i=b._dirtyLeaves,j=b._cloneNotNeeded,k=b._dirtyType;b._dirtyElements=new Map,b._dirtyLeaves=new Set,b._cloneNotNeeded=new Set,b._dirtyType=0,cG=d,cI=!1,cH=b,dk=null;try{let e=b._nodes;cV(a.root,e),c&&c(),d._readOnly=!0}catch(a){a instanceof Error&&b._onError(a)}finally{b._dirtyElements=h,b._dirtyLeaves=i,b._cloneNotNeeded=j,b._dirtyType=k,cG=e,cI=f,cH=g}return d}("string"==typeof a?JSON.parse(a):a,this,b)}read(a){return cX(this),this.getEditorState().read(a,{editor:this})}update(a,b){this._updating?this._updates.push([a,b]):c$(this,a,b)}focus(a,b={}){let c=this._rootElement;null!==c&&(c.setAttribute("autocapitalize","off"),c_(this,()=>{var d,e;let f=cx(),g=dL();null!==f?f.dirty||dN(f.clone()):0!==g.getChildrenSize()&&("rootStart"===b.defaultSelection?g.selectStart():g.selectEnd()),d="focus",cN(),cQ()._updateTags.add(d),e=()=>{c.removeAttribute("autocapitalize"),a&&a()},cN(),cQ()._deferred.push(e)}),null===this._pendingEditorState&&c.removeAttribute("autocapitalize"))}blur(){let a=this._rootElement;null!==a&&a.blur();let b=eh(this._window);null!==b&&b.removeAllRanges()}isEditable(){return this._editable}setEditable(a){this._editable!==a&&(this._editable=a,cY("editable",this,!0,a))}toJSON(){return{editorState:this._editorState.toJSON()}}}dj.version="0.38.2+prod.esm";let dk=null,dl=1;function dm(a,b){let c=dn(a,b);return void 0===c&&j(30,b),c}function dn(a,b){return a._nodes.get(b)}let dp="function"==typeof queueMicrotask?queueMicrotask:a=>{Promise.resolve().then(a)};function dq(a){let b=document.activeElement;if(!ei(b))return!1;let c=b.nodeName;return c6(dI(a))&&("INPUT"===c||"TEXTAREA"===c||"true"===b.contentEditable&&null==du(b))}function dr(a,b,c){let d=a.getRootElement();try{return null!==d&&d.contains(b)&&d.contains(c)&&null!==b&&!dq(b)&&dt(b)===a}catch(a){return!1}}function ds(a){return a instanceof dj}function dt(a){let b=a;for(;null!=b;){let a=du(b);if(ds(a))return a;b=d7(b)}return null}function du(a){return a?a.__lexicalEditor:null}function dv(a){return ca(a)||a.isToken()}function dw(a){return dv(a)||a.isSegmented()}function dx(a){return ej(a)&&3===a.nodeType}function dy(a){return ej(a)&&9===a.nodeType}function dz(a){let b=a;for(;null!=b;){if(dx(b))return b;b=b.firstChild}return null}function dA(a,b,c){let d=B[b];if(null!==c&&(a&d)==(c&d))return a;let e=a^d;return"subscript"===b?e&=~B.superscript:"superscript"===b?e&=~B.subscript:"lowercase"===b?(e&=~B.uppercase,e&=~B.capitalize):"uppercase"===b?(e&=~B.lowercase,e&=~B.capitalize):"capitalize"===b&&(e&=~B.lowercase,e&=~B.uppercase),e}function dB(a){let b=a.getParent();if(null!==b){let c=a.getWritable(),d=b.getWritable(),e=a.getPreviousSibling(),f=a.getNextSibling(),g=null!==f?f.__key:null,h=null!==e?e.__key:null,i=null!==e?e.getWritable():null,j=null!==f?f.getWritable():null;null===e&&(d.__first=g),null===f&&(d.__last=h),null!==i&&(i.__next=g),null!==j&&(j.__prev=h),c.__prev=null,c.__next=null,c.__parent=null,d.__size--}}function dC(a){cO(),bL(a)&&j(323,a.__key,a.__type);let b=a.getLatest(),c=b.__parent,d=cP(),e=cQ(),f=d._nodeMap,g=e._dirtyElements;null!==c&&function(a,b,c){let d=a;for(;null!==d;){if(c.has(d))return;let a=b.get(d);if(void 0===a)break;c.set(d,!1),d=a.__parent}}(c,f,g);let h=b.__key;e._dirtyType=1,c3(a)?g.set(h,!0):e._dirtyLeaves.add(h)}function dD(a){cN();let b=cQ(),c=b._compositionKey;if(a!==c){if(b._compositionKey=a,null!==c){let a=dF(c);null!==a&&a.getWritable()}if(null!==a){let b=dF(a);null!==b&&b.getWritable()}}}function dE(){return cM()?null:cQ()._compositionKey}function dF(a,b){let c=(b||cP())._nodeMap.get(a);return void 0===c?null:c}function dG(a,b){let c=dH(a,cQ());return void 0!==c?dF(c,b):null}function dH(a,b){return a[`__lexicalKey_${b._key}`]}function dI(a,b){let c=a;for(;null!=c;){let a=dG(c,b);if(null!==a)return a;c=d7(c)}return null}function dJ(a){let b=Object.assign({},a._decorators);return a._pendingDecorators=b,b}function dK(a){return a.read(()=>dL().getTextContent())}function dL(){return dM(cP())}function dM(a){return a._nodeMap.get("root")}function dN(a){cN();let b=cP();null!==a&&(a.dirty=!0,a.setCachedNodes(null)),b._selection=a}function dO(a){let b=cQ(),c=function(a,b){let c=a;for(;null!=c;){let a=dH(c,b);if(void 0!==a)return a;c=d7(c)}return null}(a,b);return null===c?a===b.getRootElement()?dF("root"):null:dF(c)}function dP(a){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(a)}function dQ(a){let b=[],c=a;for(;null!==c;)b.push(c),c=c._parentEditor;return b}function dR(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function dS(a){return dx(a)?a.nodeValue:null}function dT(a,b,c){let d=eh(eb(b));if(null===d)return;let e=d.anchorNode,{anchorOffset:f,focusOffset:g}=d;if(null!==e){let b=dS(e),d=dI(e);if(null!==b&&b6(d)){if(b===x&&c){let a=c.length;b=c,f=a,g=a}null!==b&&dU(d,b,f,g,a)}}}function dU(a,b,c,d,e){let f=a;if(f.isAttached()&&(e||!f.isDirty())){let g=f.isComposing(),h=b;(g||e)&&b[b.length-1]===x&&(h=b.slice(0,-1));let i=f.getTextContent();if(e||h!==i){if(""===h){if(dD(null),q||r||v)f.remove();else{let a=cQ();setTimeout(()=>{a.update(()=>{f.isAttached()&&f.remove()})},20)}return}let b=f.getParent(),e=cy(),i=f.getTextContentSize(),j=dE(),k=f.getKey();if(f.isToken()||null!==j&&k===j&&!g||cg(e)&&(null!==b&&!b.canInsertTextBefore()&&0===e.anchor.offset||e.anchor.key===a.__key&&0===e.anchor.offset&&!f.canInsertTextBefore()&&!g||e.focus.key===a.__key&&e.focus.offset===i&&!f.canInsertTextAfter()&&!g))return void f.markDirty();let l=cx();if(!cg(l)||null===c||null===d)return void dV(f,h,l);if(l.setTextNodeRange(f,c,f,d),f.isSegmented()){let a=b5(f.getTextContent());f.replace(a),f=a}dV(f,h,l)}}}function dV(a,b,c){if(a.setTextContent(b),cg(c)){let b=a.getKey();for(let d of["anchor","focus"]){let e=c[d];"text"===e.type&&e.key===b&&(e.offset=eL(a,e.offset,"clamp"))}}}function dW(a,b,c){let d=b[c]||!1;return"any"===d||d===a[c]}function dX(a,b,c){return dW(a,c,"altKey")&&dW(a,c,"ctrlKey")&&dW(a,c,"shiftKey")&&dW(a,c,"metaKey")&&a.key.toLowerCase()===b.toLowerCase()}let dY={ctrlKey:!n,metaKey:n},dZ={altKey:n,ctrlKey:!n};function d$(a){return"Backspace"===a.key}function d_(a,b){void 0===a.__lexicalClassNameCache&&(a.__lexicalClassNameCache={});let c=a.__lexicalClassNameCache,d=c[b];if(void 0!==d)return d;let e=a[b];if("string"==typeof e){let a=w(e);return c[b]=a,a}return e}function d0(a,b,c,d,e){if(0===c.size)return;let f=d.__type,g=d.__key,h=b.get(f);void 0===h&&j(33,f);let i=h.klass,k=a.get(i);void 0===k&&(k=new Map,a.set(i,k));let l=k.get(g),m="destroyed"===l&&"created"===e;(void 0===l||m)&&k.set(g,m?"updated":e)}function d1(a,b,c){let d=a.getParent(),e=c,f=a;return null!==d&&(b&&0===c?(e=f.getIndexWithinParent(),f=d):b||c!==f.getChildrenSize()||(e=f.getIndexWithinParent()+1,f=d)),f.getChildAtIndex(b?e-1:e)}function d2(a,b){let c=a.offset;if("element"===a.type)return d1(a.getNode(),b,c);{let d=a.getNode();if(b&&0===c||!b&&c===d.getTextContentSize()){let a=b?d.getPreviousSibling():d.getNextSibling();return null===a?d1(d.getParentOrThrow(),b,d.getIndexWithinParent()+ +!b):a}}return null}function d3(a){let b=eb(a).event,c=b&&b.inputType;return"insertFromPaste"===c||"insertFromPasteAsQuotation"===c}function d4(a,b,c){return function(a,b,c){let d=dQ(a);for(let e=4;e>=0;e--)for(let f=0;f<d.length;f++){let g=d[f],h=g._commands.get(b);if(void 0!==h){let b=h[e];if(void 0!==b){let d=Array.from(b),e=d.length,f=!1;if(c_(g,()=>{for(let b=0;b<e;b++)if(d[b](c,a))return void(f=!0)}),f)return f}}}return!1}(a,b,c)}function d5(a){return!c8(a)&&!a.isLastChild()&&!a.isInline()}function d6(a,b){let c=a._keyToDOMMap.get(b);return void 0===c&&j(75,b),c}function d7(a){let b=a.assignedSlot||a.parentElement;return ek(b)?b.host:b}function d8(a){return dy(a)?a:ei(a)?a.ownerDocument:null}function d9(a,b){let c=a.getParent();for(;null!==c;){if(c.is(b))return!0;c=c.getParent()}return!1}function ea(a){let b=d8(a);return b?b.defaultView:null}function eb(a){let b=a._window;return null===b&&j(78),b}function ec(a){return c8(a)||c3(a)&&a.isShadowRoot()}function ed(a){let b=cQ(),c=a.getType(),d=dn(b,c);void 0===d&&j(200,a.constructor.name,c);let{replace:e,replaceWithKlass:f}=d;if(null!==e){let b=e(a),d=b.constructor;return null!==f?b instanceof f||j(201,f.name,f.getType(),d.name,d.getType(),a.constructor.name,c):b instanceof a.constructor&&d!==a.constructor||j(202,d.name,d.getType(),a.constructor.name,c),b.__key===a.__key&&j(203,a.constructor.name,c,d.name,d.getType()),b}return a}function ee(a,b){!c8(a.getParent())||c3(b)||c6(b)||j(99)}function ef(a){return(c6(a)||c3(a)&&!a.canBeEmpty())&&!a.isInline()}function eg(a,b,c){c.style.removeProperty("caret-color"),b._blockCursorElement=null;let d=a.parentElement;null!==d&&d.removeChild(a)}function eh(a){return l?(a||window).getSelection():null}function ei(a){return ej(a)&&1===a.nodeType}function ej(a){return"object"==typeof a&&null!==a&&"nodeType"in a&&"number"==typeof a.nodeType}function ek(a){return ej(a)&&11===a.nodeType}function el(a){let b=RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==a.nodeName.match(b)}function em(a){let b=RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==a.nodeName.match(b)}function en(a){if(c6(a)&&!a.isInline())return!0;if(!c3(a)||ec(a))return!1;let b=a.getFirstChild(),c=null===b||bR(b)||b6(b)||b.isInline();return!a.isInline()&&!1!==a.canBeEmpty()&&c}let eo=new WeakMap,ep=new Map;function eq(a){if(!a._readOnly&&a.isEmpty())return ep;a._readOnly||j(192);let b=eo.get(a);return b||(b=function(a){let b=new Map;for(let[c,d]of a._nodeMap){let a=d.__type,e=b.get(a);e||(e=new Map,b.set(a,e)),e.set(c,d)}return b}(a),eo.set(a,b)),b}function er(a){let b=a.constructor.clone(a);return b.afterCloneFrom(a),b}function es(a,b){let c=Math.round((parseInt(a.style.paddingInlineStart,10)||0)/40);b.setIndent(c)}function et(a,b){return Object.prototype.hasOwnProperty.call(a,b)&&a[b]!==bM[b]}function eu(a){let b=H in a.prototype?a.prototype[H]():void 0,c=function(a){if(!(a===bM||a.prototype instanceof bM)){let b="<unknown>",c="<unknown>";try{b=a.getType()}catch(a){}try{dj.version&&(c=JSON.parse(dj.version))}catch(a){}j(290,a.name,b,c)}return a===c5||a===c2||a===bM}(a),d=!c&&et(a,"getType")?a.getType():void 0,e,f=d;if(b)if(d)e=b[d];else for(let[a,c]of Object.entries(b))f=a,e=c;if(!c&&f&&(et(a,"getType")||(a.getType=()=>f),et(a,"clone")||(a.clone=b=>(dk=b,new a)),et(a,"importJSON")||(a.importJSON=e&&e.$importJSON||(b=>(new a).updateFromJSON(b))),!et(a,"importDOM")&&e)){let{importDOM:b}=e;b&&(a.importDOM=()=>b)}return{ownNodeConfig:e,ownNodeType:f}}let ev=(a,b)=>{let c=a;for(;null!=c&&!c8(c);){if(b(c))return c;c=c.getParent()}return null},ew={next:"previous",previous:"next"};class ex{origin;constructor(a){this.origin=a}[Symbol.iterator](){return eS({hasNext:eE,initial:this.getAdjacentCaret(),map:a=>a,step:a=>a.getAdjacentCaret()})}getAdjacentCaret(){return eJ(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return eJ(this.origin,this.direction)}remove(){let a=this.getNodeAtCaret();return a&&a.remove(),this}replaceOrInsert(a,b){let c=this.getNodeAtCaret();return a.is(this.origin)||a.is(c)||(null===c?this.insert(a):c.replace(a,b)),this}splice(a,b,c="next"){let d=c===this.direction?b:Array.from(b).reverse(),e=this,f=this.getParentAtCaret(),g=new Map;for(let b=e.getAdjacentCaret();null!==b&&g.size<a;b=b.getAdjacentCaret()){let a=b.origin.getWritable();g.set(a.getKey(),a)}for(let a of d){if(g.size>0){let b=e.getNodeAtCaret();if(b)if(g.delete(b.getKey()),g.delete(a.getKey()),b.is(a)||e.origin.is(a));else{let c=a.getParent();c&&c.is(f)&&a.remove(),b.replace(a)}else null===b&&j(263,Array.from(g).join(" "))}else e.insert(a);e=eJ(a,this.direction)}for(let a of g.values())a.remove();return this}}class ey extends ex{type="child";getLatest(){let a=this.origin.getLatest();return a===this.origin?this:eM(a,this.direction)}getParentCaret(a="root"){return eJ(eA(this.getParentAtCaret(),a),this.direction)}getFlipped(){let a=ew[this.direction];return eJ(this.getNodeAtCaret(),a)||eM(this.origin,a)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(a){return a instanceof ey&&this.direction===a.direction&&this.origin.is(a.origin)}isSamePointCaret(a){return this.isSameNodeCaret(a)}}let ez={root:c8,shadowRoot:ec};function eA(a,b="root"){return ez[b](a)?null:a}class eB extends ex{type="sibling";getLatest(){let a=this.origin.getLatest();return a===this.origin?this:eJ(a,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return c3(this.origin)?eM(this.origin,this.direction):null}getParentCaret(a="root"){return eJ(eA(this.getParentAtCaret(),a),this.direction)}getFlipped(){let a=ew[this.direction];return eJ(this.getNodeAtCaret(),a)||eM(this.origin.getParentOrThrow(),a)}isSamePointCaret(a){return a instanceof eB&&this.direction===a.direction&&this.origin.is(a.origin)}isSameNodeCaret(a){return(a instanceof eB||a instanceof eC)&&this.direction===a.direction&&this.origin.is(a.origin)}}class eC extends ex{type="text";offset;constructor(a,b){super(a),this.offset=b}getLatest(){let a=this.origin.getLatest();return a===this.origin?this:eK(a,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(a="root"){return eJ(eA(this.getParentAtCaret(),a),this.direction)}getFlipped(){return eK(this.origin,ew[this.direction],this.offset)}isSamePointCaret(a){return a instanceof eC&&this.direction===a.direction&&this.origin.is(a.origin)&&this.offset===a.offset}isSameNodeCaret(a){return(a instanceof eB||a instanceof eC)&&this.direction===a.direction&&this.origin.is(a.origin)}getSiblingCaret(){return eJ(this.origin,this.direction)}}function eD(a){return a instanceof eC}function eE(a){return a instanceof eB}function eF(a){return a instanceof ey}let eG={next:class extends eC{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(a){return this.origin.insertAfter(a),this}},previous:class extends eC{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(a){return this.origin.insertBefore(a),this}}},eH={next:class extends eB{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(a){return this.origin.insertAfter(a),this}},previous:class extends eB{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(a){return this.origin.insertBefore(a),this}}},eI={next:class extends ey{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(a){return this.origin.splice(0,0,[a]),this}},previous:class extends ey{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(a){return this.origin.splice(this.origin.getChildrenSize(),0,[a]),this}}};function eJ(a,b){return a?new eH[b](a):null}function eK(a,b,c){return a?new eG[b](a,eL(a,c)):null}function eL(a,b,c="error"){let d=a.getTextContentSize(),e="next"===b?d:"previous"===b?0:b;return(e<0||e>d)&&("clamp"!==c&&k(284,String(b),String(d),a.getKey()),e=e<0?0:d),e}function eM(a,b){return c3(a)?new eI[b](a):null}function eN(a){var b;return a&&((b=a.getAdjacentCaret())&&b.getChildCaret()||b)}class eO{type="node-caret-range";direction;anchor;focus;constructor(a,b,c){this.anchor=a,this.focus=b,this.direction=c}getLatest(){let a=this.anchor.getLatest(),b=this.focus.getLatest();return a===this.anchor&&b===this.focus?this:new eO(a,b,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){let a=a=>{let b=this[a].getLatest();return eD(b)?function(a,b){let{direction:c,origin:d}=a;return new eP(a,eL(d,"focus"===b?ew[c]:c)-a.offset)}(b,a):null},b=a("anchor"),c=a("focus");if(b&&c){let{caret:a}=b,{caret:d}=c;if(a.isSameNodeCaret(d))return[new eP(a,d.offset-a.offset),null]}return[b,c]}iterNodeCarets(a="root"){let b=eD(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),c=this.focus.getLatest(),d=eD(c),e=b=>b.isSameNodeCaret(c)?null:eN(b)||b.getParentCaret(a);return eS({hasNext:a=>null!==a&&!(d&&c.isSameNodeCaret(a)),initial:b.isSameNodeCaret(c)?null:e(b),map:a=>a,step:e})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class eP{type="slice";caret;distance;constructor(a,b){this.caret=a,this.distance=b}getSliceIndices(){let{distance:a,caret:{offset:b}}=this,c=b+a;return c<b?[c,b]:[b,c]}getTextContent(){let[a,b]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(a,b)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){let{caret:{origin:a,direction:b}}=this,[c,d]=this.getSliceIndices(),e=a.getTextContent();return eK(a.setTextContent(e.slice(0,c)+e.slice(d)),b,c)}}function eQ(a){return eR(a,eJ(dL(),a.direction))}function eR(a,b){return a.direction!==b.direction&&j(265),new eO(a,b,a.direction)}function eS(a){let{initial:b,hasNext:c,step:d,map:e}=a,f=b;return{[Symbol.iterator](){return this},next(){if(!c(f))return{done:!0,value:void 0};let a={done:!1,value:e(f)};return f=d(f),a}}}function eT(a,b){let c=eW(a.origin,b.origin);switch(null===c&&j(275,a.origin.getKey(),b.origin.getKey()),c.type){case"same":{let c="text"===a.type,d="text"===b.type;return c&&d?Math.sign(a.offset-b.offset):a.type===b.type?0:c?-1:d?1:"child"===a.type?-1:1}case"ancestor":return"child"===a.type?-1:1;case"descendant":return"child"===b.type?1:-1;case"branch":return eU(c)}}function eU(a){let{a:b,b:c}=a,d=b.__key,e=c.__key,f=b,g=c;for(;f&&g;f=f.getNextSibling(),g=g.getNextSibling()){if(f.__key===e)return -1;if(g.__key===d)return 1}return null===f?1:-1}function eV(a){return c3(a)?[a.getLatest(),null]:[a.getParent(),a.getLatest()]}function eW(a,b){if(a.is(b))return{commonAncestor:a,type:"same"};let c=new Map;for(let[b,d]=eV(a);b;d=b,b=b.getParent())c.set(b,d);for(let[d,e]=eV(b);d;e=d,d=d.getParent()){let f=c.get(d);if(void 0!==f)return null===f?(d.is(a)||j(276),{commonAncestor:d,type:"ancestor"}):null===e?(d.is(b)||j(277),{commonAncestor:d,type:"descendant"}):((c3(f)||f.is(a))&&(c3(e)||e.is(b))&&d.is(f.getParent())&&d.is(e.getParent())||j(278),{a:f,b:e,commonAncestor:d,type:"branch"})}return null}function eX(a,b){let{type:c,key:d,offset:e}=a,f=function(a){let b=dF(a);return null===b&&j(63,a),b}(a.key);return"text"===c?(b6(f)||j(266,f.getType(),d),eK(f,b,e)):(c3(f)||j(267,f.getType(),d),function(a,b,c){let d=eM(a,"next");for(let a=0;a<b;a++){let a=d.getAdjacentCaret();if(null===a)break;d=a}return e4(d,c)}(f,a.offset,b))}function eY(a,b){let{origin:c,direction:d}=b,e="next"===d;eD(b)?a.set(c.getKey(),b.offset,"text"):eE(b)?b6(c)?a.set(c.getKey(),eL(c,d),"text"):a.set(c.getParentOrThrow().getKey(),c.getIndexWithinParent()+ +!!e,"element"):(eF(b)&&c3(c)||j(268),a.set(c.getKey(),e?0:c.getChildrenSize(),"element"))}function eZ(a,b){eY(a.anchor,b.anchor),eY(a.focus,b.focus)}function e$(a){let{anchor:b,focus:c}=a,d=eX(b,"next"),e=eX(c,"next"),f=0>=eT(d,e)?"next":"previous";return eR(e4(d,f),e4(e,f))}function e_(a){let{direction:b,origin:c}=a,d=eJ(c,ew[b]).getNodeAtCaret();return d?eJ(d,b):eM(c.getParentOrThrow(),b)}function e0(a,b="root"){let c=[a];for(let d=eF(a)?a.getParentCaret(b):a.getSiblingCaret();null!==d;d=d.getParentCaret(b))c.push(e_(d));return c}function e1(a){return!!a&&a.origin.isAttached()}function e2(a){let b=function(a){let b=a;for(;eF(b);){let a=eN(b);if(!eF(a))break;b=a}return b}(a.getLatest()),{direction:c}=b;if(b6(b.origin))return eD(b)?b:eK(b.origin,c,c);let d=b.getAdjacentCaret();return eE(d)&&b6(d.origin)?eK(d.origin,c,ew[c]):b}function e3(a){return eD(a)&&a.offset!==eL(a.origin,a.direction)}function e4(a,b){return a.direction===b?a:a.getFlipped()}function e5(a,b){return a.direction===b?a:eR(e4(a.focus,b),e4(a.anchor,b))}function e6(a,b){if(!b||a===b)return a;for(let c in b)if(a[c]!==b[c])return{...a,...b};return a}let e7="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,e8=e7?g.useLayoutEffect:g.useEffect,e9={tag:bN};function fa({initialConfig:a,children:b}){let c=(0,g.useMemo)(()=>{let{theme:b,namespace:c,nodes:d,onError:e,editorState:f,html:g}=a,h={getTheme:function(){return null!=b?b:null}},i=di({editable:a.editable,html:g,namespace:c,nodes:d,onError:a=>e(a,i),theme:b});return function(a,b){if(null!==b){if(void 0===b)a.update(()=>{let b=dL();if(b.isEmpty()){let c=df();b.append(c);let d=e7?document.activeElement:null;(null!==cx()||null!==d&&d===a.getRootElement())&&c.select()}},e9);else if(null!==b)switch(typeof b){case"string":{let c=a.parseEditorState(b);a.setEditorState(c,e9);break}case"object":a.setEditorState(b,e9);break;case"function":a.update(()=>{dL().isEmpty()&&b(a)},e9)}}}(i,f),[i,h]},[]);return e8(()=>{let b=a.editable,[d]=c;d.setEditable(void 0===b||b)},[]),(0,f.jsx)(h.Provider,{value:c,children:b})}let fb="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?g.useLayoutEffect:g.useEffect;function fc({ignoreHistoryMergeTagChange:a=!0,ignoreSelectionChange:b=!1,onChange:c}){let[d]=i();return fb(()=>{if(c)return d.registerUpdateListener(({editorState:e,dirtyElements:f,dirtyLeaves:g,prevEditorState:h,tags:i})=>{b&&0===f.size&&0===g.size||a&&i.has(bN)||h.isEmpty()||c(e,d,i)})},[d,a,b,c]),null}c(86503);var fd=c(87868),fe=c(92808),ff=c(2332),fg=c(7412),fh=(c(75656),c(25479)),fi=c(61611),fj=c(29988),fk=c(99978),fl=Symbol("radix.slottable"),fm=(c(11720),c(85009)),[fn,fo]=(0,ff.A)("Tooltip",[fh.Bk]),fp=(0,fh.Bk)(),fq="TooltipProvider",fr="tooltip.open",[fs,ft]=fn(fq),fu=a=>{let{__scopeTooltip:b,delayDuration:c=700,skipDelayDuration:d=300,disableHoverableContent:e=!1,children:h}=a,i=g.useRef(!0),j=g.useRef(!1),k=g.useRef(0);return g.useEffect(()=>{let a=k.current;return()=>window.clearTimeout(a)},[]),(0,f.jsx)(fs,{scope:b,isOpenDelayedRef:i,delayDuration:c,onOpen:g.useCallback(()=>{window.clearTimeout(k.current),i.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(k.current),k.current=window.setTimeout(()=>i.current=!0,d)},[d]),isPointerInTransitRef:j,onPointerInTransitChange:g.useCallback(a=>{j.current=a},[]),disableHoverableContent:e,children:h})};fu.displayName=fq;var fv="Tooltip",[fw,fx]=fn(fv),fy="TooltipTrigger";g.forwardRef((a,b)=>{let{__scopeTooltip:c,...d}=a,e=fx(fy,c),h=ft(fy,c),i=fp(c),j=g.useRef(null),k=(0,fe.s)(b,j,e.onTriggerChange),l=g.useRef(!1),m=g.useRef(!1),n=g.useCallback(()=>l.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",n),[n]),(0,f.jsx)(fh.Mz,{asChild:!0,...i,children:(0,f.jsx)(fk.sG.button,{"aria-describedby":e.open?e.contentId:void 0,"data-state":e.stateAttribute,...d,ref:k,onPointerMove:(0,fd.mK)(a.onPointerMove,a=>{"touch"!==a.pointerType&&(m.current||h.isPointerInTransitRef.current||(e.onTriggerEnter(),m.current=!0))}),onPointerLeave:(0,fd.mK)(a.onPointerLeave,()=>{e.onTriggerLeave(),m.current=!1}),onPointerDown:(0,fd.mK)(a.onPointerDown,()=>{e.open&&e.onClose(),l.current=!0,document.addEventListener("pointerup",n,{once:!0})}),onFocus:(0,fd.mK)(a.onFocus,()=>{l.current||e.onOpen()}),onBlur:(0,fd.mK)(a.onBlur,e.onClose),onClick:(0,fd.mK)(a.onClick,e.onClose)})})}).displayName=fy;var fz="TooltipPortal",[fA,fB]=fn(fz,{forceMount:void 0}),fC=a=>{let{__scopeTooltip:b,forceMount:c,children:d,container:e}=a,g=fx(fz,b);return(0,f.jsx)(fA,{scope:b,forceMount:c,children:(0,f.jsx)(fj.C,{present:c||g.open,children:(0,f.jsx)(fi.Z,{asChild:!0,container:e,children:d})})})};fC.displayName=fz;var fD="TooltipContent",fE=g.forwardRef((a,b)=>{let c=fB(fD,a.__scopeTooltip),{forceMount:d=c.forceMount,side:e="top",...g}=a,h=fx(fD,a.__scopeTooltip);return(0,f.jsx)(fj.C,{present:d||h.open,children:h.disableHoverableContent?(0,f.jsx)(fJ,{side:e,...g,ref:b}):(0,f.jsx)(fF,{side:e,...g,ref:b})})}),fF=g.forwardRef((a,b)=>{let c=fx(fD,a.__scopeTooltip),d=ft(fD,a.__scopeTooltip),e=g.useRef(null),h=(0,fe.s)(b,e),[i,j]=g.useState(null),{trigger:k,onClose:l}=c,m=e.current,{onPointerInTransitChange:n}=d,o=g.useCallback(()=>{j(null),n(!1)},[n]),p=g.useCallback((a,b)=>{let c=a.currentTarget,d={x:a.clientX,y:a.clientY},e=function(a,b){let c=Math.abs(b.top-a.y),d=Math.abs(b.bottom-a.y),e=Math.abs(b.right-a.x),f=Math.abs(b.left-a.x);switch(Math.min(c,d,e,f)){case f:return"left";case e:return"right";case c:return"top";case d:return"bottom";default:throw Error("unreachable")}}(d,c.getBoundingClientRect());j(function(a){let b=a.slice();return b.sort((a,b)=>a.x<b.x?-1:a.x>b.x?1:a.y<b.y?-1:1*!!(a.y>b.y)),function(a){if(a.length<=1)return a.slice();let b=[];for(let c=0;c<a.length;c++){let d=a[c];for(;b.length>=2;){let a=b[b.length-1],c=b[b.length-2];if((a.x-c.x)*(d.y-c.y)>=(a.y-c.y)*(d.x-c.x))b.pop();else break}b.push(d)}b.pop();let c=[];for(let b=a.length-1;b>=0;b--){let d=a[b];for(;c.length>=2;){let a=c[c.length-1],b=c[c.length-2];if((a.x-b.x)*(d.y-b.y)>=(a.y-b.y)*(d.x-b.x))c.pop();else break}c.push(d)}return(c.pop(),1===b.length&&1===c.length&&b[0].x===c[0].x&&b[0].y===c[0].y)?b:b.concat(c)}(b)}([...function(a,b,c=5){let d=[];switch(b){case"top":d.push({x:a.x-c,y:a.y+c},{x:a.x+c,y:a.y+c});break;case"bottom":d.push({x:a.x-c,y:a.y-c},{x:a.x+c,y:a.y-c});break;case"left":d.push({x:a.x+c,y:a.y-c},{x:a.x+c,y:a.y+c});break;case"right":d.push({x:a.x-c,y:a.y-c},{x:a.x-c,y:a.y+c})}return d}(d,e),...function(a){let{top:b,right:c,bottom:d,left:e}=a;return[{x:e,y:b},{x:c,y:b},{x:c,y:d},{x:e,y:d}]}(b.getBoundingClientRect())])),n(!0)},[n]);return g.useEffect(()=>()=>o(),[o]),g.useEffect(()=>{if(k&&m){let a=a=>p(a,m),b=a=>p(a,k);return k.addEventListener("pointerleave",a),m.addEventListener("pointerleave",b),()=>{k.removeEventListener("pointerleave",a),m.removeEventListener("pointerleave",b)}}},[k,m,p,o]),g.useEffect(()=>{if(i){let a=a=>{let b=a.target,c={x:a.clientX,y:a.clientY},d=k?.contains(b)||m?.contains(b),e=!function(a,b){let{x:c,y:d}=a,e=!1;for(let a=0,f=b.length-1;a<b.length;f=a++){let g=b[a],h=b[f],i=g.x,j=g.y,k=h.x,l=h.y;j>d!=l>d&&c<(k-i)*(d-j)/(l-j)+i&&(e=!e)}return e}(c,i);d?o():e&&(o(),l())};return document.addEventListener("pointermove",a),()=>document.removeEventListener("pointermove",a)}},[k,m,i,l,o]),(0,f.jsx)(fJ,{...a,ref:h})}),[fG,fH]=fn(fv,{isInside:!1}),fI=function(a){let b=({children:a})=>(0,f.jsx)(f.Fragment,{children:a});return b.displayName=`${a}.Slottable`,b.__radixId=fl,b}("TooltipContent"),fJ=g.forwardRef((a,b)=>{let{__scopeTooltip:c,children:d,"aria-label":e,onEscapeKeyDown:h,onPointerDownOutside:i,...j}=a,k=fx(fD,c),l=fp(c),{onClose:m}=k;return g.useEffect(()=>(document.addEventListener(fr,m),()=>document.removeEventListener(fr,m)),[m]),g.useEffect(()=>{if(k.trigger){let a=a=>{let b=a.target;b?.contains(k.trigger)&&m()};return window.addEventListener("scroll",a,{capture:!0}),()=>window.removeEventListener("scroll",a,{capture:!0})}},[k.trigger,m]),(0,f.jsx)(fg.qW,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:h,onPointerDownOutside:i,onFocusOutside:a=>a.preventDefault(),onDismiss:m,children:(0,f.jsxs)(fh.UC,{"data-state":k.stateAttribute,...l,...j,ref:b,style:{...j.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,f.jsx)(fI,{children:d}),(0,f.jsx)(fG,{scope:c,isInside:!0,children:(0,f.jsx)(fm.bL,{id:k.contentId,role:"tooltip",children:e||d})})]})})});fE.displayName=fD;var fK="TooltipArrow";g.forwardRef((a,b)=>{let{__scopeTooltip:c,...d}=a,e=fp(c);return fH(fK,c).isInside?null:(0,f.jsx)(fh.i3,{...e,...d,ref:b})}).displayName=fK;var fL=c(15514);g.forwardRef(({className:a,sideOffset:b=4,...c},d)=>(0,f.jsx)(fC,{children:(0,f.jsx)(fE,{ref:d,sideOffset:b,className:(0,fL.cn)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",a),...c})})).displayName=fE.displayName;let fM=new Map;function fN(a){let b=cQ().getElementByKey(a.getKey());if(null===b)return null;let c=b.ownerDocument.defaultView;return null===c?null:c.getComputedStyle(b)}function fO(a){return fN(c8(a)?a:a.getParentOrThrow())}function fP(a){let b=fO(a);return null!==b&&"rtl"===b.direction}function fQ(a,b,c="self"){let d=a.getStartEndPoints();if(b.isSelected(a)&&!dw(b)&&null!==d){let[f,g]=d,h=a.isBackward(),i=f.getNode(),j=g.getNode(),k=b.is(i),l=b.is(j);if(k||l){var e;let[d,f]=ck(a),g=i.is(j),k=b.is(h?j:i),l=b.is(h?i:j),m,n=0;g?(n=d>f?f:d,m=d>f?d:f):k?(n=h?f:d,m=void 0):l&&(n=0,m=h?d:f);let o=b.__text.slice(n,m);o!==b.__text&&("clone"===c&&((e=er(b))[bK]=!0,b=e),b.__text=o)}}return b}function fR(a){let b=fS(a);return null!==b&&"vertical-rl"===b.writingMode}function fS(a){let b=a.anchor.getNode();return c3(b)?fN(b):fO(b)}function fT(a,b){let c=fR(a)?!b:b;fU(a)&&(c=!c);let d=eX(a.focus,c?"previous":"next");if(e3(d))return!1;for(let a of eQ(d)){if(eF(a))return!a.origin.isInline();if(!c3(a.origin)){if(c6(a.origin))return!0;break}}return!1}function fU(a){let b=fS(a);return null!==b&&"rtl"===b.direction}function fV(a,b,c){let d,e=fU(a);d=fR(a)||e?!c:c,a.modify(b?"extend":"move",d,"character")}let fW=new Set(["STYLE","SCRIPT"]),fX="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,fY=fX&&"documentMode"in document?document.documentMode:null;fX&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),fX&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),fX&&"InputEvent"in window&&!fY&&new window.InputEvent("input"),fX&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),fX&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,fX&&/Android/.test(navigator.userAgent),fX&&/^(?=.*Chrome).*/i.test(navigator.userAgent);function fZ(...a){return()=>{for(let b=a.length-1;b>=0;b--)a[b]();a.length=0}}function f$(a,...b){let c=function(...a){let b=[];for(let c of a)if(c&&"string"==typeof c)for(let[a]of c.matchAll(/\S+/g))b.push(a);return b}(...b);c.length>0&&a.classList.add(...c)}fX&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent);function f_(a,b){return null!==a&&Object.getPrototypeOf(a).constructor.name===b.name}function f0(a,...b){let c=new URL("https://lexical.dev/docs/error"),d=new URLSearchParams;for(let c of(d.append("code",a),b))d.append("v",c);throw c.search=d.toString(),Error(`Minified Lexical error #${a}; visit ${c.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function f1(a,b,c){let d=a.getData("application/x-lexical-editor");if(d)try{let a=JSON.parse(d);if(a.namespace===c._config.namespace&&Array.isArray(a.nodes))return f2(c,function(a){let b=[];for(let c=0;c<a.length;c++){let d=cV(a[c],cQ()._nodes);b6(d)&&function(a){let b=a.getStyle(),c=function(a){let b={};if(!a)return b;for(let c of a.split(";"))if(""!==c){let[a,d]=c.split(/:([^]+)/);a&&d&&(b[a.trim()]=d.trim())}return b}(b);fM.set(b,c)}(d),b.push(d)}return b}(a.nodes),b)}catch(a){console.error(a)}let e=a.getData("text/html"),f=a.getData("text/plain");if(e&&f!==e)try{let a=(new DOMParser).parseFromString(window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:a=>a}).createHTML(e):e,"text/html");return f2(c,function(a,b){let c=dy(b)?b.body.childNodes:b.childNodes,d=[],e=[];for(let b of c)if(!fW.has(b.nodeName)){let c=function a(b,c,d,e,f=new Map,g){let h=[];if(fW.has(b.nodeName))return h;let i=null,j=function(a,b){let{nodeName:c}=a,d=b._htmlConversions.get(c.toLowerCase()),e=null;if(void 0!==d)for(let b of d){let c=b(a);null!==c&&(null===e||(e.priority||0)<=(c.priority||0))&&(e=c)}return null!==e?e.conversion:null}(b,c),k=j?j(b):null,l=null;if(null!==k){l=k.after;let a=k.node;if(null!==(i=Array.isArray(a)?a[a.length-1]:a)){for(let[,a]of f)if(!(i=a(i,g)))break;i&&h.push(...Array.isArray(a)?a:[i])}null!=k.forChild&&f.set(b.nodeName,k.forChild)}let m=b.childNodes,n=[],o=(null==i||!ec(i))&&(null!=i&&cs(i)||e);for(let b=0;b<m.length;b++)n.push(...a(m[b],c,d,o,new Map(f),i));return null!=l&&(n=l(n)),em(b)&&(n=function(a,b,c){let d=a.style.textAlign,e=[],f=[];for(let a=0;a<b.length;a++){let g=b[a];if(cs(g))d&&!g.getFormat()&&g.setFormat(d),e.push(g);else if(f.push(g),a===b.length-1||a<b.length-1&&cs(b[a+1])){let a=c();a.setFormat(d),a.append(...f),e.push(a),f=[]}}return e}(b,n,o?()=>{let a=new dc;return d.push(a),a}:df)),null==i?n.length>0?h=h.concat(n):em(b)&&null!=b.nextSibling&&null!=b.previousSibling&&el(b.nextSibling)&&el(b.previousSibling)&&(h=h.concat(bQ())):c3(i)&&i.append(...n),h}(b,a,e,!1);null!==c&&(d=d.concat(c))}return function(a){for(let b of a)b.getNextSibling()instanceof dc&&b.insertAfter(bQ());for(let b of a){for(let a of b.getChildren())b.insertBefore(a);b.remove()}}(e),d}(c,a),b)}catch(a){console.error(a)}let g=f||a.getData("text/uri-list");if(null!=g)if(cg(b)){let a=g.split(/(\r?\n|\t)/);""===a[a.length-1]&&a.pop();for(let b=0;b<a.length;b++){let c=cx();if(cg(c)){let d=a[b];"\n"===d||"\r\n"===d?c.insertParagraph():"	"===d?c.insertNodes([b9()]):c.insertText(d)}}}else b.insertRawText(g)}function f2(a,b,c){a.dispatchCommand(aE,{nodes:b,selection:c})||(c.insertNodes(b),function(a){if(cg(a)&&a.isCollapsed()){let b=a.anchor,c=null,d=eX(b,"previous");if(d)if(eD(d))c=d.origin;else for(let a of eR(d,eM(dL(),"next").getFlipped())){if(b6(a.origin)){c=a.origin;break}if(c3(a.origin)&&!a.origin.isInline())break}if(c&&b6(c)){let b=c.getFormat(),d=c.getStyle();a.format===b&&a.style===d||(a.format=b,a.style=d,a.dirty=!0)}}}(c))}let f3=null;async function f4(a,b,c){if(null!==f3)return!1;if(null!==b)return new Promise((d,e)=>{a.update(()=>{d(f5(a,b,c))})});let d=a.getRootElement(),e=a._window||window,f=e.document,g=eh(e);if(null===d||null===g)return!1;let h=f.createElement("span");h.style.cssText="position: fixed; top: -1000px;",h.append(f.createTextNode("#")),d.append(h);let i=new Range;return i.setStart(h,0),i.setEnd(h,1),g.removeAllRanges(),g.addRange(i),new Promise((b,d)=>{let g=a.registerCommand(ba,d=>(f_(d,ClipboardEvent)&&(g(),null!==f3&&(e.clearTimeout(f3),f3=null),b(f5(a,d,c))),!0),4);f3=e.setTimeout(()=>{g(),f3=null,b(!1)},50),f.execCommand("copy"),h.remove()})}function f5(a,b,c){if(void 0===c){let b=eh(a._window),d=cx();if(!d||d.isCollapsed()||!b)return!1;let e=b.anchorNode,f=b.focusNode;if(null!==e&&null!==f&&!dr(a,e,f))return!1;c=function(a=cx()){let b={"text/plain":a?a.getTextContent():""};if(a){let c=cQ();for(let[d,e]of f6){let f=e(c,a);null!==f&&(b[d]=f)}}return b}(d)}b.preventDefault();let d=b.clipboardData;return null!==d&&(function(a,b){for(let[c]of f6)void 0===b[c]&&a.setData(c,"");for(let c in b){let d=b[c];void 0!==d&&a.setData(c,d)}}(d,c),!0)}let f6=[["text/html",function(a,b=cx()){return null==b&&f0(166),cg(b)&&b.isCollapsed()||0===b.getNodes().length?"":function(a,b){if("undefined"==typeof document||"undefined"==typeof window&&void 0===global.window)throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let c=document.createElement("div"),d=dL().getChildren();for(let e=0;e<d.length;e++)!function a(b,c,d,e=null){let f=null===e||c.isSelected(e),g=c3(c)&&c.excludeFromCopy("html"),h=c;null!==e&&b6(c)&&(h=fQ(e,c,"clone"));let i=c3(h)?h.getChildren():[],j=dn(b,h.getType()),{element:k,after:l}=j&&void 0!==j.exportDOM?j.exportDOM(b,h):h.exportDOM(b);if(!k)return!1;let m=document.createDocumentFragment();for(let d=0;d<i.length;d++){let g=i[d],h=a(b,g,m,e);!f&&c3(c)&&h&&c.extractWithChild(g,e,"html")&&(f=!0)}if(f&&!g){if((ei(k)||ek(k))&&k.append(m),d.append(k),l){let a=l.call(h,k);a&&(ek(k)?k.replaceChildren(a):k.replaceWith(a))}}else d.append(m);return f}(a,d[e],c,b);return c.innerHTML}(a,b)}],["application/x-lexical-editor",function(a,b=cx()){return null==b&&f0(166),cg(b)&&b.isCollapsed()||0===b.getNodes().length?null:JSON.stringify(function(a,b){let c=[],d=dL().getChildren();for(let e=0;e<d.length;e++)!function a(b,c,d,e=[]){let f=null===c||d.isSelected(c),g=c3(d)&&d.excludeFromCopy("html"),h=d;null!==c&&b6(h)&&(h=fQ(c,h,"clone"));let i=c3(h)?h.getChildren():[],j=function(a){let b=a.exportJSON(),c=a.constructor;return b.type!==c.getType()&&f0(58,c.name),c3(a)&&(Array.isArray(b.children)||f0(59,c.name)),b}(h);b6(h)&&0===h.getTextContentSize()&&(f=!1);for(let e=0;e<i.length;e++){let g=i[e],h=a(b,c,g,j.children);!f&&c3(d)&&h&&d.extractWithChild(g,c,"clone")&&(f=!0)}if(f&&!g)e.push(j);else if(Array.isArray(j.children))for(let a=0;a<j.children.length;a++){let b=j.children[a];e.push(b)}return f}(a,b,d[e],c);return{namespace:a._config.namespace,nodes:c}}(a,b))}]],f7=Symbol.for("preact-signals");function f8(){if(ga>1)return void ga--;let a,b=!1;for(;void 0!==e;){let c=e;for(e=void 0,gb++;void 0!==c;){let d=c.o;if(c.o=void 0,c.f&=-3,!(8&c.f)&&gf(c))try{c.c()}catch(c){b||(a=c,b=!0)}c=d}}if(gb=0,ga--,b)throw a}function f9(a){let b=d;d=void 0;try{return a()}finally{d=b}}let ga=0,gb=0,gc=0;function gd(a){if(void 0===d)return;let b=a.n;return void 0===b||b.t!==d?(b={i:0,S:a,p:d.s,n:void 0,t:d,e:void 0,x:void 0,r:b},void 0!==d.s&&(d.s.n=b),d.s=b,a.n=b,32&d.f&&a.S(b),b):-1===b.i?(b.i=0,void 0!==b.n&&(b.n.p=b.p,void 0!==b.p&&(b.p.n=b.n),b.p=d.s,b.n=void 0,d.s.n=b,d.s=b),b):void 0}function ge(a,b){this.v=a,this.i=0,this.n=void 0,this.t=void 0,this.W=null==b?void 0:b.watched,this.Z=null==b?void 0:b.unwatched,this.name=null==b?void 0:b.name}function gf(a){for(let b=a.s;void 0!==b;b=b.n)if(b.S.i!==b.i||!b.S.h()||b.S.i!==b.i)return!0;return!1}function gg(a){for(let b=a.s;void 0!==b;b=b.n){let c=b.S.n;if(void 0!==c&&(b.r=c),b.S.n=b,b.i=-1,void 0===b.n){a.s=b;break}}}function gh(a){let b,c=a.s;for(;void 0!==c;){let a=c.p;-1===c.i?(c.S.U(c),void 0!==a&&(a.n=c.n),void 0!==c.n&&(c.n.p=a)):b=c,c.S.n=c.r,void 0!==c.r&&(c.r=void 0),c=a}a.s=b}function gi(a,b){ge.call(this,void 0),this.x=a,this.s=void 0,this.g=gc-1,this.f=4,this.W=null==b?void 0:b.watched,this.Z=null==b?void 0:b.unwatched,this.name=null==b?void 0:b.name}function gj(a){let b=a.u;if(a.u=void 0,"function"==typeof b){ga++;let c=d;d=void 0;try{b()}catch(b){throw a.f&=-2,a.f|=8,gk(a),b}finally{d=c,f8()}}}function gk(a){for(let b=a.s;void 0!==b;b=b.n)b.S.U(b);a.x=void 0,a.s=void 0,gj(a)}function gl(a){if(d!==this)throw Error("Out-of-order effect");gh(this),d=a,this.f&=-2,8&this.f&&gk(this),f8()}function gm(a,b){this.x=a,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=null==b?void 0:b.name}function gn(a,b){let c=new gm(a,b);try{c.c()}catch(a){throw c.d(),a}let d=c.d.bind(c);return d[Symbol.dispose]=d,d}function go(a,b={}){let c={};for(let d in a){let e=b[d],f=new ge(void 0===e?a[d]:e,void 0);c[d]=f}return c}ge.prototype.brand=f7,ge.prototype.h=function(){return!0},ge.prototype.S=function(a){let b=this.t;b!==a&&void 0===a.e&&(a.x=b,this.t=a,void 0!==b?b.e=a:f9(()=>{var a;null==(a=this.W)||a.call(this)}))},ge.prototype.U=function(a){if(void 0!==this.t){let b=a.e,c=a.x;void 0!==b&&(b.x=c,a.e=void 0),void 0!==c&&(c.e=b,a.x=void 0),a===this.t&&(this.t=c,void 0===c&&f9(()=>{var a;null==(a=this.Z)||a.call(this)}))}},ge.prototype.subscribe=function(a){return gn(()=>{let b=this.value,c=d;d=void 0;try{a(b)}finally{d=c}},{name:"sub"})},ge.prototype.valueOf=function(){return this.value},ge.prototype.toString=function(){return this.value+""},ge.prototype.toJSON=function(){return this.value},ge.prototype.peek=function(){let a=d;d=void 0;try{return this.value}finally{d=a}},Object.defineProperty(ge.prototype,"value",{get(){let a=gd(this);return void 0!==a&&(a.i=this.i),this.v},set(a){if(a!==this.v){if(gb>100)throw Error("Cycle detected");this.v=a,this.i++,gc++,ga++;try{for(let a=this.t;void 0!==a;a=a.x)a.t.N()}finally{f8()}}}}),gi.prototype=new ge,gi.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f)||(this.f&=-5,this.g===gc))return!0;if(this.g=gc,this.f|=1,this.i>0&&!gf(this))return this.f&=-2,!0;let a=d;try{gg(this),d=this;let a=this.x();(16&this.f||this.v!==a||0===this.i)&&(this.v=a,this.f&=-17,this.i++)}catch(a){this.v=a,this.f|=16,this.i++}return d=a,gh(this),this.f&=-2,!0},gi.prototype.S=function(a){if(void 0===this.t){this.f|=36;for(let a=this.s;void 0!==a;a=a.n)a.S.S(a)}ge.prototype.S.call(this,a)},gi.prototype.U=function(a){if(void 0!==this.t&&(ge.prototype.U.call(this,a),void 0===this.t)){this.f&=-33;for(let a=this.s;void 0!==a;a=a.n)a.S.U(a)}},gi.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let a=this.t;void 0!==a;a=a.x)a.t.N()}},Object.defineProperty(gi.prototype,"value",{get(){if(1&this.f)throw Error("Cycle detected");let a=gd(this);if(this.h(),void 0!==a&&(a.i=this.i),16&this.f)throw this.v;return this.v}}),gm.prototype.c=function(){let a=this.S();try{if(8&this.f||void 0===this.x)return;let a=this.x();"function"==typeof a&&(this.u=a)}finally{a()}},gm.prototype.S=function(){if(1&this.f)throw Error("Cycle detected");this.f|=1,this.f&=-9,gj(this),gg(this),ga++;let a=d;return d=this,gl.bind(this,a)},gm.prototype.N=function(){2&this.f||(this.f|=2,this.o=e,e=this)},gm.prototype.d=function(){this.f|=8,1&this.f||gk(this)},gm.prototype.dispose=function(){this.d()},(a,b,c)=>go(b);function gp(a,...b){let c=new URL("https://lexical.dev/docs/error"),d=new URLSearchParams;for(let c of(d.append("code",a),b))d.append("v",c);throw c.search=d.toString(),Error(`Minified Lexical error #${a}; visit ${c.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let gq=new Set;class gr{builder;configs;_dependency;_peerNameSet;extension;state;_signal;constructor(a,b){this.builder=a,this.extension=b,this.configs=new Set,this.state={id:0}}mergeConfigs(){let a=this.extension.config||{},b=this.extension.mergeConfig?this.extension.mergeConfig.bind(this.extension):e6;for(let c of this.configs)a=b(a,c);return a}init(a){let b,c=this.state;2===c.id||gp(306,String(c.id));let d={getDependency:this.getInitDependency.bind(this),getDirectDependentNames:this.getDirectDependentNames.bind(this),getPeer:this.getInitPeer.bind(this),getPeerNameSet:this.getPeerNameSet.bind(this)},e={...d,getDependency:this.getDependency.bind(this),getInitResult:this.getInitResult.bind(this),getPeer:this.getPeer.bind(this)},f=Object.assign(c,{config:this.mergeConfigs(),id:3,registerState:d});this.state=f,this.extension.init&&(b=this.extension.init(a,f.config,d)),this.state=Object.assign(f,{id:4,initResult:b,registerState:e})}build(a){let b,c=this.state;4!==c.id&&gp(307,String(c.id),String(5)),this.extension.build&&(b=this.extension.build(a,c.config,c.registerState));let d={...c.registerState,getOutput:()=>b,getSignal:this.getSignal.bind(this)};this.state=Object.assign(c,{id:5,output:b,registerState:d})}register(a,b){this._signal=b;let c=this.state;5!==c.id&&gp(308,String(c.id),String(5));let d=this.extension.register&&this.extension.register(a,c.config,c.registerState);return this.state=Object.assign(c,{id:6}),()=>{let a=this.state;7!==a.id&&gp(309,String(c.id),String(7)),this.state=Object.assign(a,{id:5}),d&&d()}}afterRegistration(a){let b,c=this.state;return 6!==c.id&&gp(310,String(c.id),String(6)),this.extension.afterRegistration&&(b=this.extension.afterRegistration(a,c.config,c.registerState)),this.state=Object.assign(c,{id:7}),b}getSignal(){return void 0===this._signal&&gp(311),this._signal}getInitResult(){void 0===this.extension.init&&gp(312,this.extension.name);let a=this.state;return a.id>=4||gp(313,String(a.id),String(4)),a.initResult}getInitPeer(a){let b=this.builder.extensionNameMap.get(a);return b?b.getExtensionInitDependency():void 0}getExtensionInitDependency(){let a=this.state;return a.id>=3||gp(314,String(a.id),String(3)),{config:a.config}}getPeer(a){let b=this.builder.extensionNameMap.get(a);return b?b.getExtensionDependency():void 0}getInitDependency(a){let b=this.builder.getExtensionRep(a);return void 0===b&&gp(315,this.extension.name,a.name),b.getExtensionInitDependency()}getDependency(a){let b=this.builder.getExtensionRep(a);return void 0===b&&gp(315,this.extension.name,a.name),b.getExtensionDependency()}getState(){let a=this.state;return a.id>=7||gp(316,String(a.id),String(7)),a}getDirectDependentNames(){return this.builder.incomingEdges.get(this.extension.name)||gq}getPeerNameSet(){let a=this._peerNameSet;return a||(a=new Set((this.extension.peerDependencies||[]).map(([a])=>a)),this._peerNameSet=a),a}getExtensionDependency(){if(!this._dependency){let a=this.state;a.id>=5||gp(317,this.extension.name),this._dependency={config:a.config,init:a.initResult,output:a.output}}return this._dependency}}let gs={tag:bN};function gt(){let a=dL();a.isEmpty()&&a.append(df())}let gu={config:{setOptions:gs,updateOptions:gs},init:({$initialEditorState:a=gt})=>({$initialEditorState:a,initialized:!1}),afterRegistration(a,{updateOptions:b,setOptions:c},d){let e=d.getInitResult();if(!e.initialized){e.initialized=!0;let{$initialEditorState:d}=e;if(d instanceof db)a.setEditorState(d,c);else if("function"==typeof d)a.update(()=>{d(a)},b);else if(d&&("string"==typeof d||"object"==typeof d)){let b=a.parseEditorState(d);a.setEditorState(b,c)}}return()=>{}},name:"@lexical/extension/InitialState",nodes:[c7,bZ,bO,b8,dd]},gv=Symbol.for("@lexical/extension/LexicalBuilder");function gw(){}function gx(a){throw a}function gy(a){return Array.isArray(a)?a:[a]}let gz="0.38.2+prod.esm";class gA{roots;extensionNameMap;outgoingConfigEdges;incomingEdges;conflicts;_sortedExtensionReps;PACKAGE_VERSION;constructor(a){for(let b of(this.outgoingConfigEdges=new Map,this.incomingEdges=new Map,this.extensionNameMap=new Map,this.conflicts=new Map,this.PACKAGE_VERSION=gz,this.roots=a,a))this.addExtension(b)}static fromExtensions(a){let b=[gy(gu)];for(let c of a)b.push(gy(c));return new gA(b)}static maybeFromEditor(a){let b=a[gv];return b&&(b.PACKAGE_VERSION!==gz&&gp(292,b.PACKAGE_VERSION,gz),b instanceof gA||gp(293)),b}static fromEditor(a){let b=gA.maybeFromEditor(a);return void 0===b&&gp(294),b}constructEditor(){let{$initialEditorState:a,onError:b,...c}=this.buildCreateEditorArgs(),d=Object.assign(di({...c,...b?{onError:a=>{b(a,d)}}:{}}),{[gv]:this});for(let a of this.sortedExtensionReps())a.build(d);return d}buildEditor(){let a=gw;function b(){try{a()}finally{a=gw}}let c=Object.assign(this.constructEditor(),{dispose:b,[Symbol.dispose]:b});return a=fZ(this.registerEditor(c),()=>c.setRootElement(null)),c}hasExtensionByName(a){return this.extensionNameMap.has(a)}getExtensionRep(a){let b=this.extensionNameMap.get(a.name);if(b)return b.extension!==a&&gp(295,a.name),b}addEdge(a,b,c){let d=this.outgoingConfigEdges.get(a);d?d.set(b,c):this.outgoingConfigEdges.set(a,new Map([[b,c]]));let e=this.incomingEdges.get(b);e?e.add(a):this.incomingEdges.set(b,new Set([a]))}addExtension(a){void 0!==this._sortedExtensionReps&&gp(296);let[b]=gy(a);"string"!=typeof b.name&&gp(297,typeof b.name);let c=this.extensionNameMap.get(b.name);if(void 0!==c&&c.extension!==b&&gp(298,b.name),!c){c=new gr(this,b),this.extensionNameMap.set(b.name,c);let a=this.conflicts.get(b.name);for(let c of("string"==typeof a&&gp(299,b.name,a),b.conflictsWith||[]))this.extensionNameMap.has(c)&&gp(299,b.name,c),this.conflicts.set(c,b.name);for(let a of b.dependencies||[]){let c=gy(a);this.addEdge(b.name,c[0].name,c.slice(1)),this.addExtension(c)}for(let[a,c]of b.peerDependencies||[])this.addEdge(b.name,a,c?[c]:[])}}sortedExtensionReps(){if(this._sortedExtensionReps)return this._sortedExtensionReps;let a=[],b=(c,d)=>{var e,f;let g=c.state;if(2===g.id)return;let h=c.extension.name;0===g.id||gp(300,h,d||"[unknown]"),0===(e=g).id||gp(304,String(e.id),String(0)),c.state=g=Object.assign(e,{id:1});let i=this.outgoingConfigEdges.get(h);if(i)for(let a of i.keys()){let c=this.extensionNameMap.get(a);c&&b(c,h)}1===(f=g).id||gp(305,String(f.id),String(1)),c.state=g=Object.assign(f,{id:2}),a.push(c)};for(let a of this.extensionNameMap.values())0===a.state.id&&b(a);for(let b of a)for(let[a,c]of this.outgoingConfigEdges.get(b.extension.name)||[])if(c.length>0){let b=this.extensionNameMap.get(a);if(b)for(let a of c)b.configs.add(a)}for(let[a,...b]of this.roots)if(b.length>0){let c=this.extensionNameMap.get(a.name);for(let d of(void 0===c&&gp(301,a.name),b))c.configs.add(d)}return this._sortedExtensionReps=a,this._sortedExtensionReps}registerEditor(a){let b=this.sortedExtensionReps(),c=new AbortController,d=[()=>c.abort()],e=c.signal;for(let c of b){let b=c.register(a,e);b&&d.push(b)}for(let c of b){let b=c.afterRegistration(a);b&&d.push(b)}return fZ(...d)}buildCreateEditorArgs(){let a={},b=new Set,c=new Map,d=new Map,e={},f={},g=this.sortedExtensionReps();for(let h of g){let{extension:g}=h;if(void 0!==g.onError&&(a.onError=g.onError),void 0!==g.disableEvents&&(a.disableEvents=g.disableEvents),void 0!==g.parentEditor&&(a.parentEditor=g.parentEditor),void 0!==g.editable&&(a.editable=g.editable),void 0!==g.namespace&&(a.namespace=g.namespace),void 0!==g.$initialEditorState&&(a.$initialEditorState=g.$initialEditorState),g.nodes){for(let a of("function"==typeof g.nodes?g.nodes():g.nodes)||[]){if("function"!=typeof a){let b=c.get(a.replace);b&&gp(302,g.name,a.replace.name,b.extension.name),c.set(a.replace,h)}b.add(a)}}if(g.html){if(g.html.export)for(let[a,b]of g.html.export.entries())d.set(a,b);g.html.import&&Object.assign(e,g.html.import)}g.theme&&function a(b,c){if(b&&c&&!Array.isArray(c)&&"object"==typeof b&&"object"==typeof c){for(let d in c)b[d]=a(b[d],c[d]);return b}return c}(f,g.theme)}Object.keys(f).length>0&&(a.theme=f),b.size&&(a.nodes=[...b]);let h=Object.keys(e).length>0,i=d.size>0;for(let b of((h||i)&&(a.html={},h&&(a.html.import=e),i&&(a.html.export=d)),g))b.init(a);return a.onError||(a.onError=gx),a}}aC("INSERT_HORIZONTAL_RULE_COMMAND");function gB(a){let b=window.location.origin,c=c=>{if(c.origin!==b)return;let d=a.getRootElement();if(document.activeElement!==d)return;let e=c.data;if("string"==typeof e){let b;try{b=JSON.parse(e)}catch(a){return}if(b&&"nuanria_messaging"===b.protocol&&"request"===b.type){let d=b.payload;if(d&&"makeChanges"===d.functionId){let b=d.args;if(b){let[d,e,f,g,h]=b;a.update(()=>{let a=cx();if(cg(a)){let b=a.anchor,i=b.getNode(),j=0,k=0;if(b6(i)&&d>=0&&e>=0&&(j=d,k=d+e,a.setTextNodeRange(i,j,i,k)),j===k&&""===f||(a.insertRawText(f),i=b.getNode()),b6(i)){j=g,k=g+h;let b=i.getTextContentSize();j=j>b?b:j,k=k>b?b:k,a.setTextNodeRange(i,j,i,k)}c.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",c,!0),()=>{window.removeEventListener("message",c,!0)}}function gC(a,b){if(void 0!==document.caretRangeFromPoint){let c=document.caretRangeFromPoint(a,b);return null===c?null:{node:c.startContainer,offset:c.startOffset}}if("undefined"!==document.caretPositionFromPoint){let c=document.caretPositionFromPoint(a,b);return null===c?null:{node:c.offsetNode,offset:c.offset}}return null}(a,b,c)=>go(b),(a,b,c)=>gn(()=>c.getOutput().disabled.value?void 0:gB(a));let gD="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,gE=gD&&"documentMode"in document?document.documentMode:null,gF=gD&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),gG=!(!gD||!("InputEvent"in window)||gE)&&"getTargetRanges"in new window.InputEvent("input"),gH=gD&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),gI=gD&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,gJ=gD&&/^(?=.*Chrome).*/i.test(navigator.userAgent),gK=gD&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&gF&&!gJ,gL=aC("DRAG_DROP_PASTE_FILE");class gM extends c2{static getType(){return"quote"}static clone(a){return new gM(a.__key)}createDOM(a){let b=document.createElement("blockquote");return f$(b,a.theme.quote),b}updateDOM(a,b){return!1}static importDOM(){return{blockquote:a=>({conversion:gQ,priority:0})}}exportDOM(a){let{element:b}=super.exportDOM(a);if(ei(b)){this.isEmpty()&&b.append(document.createElement("br"));let a=this.getFormatType();a&&(b.style.textAlign=a);let c=this.getDirection();c&&(b.dir=c)}return{element:b}}static importJSON(a){return ed(new gM).updateFromJSON(a)}insertNewAfter(a,b){let c=df(),d=this.getDirection();return c.setDirection(d),this.insertAfter(c,b),c}collapseAtStart(){let a=df();return this.getChildren().forEach(b=>a.append(b)),this.replace(a),!0}canMergeWhenEmpty(){return!0}}class gN extends c2{__tag;static getType(){return"heading"}static clone(a){return new gN(a.__tag,a.__key)}constructor(a,b){super(b),this.__tag=a}getTag(){return this.__tag}setTag(a){let b=this.getWritable();return this.__tag=a,b}createDOM(a){let b=this.__tag,c=document.createElement(b),d=a.theme.heading;return void 0!==d&&f$(c,d[b]),c}updateDOM(a,b,c){return a.__tag!==this.__tag}static importDOM(){return{h1:a=>({conversion:gP,priority:0}),h2:a=>({conversion:gP,priority:0}),h3:a=>({conversion:gP,priority:0}),h4:a=>({conversion:gP,priority:0}),h5:a=>({conversion:gP,priority:0}),h6:a=>({conversion:gP,priority:0}),p:a=>{let b=a.firstChild;return null!==b&&gO(b)?{conversion:()=>({node:null}),priority:3}:null},span:a=>gO(a)?{conversion:a=>({node:gR("h1")}),priority:3}:null}}exportDOM(a){let{element:b}=super.exportDOM(a);if(ei(b)){this.isEmpty()&&b.append(document.createElement("br"));let a=this.getFormatType();a&&(b.style.textAlign=a);let c=this.getDirection();c&&(b.dir=c)}return{element:b}}static importJSON(a){return gR(a.tag).updateFromJSON(a)}updateFromJSON(a){return super.updateFromJSON(a).setTag(a.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(a,b=!0){let c=a?a.anchor.offset:0,d=this.getLastDescendant(),e=d&&(!a||a.anchor.key!==d.getKey()||c!==d.getTextContentSize())&&a?gR(this.getTag()):df(),f=this.getDirection();if(e.setDirection(f),this.insertAfter(e,b),0===c&&!this.isEmpty()&&a){let a=df();a.select(),this.replace(a,!0)}return e}collapseAtStart(){let a=this.isEmpty()?df():gR(this.getTag());return this.getChildren().forEach(b=>a.append(b)),this.replace(a),!0}extractWithChild(){return!0}}function gO(a){return"span"===a.nodeName.toLowerCase()&&"26pt"===a.style.fontSize}function gP(a){let b=a.nodeName.toLowerCase(),c=null;return"h1"!==b&&"h2"!==b&&"h3"!==b&&"h4"!==b&&"h5"!==b&&"h6"!==b||(c=gR(b),null!==a.style&&(es(a,c),c.setFormat(a.style.textAlign))),{node:c}}function gQ(a){let b=ed(new gM);return null!==a.style&&(b.setFormat(a.style.textAlign),es(a,b)),{node:b}}function gR(a="h1"){return ed(new gN(a))}function gS(a){let b=null;if(f_(a,DragEvent)?b=a.dataTransfer:f_(a,ClipboardEvent)&&(b=a.clipboardData),null===b)return[!1,[],!1];let c=b.types,d=c.includes("Files"),e=c.includes("text/html")||c.includes("text/plain");return[d,Array.from(b.files),e]}function gT(a){let b=cx();if(!cg(b))return!1;let c=new Set,d=b.getNodes();for(let b=0;b<d.length;b++){let e=d[b],f=e.getKey();if(c.has(f))continue;let g=ev(e,a=>c3(a)&&!a.isInline());if(null===g)continue;let h=g.getKey();g.canIndent()&&!c.has(h)&&(c.add(h),a(g))}return c.size>0}function gU(a){for(let b of["lowercase","uppercase","capitalize"])a.hasFormat(b)&&a.toggleFormat(b)}let gV=[gN,dd,bZ,gM],gW=(0,g.createContext)(null),gX={didCatch:!1,error:null};class gY extends g.Component{constructor(a){super(a),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=gX}static getDerivedStateFromError(a){return{didCatch:!0,error:a}}resetErrorBoundary(){let{error:a}=this.state;if(null!==a){for(var b,c,d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];null==(b=(c=this.props).onReset)||b.call(c,{args:e,reason:"imperative-api"}),this.setState(gX)}}componentDidCatch(a,b){var c,d;null==(c=(d=this.props).onError)||c.call(d,a,b)}componentDidUpdate(a,b){let{didCatch:c}=this.state,{resetKeys:d}=this.props;if(c&&null!==b.error&&function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return a.length!==b.length||a.some((a,c)=>!Object.is(a,b[c]))}(a.resetKeys,d)){var e,f;null==(e=(f=this.props).onReset)||e.call(f,{next:d,prev:a.resetKeys,reason:"keys"}),this.setState(gX)}}render(){let{children:a,fallbackRender:b,FallbackComponent:c,fallback:d}=this.props,{didCatch:e,error:f}=this.state,h=a;if(e){let a={error:f,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof b)h=b(a);else if(c)h=(0,g.createElement)(c,a);else if(void 0!==d)h=d;else throw f}return(0,g.createElement)(gW.Provider,{value:{didCatch:e,error:f,resetErrorBoundary:this.resetErrorBoundary}},h)}}function gZ({children:a,onError:b}){return(0,f.jsx)(gY,{fallback:(0,f.jsx)("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:b,children:a})}let g$="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?g.useLayoutEffect:g.useEffect;function g_(a){return{initialValueFn:()=>a.isEditable(),subscribe:b=>a.registerEditableListener(b)}}let g0={name:"@lexical/react/ReactProvider"};var g1=c(23312);function g2(a){return()=>(function(a){if(!function(a,b=!0){if(a)return!1;let c=dL().getTextContent();return b&&(c=c.trim()),""===c}(a,!1))return!1;let b=dL().getChildren(),c=b.length;if(c>1)return!1;for(let a=0;a<c;a++){let c=b[a];if(c6(c))return!1;if(c3(c)){if(!dg(c)||0!==c.__indent)return!1;let b=c.getChildren(),d=b.length;for(let c=0;c<d;c++)if(!b6(b[a]))return!1}}return!0})(a)}let g3="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?g.useLayoutEffect:g.useEffect;function g4({editor:a,ErrorBoundary:b}){let[c,d]=(0,g.useState)(()=>a.getDecorators());return g3(()=>a.registerDecoratorListener(a=>{(0,g1.flushSync)(()=>{d(a)})}),[a]),(0,g.useEffect)(()=>{d(a.getDecorators())},[a]),(0,g.useMemo)(()=>{let d=[],e=Object.keys(c);for(let h=0;h<e.length;h++){let i=e[h],j=(0,f.jsx)(b,{onError:b=>a._onError(b),children:(0,f.jsx)(g.Suspense,{fallback:null,children:c[i]})}),k=a.getElementByKey(i);null!==k&&d.push((0,g1.createPortal)(j,k,i))}return d},[b,c,a])}function g5({editor:a,ErrorBoundary:b}){return!function(a){let b=gA.maybeFromEditor(a);if(b&&b.hasExtensionByName(g0.name)){for(let a of["@lexical/plain-text","@lexical/rich-text"])b.hasExtensionByName(a)&&function(a,...b){let c=new URL("https://lexical.dev/docs/error"),d=new URLSearchParams;for(let a of(d.append("code",320),b))d.append("v",a);throw c.search=d.toString(),Error(`Minified Lexical error #${320}; visit ${c.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(320,a);return!0}return!1}(a)?(0,f.jsx)(g4,{editor:a,ErrorBoundary:b}):null}function g6(a){return a.getEditorState().read(g2(a.isComposing()))}function g7({contentEditable:a,placeholder:b=null,ErrorBoundary:c}){var d;let[e]=i();return g3(()=>{var a;return fZ(fZ((a=d).registerCommand(aF,a=>{let b=cx();return!!ci(b)&&(b.clear(),!0)},0),a.registerCommand(aG,a=>{let b=cx();return cg(b)?(b.deleteCharacter(a),!0):!!ci(b)&&(b.deleteNodes(),!0)},0),a.registerCommand(aM,a=>{let b=cx();return!!cg(b)&&(b.deleteWord(a),!0)},0),a.registerCommand(aN,a=>{let b=cx();return!!cg(b)&&(b.deleteLine(a),!0)},0),a.registerCommand(aJ,b=>{let c=cx();if("string"==typeof b)null!==c&&c.insertText(b);else{if(null===c)return!1;let d=b.dataTransfer;if(null!=d)f1(d,c,a);else if(cg(c)){let a=b.data;return a&&c.insertText(a),!0}}return!0},0),a.registerCommand(aL,()=>{let a=cx();return!!cg(a)&&(a.removeText(),!0)},0),a.registerCommand(aO,a=>{let b=cx();return!!cg(b)&&(b.formatText(a),!0)},0),a.registerCommand(a6,a=>{let b=cx();if(!cg(b)&&!ci(b))return!1;for(let c of b.getNodes()){let b=ev(c,a=>c3(a)&&!a.isInline());null!==b&&b.setFormat(a)}return!0},0),a.registerCommand(aH,a=>{let b=cx();return!!cg(b)&&(b.insertLineBreak(a),!0)},0),a.registerCommand(aI,()=>{let a=cx();return!!cg(a)&&(a.insertParagraph(),!0)},0),a.registerCommand(a2,()=>{var a;let b;return a=[b9()],null===(b=cx()||cy())&&(b=dL().selectEnd()),b.insertNodes(a),!0},0),a.registerCommand(a3,()=>gT(a=>{let b=a.getIndent();a.setIndent(b+1)}),0),a.registerCommand(a4,()=>gT(a=>{let b=a.getIndent();b>0&&a.setIndent(Math.max(0,b-1))}),0),a.registerCommand(aW,a=>{let b=cx();if(ci(b)){let c=b.getNodes();if(c.length>0)return a.preventDefault(),c[0].selectPrevious(),!0}else if(cg(b)){let c=d2(b.focus,!0);if(!a.shiftKey&&c6(c)&&!c.isIsolated()&&!c.isInline())return c.selectPrevious(),a.preventDefault(),!0}return!1},0),a.registerCommand(aX,a=>{let b=cx();if(ci(b)){let c=b.getNodes();if(c.length>0)return a.preventDefault(),c[0].selectNext(0,0),!0}else if(cg(b)){if(function(a){let b=a.focus;return"root"===b.key&&b.offset===dL().getChildrenSize()}(b))return a.preventDefault(),!0;let c=d2(b.focus,!1);if(!a.shiftKey&&c6(c)&&!c.isIsolated()&&!c.isInline())return c.selectNext(),a.preventDefault(),!0}return!1},0),a.registerCommand(aU,a=>{let b=cx();if(ci(b)){let c=b.getNodes();if(c.length>0)return a.preventDefault(),fP(c[0])?c[0].selectNext(0,0):c[0].selectPrevious(),!0}if(!cg(b))return!1;if(fT(b,!0)){let c=a.shiftKey;return a.preventDefault(),fV(b,c,!0),!0}return!1},0),a.registerCommand(aS,a=>{let b=cx();if(ci(b)){let c=b.getNodes();if(c.length>0)return a.preventDefault(),fP(c[0])?c[0].selectPrevious():c[0].selectNext(0,0),!0}if(!cg(b))return!1;let c=a.shiftKey;return!!fT(b,!1)&&(a.preventDefault(),fV(b,c,!1),!0)},0),a.registerCommand(a$,b=>{if(c6(dI(b.target)))return!1;let c=cx();if(cg(c)){if(function(a){if(!a.isCollapsed())return!1;let{anchor:b}=a;if(0!==b.offset)return!1;let c=b.getNode();if(c8(c))return!1;let d=function(a){let b=ev(a,a=>c3(a)&&!a.isInline());return c3(b)||function(a,...b){let c=new URL("https://lexical.dev/docs/error"),d=new URLSearchParams;for(let a of(d.append("code",4),b))d.append("v",a);throw c.search=d.toString(),Error(`Minified Lexical error #${4}; visit ${c.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(4,a.__key),b}(c);return d.getIndent()>0&&(d.is(c)||c.is(d.getFirstDescendant()))}(c))return b.preventDefault(),a.dispatchCommand(a4,void 0);if(gI&&"ko-KR"===navigator.language)return!1}else if(!ci(c))return!1;return b.preventDefault(),a.dispatchCommand(aG,!0)},0),a.registerCommand(a0,b=>{if(c6(dI(b.target)))return!1;let c=cx();return!(!cg(c)&&!ci(c))&&(b.preventDefault(),a.dispatchCommand(aG,!1))},0),a.registerCommand(aY,b=>{let c=cx();if(!cg(c))return!1;if(gU(c),null!==b){if((gI||gH||gK)&&gG)return!1;if(b.preventDefault(),b.shiftKey)return a.dispatchCommand(aH,!1)}return a.dispatchCommand(aI,void 0)},0),a.registerCommand(a_,()=>!!cg(cx())&&(a.blur(),!0),0),a.registerCommand(a5,b=>{let[,c]=gS(b);if(c.length>0){let d=gC(b.clientX,b.clientY);if(null!==d){let{offset:b,node:e}=d,f=dI(e);if(null!==f){let a=cu();if(b6(f))a.anchor.set(f.getKey(),b,"text"),a.focus.set(f.getKey(),b,"text");else{let b=f.getParentOrThrow().getKey(),c=f.getIndexWithinParent()+1;a.anchor.set(b,c,"element"),a.focus.set(b,c,"element")}dN(Y(a))}a.dispatchCommand(gL,c)}return b.preventDefault(),!0}return!!cg(cx())},0),a.registerCommand(a7,a=>{let[b]=gS(a),c=cx();return!(b&&!cg(c))},0),a.registerCommand(a8,a=>{let[b]=gS(a),c=cx();if(b&&!cg(c))return!1;let d=gC(a.clientX,a.clientY);return null!==d&&c6(dI(d.node))&&a.preventDefault(),!0},0),a.registerCommand(bc,()=>((function(a){let b=dL();if(cg(void 0)){let b=(void 0).anchor,c=a.focus,d=b.getNode().getTopLevelElementOrThrow().getParentOrThrow();return b.set(d.getKey(),0,"element"),c.set(d.getKey(),d.getChildrenSize(),"element"),Y(a)}dN(Y(b.select(0,b.getChildrenSize())))})(),!0),0),a.registerCommand(ba,b=>(f4(a,f_(b,ClipboardEvent)?b:null),!0),0),a.registerCommand(bb,b=>((async function(a,b){await f4(b,f_(a,ClipboardEvent)?a:null),b.update(()=>{let a=cx();cg(a)?a.removeText():ci(a)&&a.getNodes().forEach(a=>a.remove())})})(b,a),!0),0),a.registerCommand(aK,b=>{let[,c,d]=gS(b);return c.length>0&&!d?(a.dispatchCommand(gL,c),!0):!(ej(b.target)&&dq(b.target))&&null!==cx()&&(b.preventDefault(),a.update(()=>{let c=cx(),d=f_(b,InputEvent)||f_(b,KeyboardEvent)?null:b.clipboardData;null!=d&&null!==c&&f1(d,c,a)},{tag:"paste"}),!0)},0),a.registerCommand(aZ,a=>{let b=cx();return cg(b)&&gU(b),!1},0),a.registerCommand(a1,a=>{let b=cx();return cg(b)&&gU(b),!1},0)),gB(d))},[d=e]),(0,f.jsxs)(f.Fragment,{children:[a,(0,f.jsx)(g8,{content:b}),(0,f.jsx)(g5,{editor:e,ErrorBoundary:c})]})}function g8({content:a}){let[b]=i(),c=function(a){let[b,c]=(0,g.useState)(()=>g6(a));return g3(()=>{function b(){c(g6(a))}return b(),fZ(a.registerUpdateListener(()=>{b()}),a.registerEditableListener(()=>{b()}))},[a]),b}(b),d=function(){let[a]=i(),b=(0,g.useMemo)(()=>g_(a),[a,g_]),[c,d]=(0,g.useState)(()=>b.initialValueFn()),e=(0,g.useRef)(c);return g$(()=>{let{initialValueFn:a,subscribe:c}=b,f=a();return e.current!==f&&(e.current=f,d(f)),c(a=>{e.current=a,d(a)})},[b,g_]),c}();return c?"function"==typeof a?a(d):a:null}let g9="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?g.useLayoutEffect:g.useEffect,ha=(0,g.forwardRef)(function({editor:a,ariaActiveDescendant:b,ariaAutoComplete:c,ariaControls:d,ariaDescribedBy:e,ariaErrorMessage:h,ariaExpanded:i,ariaInvalid:j,ariaLabel:k,ariaLabelledBy:l,ariaMultiline:m,ariaOwns:n,ariaRequired:o,autoCapitalize:p,className:q,id:r,role:s="textbox",spellCheck:t=!0,style:u,tabIndex:v,"data-testid":w,...x},y){let[z,A]=(0,g.useState)(a.isEditable()),B=(0,g.useCallback)(b=>{b&&b.ownerDocument&&b.ownerDocument.defaultView?a.setRootElement(b):a.setRootElement(null)},[a]),C=(0,g.useMemo)(()=>(function(...a){return b=>{for(let c of a)"function"==typeof c?c(b):null!=c&&(c.current=b)}})(y,B),[B,y]);return g9(()=>(A(a.isEditable()),a.registerEditableListener(a=>{A(a)})),[a]),(0,f.jsx)("div",{"aria-activedescendant":z?b:void 0,"aria-autocomplete":z?c:"none","aria-controls":z?d:void 0,"aria-describedby":e,...null!=h?{"aria-errormessage":h}:{},"aria-expanded":z&&"combobox"===s?!!i:void 0,...null!=j?{"aria-invalid":j}:{},"aria-label":k,"aria-labelledby":l,"aria-multiline":m,"aria-owns":z?n:void 0,"aria-readonly":!z||void 0,"aria-required":o,autoCapitalize:p,className:q,contentEditable:z,"data-testid":w,id:r,ref:C,role:s,spellCheck:t,style:u,tabIndex:v,...x})});function hb(a){return a.getEditorState().read(g2(a.isComposing()))}let hc=(0,g.forwardRef)(function(a,b){let{placeholder:c,...d}=a,[e]=i();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ha,{editor:e,...d,ref:b}),null!=c&&(0,f.jsx)(hd,{editor:e,content:c})]})});function hd({content:a,editor:b}){let c=function(a){let[b,c]=(0,g.useState)(()=>hb(a));return g9(()=>{function b(){c(hb(a))}return b(),fZ(a.registerUpdateListener(()=>{b()}),a.registerEditableListener(()=>{b()}))},[a]),b}(b),[d,e]=(0,g.useState)(b.isEditable());if((0,g.useLayoutEffect)(()=>(e(b.isEditable()),b.registerEditableListener(a=>{e(a)})),[b]),!c)return null;let h=null;return"function"==typeof a?h=a(d):null!==a&&(h=a),null===h?null:(0,f.jsx)("div",{"aria-hidden":!0,children:h})}function he({placeholder:a,className:b,placeholderClassName:c}){return(0,f.jsx)(hc,{className:b??"ContentEditable__root relative block min-h-72 min-h-full overflow-auto px-8 py-4 focus:outline-none","aria-placeholder":a,placeholder:(0,f.jsx)("div",{className:c??"text-muted-foreground pointer-events-none absolute top-0 left-0 overflow-hidden px-8 py-[18px] text-ellipsis select-none",children:a})})}function hf(){let[a,b]=(0,g.useState)(null);return(0,f.jsx)("div",{className:"relative",children:(0,f.jsx)("div",{className:"relative",children:(0,f.jsx)(g7,{contentEditable:(0,f.jsx)("div",{className:"",children:(0,f.jsx)("div",{className:"",ref:a=>{null!==a&&b(a)},children:(0,f.jsx)(he,{placeholder:"Start typing ..."})})}),ErrorBoundary:gZ})})})}let hg={namespace:"Editor",theme:{ltr:"text-left",rtl:"text-right",heading:{h1:"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl",h2:"scroll-m-20 border-b pb-2 text-3xl font-semibold tracking-tight first:mt-0",h3:"scroll-m-20 text-2xl font-semibold tracking-tight",h4:"scroll-m-20 text-xl font-semibold tracking-tight",h5:"scroll-m-20 text-lg font-semibold tracking-tight",h6:"scroll-m-20 text-base font-semibold tracking-tight"},paragraph:"leading-7 [&:not(:first-child)]:mt-6",quote:"mt-6 border-l-2 pl-6 italic",link:"text-blue-600 hover:underline hover:cursor-pointer",list:{checklist:"relative",listitem:"mx-8",listitemChecked:'relative mx-2 px-6 list-none outline-none line-through before:content-[""] before:w-4 before:h-4 before:top-0.5 before:left-0 before:cursor-pointer before:block before:bg-cover before:absolute before:border before:border-primary before:rounded before:bg-primary before:bg-no-repeat after:content-[""] after:cursor-pointer after:border-white after:border-solid after:absolute after:block after:top-[6px] after:w-[3px] after:left-[7px] after:right-[7px] after:h-[6px] after:rotate-45 after:border-r-2 after:border-b-2 after:border-l-0 after:border-t-0',listitemUnchecked:'relative mx-2 px-6 list-none outline-none before:content-[""] before:w-4 before:h-4 before:top-0.5 before:left-0 before:cursor-pointer before:block before:bg-cover before:absolute before:border before:border-primary before:rounded',nested:{listitem:"list-none before:hidden after:hidden"},ol:"m-0 p-0 list-decimal [&>li]:mt-2",olDepth:["list-outside !list-decimal","list-outside !list-[upper-roman]","list-outside !list-[lower-roman]","list-outside !list-[upper-alpha]","list-outside !list-[lower-alpha]"],ul:"m-0 p-0 list-outside [&>li]:mt-2",ulDepth:["list-outside !list-disc","list-outside !list-disc","list-outside !list-disc","list-outside !list-disc","list-outside !list-disc"]},hashtag:"text-blue-600 bg-blue-100 rounded-md px-1",text:{bold:"font-bold",code:"bg-gray-100 p-1 rounded-md",italic:"italic",strikethrough:"line-through",subscript:"sub",superscript:"sup",underline:"underline",underlineStrikethrough:"underline line-through"},image:"relative inline-block user-select-none cursor-default editor-image",inlineImage:"relative inline-block user-select-none cursor-default inline-editor-image",keyword:"text-purple-900 font-bold",code:"EditorTheme__code",codeHighlight:{atrule:"EditorTheme__tokenAttr",attr:"EditorTheme__tokenAttr",boolean:"EditorTheme__tokenProperty",builtin:"EditorTheme__tokenSelector",cdata:"EditorTheme__tokenComment",char:"EditorTheme__tokenSelector",class:"EditorTheme__tokenFunction","class-name":"EditorTheme__tokenFunction",comment:"EditorTheme__tokenComment",constant:"EditorTheme__tokenProperty",deleted:"EditorTheme__tokenProperty",doctype:"EditorTheme__tokenComment",entity:"EditorTheme__tokenOperator",function:"EditorTheme__tokenFunction",important:"EditorTheme__tokenVariable",inserted:"EditorTheme__tokenSelector",keyword:"EditorTheme__tokenAttr",namespace:"EditorTheme__tokenVariable",number:"EditorTheme__tokenProperty",operator:"EditorTheme__tokenOperator",prolog:"EditorTheme__tokenComment",property:"EditorTheme__tokenProperty",punctuation:"EditorTheme__tokenPunctuation",regex:"EditorTheme__tokenVariable",selector:"EditorTheme__tokenSelector",string:"EditorTheme__tokenSelector",symbol:"EditorTheme__tokenProperty",tag:"EditorTheme__tokenProperty",url:"EditorTheme__tokenOperator",variable:"EditorTheme__tokenVariable"},characterLimit:"!bg-destructive/50",table:"EditorTheme__table w-fit overflow-scroll border-collapse",tableCell:'EditorTheme__tableCell w-24 relative border px-4 py-2 text-left [&[align=center]]:text-center [&[align=right]]:text-right"',tableCellActionButton:"EditorTheme__tableCellActionButton bg-background block border-0 rounded-2xl w-5 h-5 text-foreground cursor-pointer",tableCellActionButtonContainer:"EditorTheme__tableCellActionButtonContainer block right-1 top-1.5 absolute z-10 w-5 h-5",tableCellEditing:"EditorTheme__tableCellEditing rounded-sm shadow-sm",tableCellHeader:"EditorTheme__tableCellHeader bg-muted border px-4 py-2 text-left font-bold [&[align=center]]:text-center [&[align=right]]:text-right",tableCellPrimarySelected:"EditorTheme__tableCellPrimarySelected border border-primary border-solid block h-[calc(100%-2px)] w-[calc(100%-2px)] absolute -left-[1px] -top-[1px] z-10 ",tableCellResizer:"EditorTheme__tableCellResizer absolute -right-1 h-full w-2 cursor-ew-resize z-10 top-0",tableCellSelected:"EditorTheme__tableCellSelected bg-muted",tableCellSortedIndicator:"EditorTheme__tableCellSortedIndicator block opacity-50 bsolute bottom-0 left-0 w-full h-1 bg-muted",tableResizeRuler:"EditorTheme__tableCellResizeRuler block absolute w-[1px] h-full bg-primary top-0",tableRowStriping:"EditorTheme__tableRowStriping m-0 border-t p-0 even:bg-muted",tableSelected:"EditorTheme__tableSelected ring-2 ring-primary ring-offset-2",tableSelection:"EditorTheme__tableSelection bg-transparent",layoutItem:"border border-dashed px-4 py-2",layoutContainer:"grid gap-2.5 my-2.5 mx-0",autocomplete:"text-muted-foreground",blockCursor:"",embedBlock:{base:"user-select-none",focus:"ring-2 ring-primary ring-offset-2"},hr:'p-0.5 border-none my-1 mx-0 cursor-pointer after:content-[""] after:block after:h-0.5 after:bg-muted selected:ring-2 selected:ring-primary selected:ring-offset-2 selected:user-select-none',indent:"[--lexical-indent-base-value:40px]",mark:"",markOverlap:""},nodes:gV,onError:a=>{console.error(a)}};function hh({editorState:a,editorSerializedState:b,onChange:c,onSerializedChange:d}){return(0,f.jsx)("div",{className:"bg-background overflow-hidden rounded-lg border shadow",children:(0,f.jsx)(fa,{initialConfig:{...hg,...a?{editorState:a}:{},...b?{editorState:JSON.stringify(b)}:{}},children:(0,f.jsxs)(fu,{children:[(0,f.jsx)(hf,{}),(0,f.jsx)(fc,{ignoreSelectionChange:!0,onChange:a=>{c?.(a),d?.(a.toJSON())}})]})})})}let hi={root:{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"Hello World \uD83D\uDE80",type:"text",version:1}],direction:"ltr",format:"",indent:0,type:"paragraph",version:1}],direction:"ltr",format:"",indent:0,type:"root",version:1}};function hj(){let[a,b]=(0,g.useState)(hi);return(0,f.jsx)(hh,{editorSerializedState:a,onSerializedChange:a=>b(a)})}},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},86503:()=>{},94438:(a,b,c)=>{Promise.resolve().then(c.bind(c,56182))}};var b=require("../../webpack-runtime.js");b.C(a);var c=b.X(0,[413,657,249],()=>b(b.s=4776));module.exports=c})();