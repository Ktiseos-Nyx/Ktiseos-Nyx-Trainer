"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22],{1616:(e,t,n)=>{n.d(t,{jL:()=>F,dJ:()=>L,ZI:()=>q});var r=n(8801);let i=new Map;function l(e){let t=(0,r.i0_)().getElementByKey(e.getKey());if(null===t)return null;let n=t.ownerDocument.defaultView;return null===n?null:n.getComputedStyle(t)}function o(e){return l((0,r.hVZ)(e)?e:e.getParentOrThrow())}function s(e){let t=o(e);return null!==t&&"rtl"===t.direction}function a(e,t,n="self"){let i=e.getStartEndPoints();if(t.isSelected(e)&&!(0,r.Rb_)(t)&&null!==i){let[l,o]=i,s=e.isBackward(),a=l.getNode(),u=o.getNode(),d=t.is(a),f=t.is(u);if(d||f){let[i,l]=(0,r.Cku)(e),o=a.is(u),d=t.is(s?u:a),f=t.is(s?a:u),c,h=0;o?(h=i>l?l:i,c=i>l?i:l):d?(h=s?l:i,c=void 0):f&&(h=0,c=s?i:l);let g=t.__text.slice(h,c);g!==t.__text&&("clone"===n&&(t=(0,r.U5P)(t)),t.__text=g)}}return t}function u(e){let t=d(e);return null!==t&&"vertical-rl"===t.writingMode}function d(e){let t=e.anchor.getNode();return(0,r.ff4)(t)?l(t):o(t)}function f(e,t){let n=u(e)?!t:t;c(e)&&(n=!n);let i=(0,r.Ave)(e.focus,n?"previous":"next");if((0,r.pGK)(i))return!1;for(let e of(0,r.mWO)(i)){if((0,r.cmH)(e))return!e.origin.isInline();if(!(0,r.ff4)(e.origin)){if((0,r.Cyw)(e.origin))return!0;break}}return!1}function c(e){let t=d(e);return null!==t&&"rtl"===t.direction}function h(e,t,n){let r,i=c(e);r=u(e)||i?!n:n,e.modify(t?"extend":"move",r,"character")}let g=new Set(["STYLE","SCRIPT"]);var p=n(5288);function m(e,...t){let n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;for(let n of(r.append("code",e),t))r.append("v",n);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function _(e,t,n){let l=e.getData("application/x-lexical-editor");if(l)try{let e=JSON.parse(l);if(e.namespace===n._config.namespace&&Array.isArray(e.nodes))return y(n,function(e){let t=[];for(let n=0;n<e.length;n++){let l=e[n],o=(0,r.GMe)(l);(0,r.kFe)(o)&&function(e){let t=e.getStyle(),n=function(e){let t={};if(!e)return t;for(let n of e.split(";"))if(""!==n){let[e,r]=n.split(/:([^]+)/);e&&r&&(t[e.trim()]=r.trim())}return t}(t);i.set(t,n)}(o),t.push(o)}return t}(e.nodes),t)}catch(e){console.error(e)}let o=e.getData("text/html"),s=e.getData("text/plain");if(o&&s!==o)try{let e=(new DOMParser).parseFromString(window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:e=>e}).createHTML(o):o,"text/html");return y(n,function(e,t){let n=(0,r.mB$)(t)?t.body.childNodes:t.childNodes,i=[],l=[];for(let t of n)if(!g.has(t.nodeName)){let n=function e(t,n,i,l,o=new Map,s){let a=[];if(g.has(t.nodeName))return a;let u=null,d=function(e,t){let{nodeName:n}=e,r=t._htmlConversions.get(n.toLowerCase()),i=null;if(void 0!==r)for(let t of r){let n=t(e);null!==n&&(null===i||(i.priority||0)<=(n.priority||0))&&(i=n)}return null!==i?i.conversion:null}(t,n),f=d?d(t):null,c=null;if(null!==f){c=f.after;let e=f.node;if(null!==(u=Array.isArray(e)?e[e.length-1]:e)){for(let[,e]of o)if(!(u=e(u,s)))break;u&&a.push(...Array.isArray(e)?e:[u])}null!=f.forChild&&o.set(t.nodeName,f.forChild)}let h=t.childNodes,p=[],m=(null==u||!(0,r.IqF)(u))&&(null!=u&&(0,r.y68)(u)||l);for(let t=0;t<h.length;t++)p.push(...e(h[t],n,i,m,new Map(o),u));return null!=c&&(p=c(p)),(0,r.a9V)(t)&&(p=function(e,t,n){let i=e.style.textAlign,l=[],o=[];for(let e=0;e<t.length;e++){let s=t[e];if((0,r.y68)(s))i&&!s.getFormat()&&s.setFormat(i),l.push(s);else if(o.push(s),e===t.length-1||e<t.length-1&&(0,r.y68)(t[e+1])){let e=n();e.setFormat(i),e.append(...o),l.push(e),o=[]}}return l}(t,p,m?()=>{let e=new r.A7V;return i.push(e),e}:r.lJ7)),null==u?p.length>0?a=a.concat(p):(0,r.a9V)(t)&&null!=t.nextSibling&&null!=t.previousSibling&&(0,r._On)(t.nextSibling)&&(0,r._On)(t.previousSibling)&&(a=a.concat((0,r.WKo)())):(0,r.ff4)(u)&&u.append(...p),a}(t,e,l,!1);null!==n&&(i=i.concat(n))}return function(e){for(let t of e)t.getNextSibling()instanceof r.A7V&&t.insertAfter((0,r.WKo)());for(let t of e){for(let e of t.getChildren())t.insertBefore(e);t.remove()}}(l),i}(n,e),t)}catch(e){console.error(e)}let a=s||e.getData("text/uri-list");if(null!=a)if((0,r.I2P)(t)){let e=a.split(/(\r?\n|\t)/);""===e[e.length-1]&&e.pop();for(let t=0;t<e.length;t++){let n=(0,r.vJq)();if((0,r.I2P)(n)){let i=e[t];"\n"===i||"\r\n"===i?n.insertParagraph():"	"===i?n.insertNodes([(0,r.ev7)()]):n.insertText(i)}}}else t.insertRawText(a)}function y(e,t,n){e.dispatchCommand(r.oqR,{nodes:t,selection:n})||(n.insertNodes(t),function(e){if((0,r.I2P)(e)&&e.isCollapsed()){let t=e.anchor,n=null,i=(0,r.Ave)(t,"previous");if(i)if((0,r.rN)(i))n=i.origin;else for(let e of(0,r.TJt)(i,(0,r.uwZ)((0,r.NiT)(),"next").getFlipped())){if((0,r.kFe)(e.origin)){n=e.origin;break}if((0,r.ff4)(e.origin)&&!e.origin.isInline())break}if(n&&(0,r.kFe)(n)){let t=n.getFormat(),r=n.getStyle();e.format===t&&e.style===r||(e.format=t,e.style=r,e.dirty=!0)}}}(n))}let v=null;async function x(e,t,n){if(null!==v)return!1;if(null!==t)return new Promise((r,i)=>{e.update(()=>{r(S(e,t,n))})});let i=e.getRootElement(),l=e._window||window,o=l.document,s=(0,r.peL)(l);if(null===i||null===s)return!1;let a=o.createElement("span");a.style.cssText="position: fixed; top: -1000px;",a.append(o.createTextNode("#")),i.append(a);let u=new Range;return u.setStart(a,0),u.setEnd(a,1),s.removeAllRanges(),s.addRange(u),new Promise((t,i)=>{let s=e.registerCommand(r.u5G,r=>((0,p.xj)(r,ClipboardEvent)&&(s(),null!==v&&(l.clearTimeout(v),v=null),t(S(e,r,n))),!0),r.da8);v=l.setTimeout(()=>{s(),v=null,t(!1)},50),o.execCommand("copy"),a.remove()})}function S(e,t,n){if(void 0===n){let t=(0,r.peL)(e._window),i=(0,r.vJq)();if(!i||i.isCollapsed()||!t)return!1;let l=t.anchorNode,o=t.focusNode;if(null!==l&&null!==o&&!(0,r.LYZ)(e,l,o))return!1;n=function(e=(0,r.vJq)()){let t={"text/plain":e?e.getTextContent():""};if(e){let n=(0,r.i0_)();for(let[r,i]of C){let l=i(n,e);null!==l&&(t[r]=l)}}return t}(i)}t.preventDefault();let i=t.clipboardData;return null!==i&&(function(e,t){for(let[n]of C)void 0===t[n]&&e.setData(n,"");for(let n in t){let r=t[n];void 0!==r&&e.setData(n,r)}}(i,n),!0)}let C=[["text/html",function(e,t=(0,r.vJq)()){return null==t&&m(166),(0,r.I2P)(t)&&t.isCollapsed()||0===t.getNodes().length?"":function(e,t){if("undefined"==typeof document||"undefined"==typeof window&&void 0===global.window)throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let n=document.createElement("div"),i=(0,r.NiT)().getChildren();for(let l=0;l<i.length;l++)!function e(t,n,i,l=null){let o=null===l||n.isSelected(l),s=(0,r.ff4)(n)&&n.excludeFromCopy("html"),u=n;null!==l&&(0,r.kFe)(n)&&(u=a(l,n,"clone"));let d=(0,r.ff4)(u)?u.getChildren():[],f=(0,r.Jvg)(t,u.getType()),{element:c,after:h}=f&&void 0!==f.exportDOM?f.exportDOM(t,u):u.exportDOM(t);if(!c)return!1;let g=document.createDocumentFragment();for(let i=0;i<d.length;i++){let s=d[i],a=e(t,s,g,l);!o&&(0,r.ff4)(n)&&a&&n.extractWithChild(s,l,"html")&&(o=!0)}if(o&&!s){if(((0,r.sby)(c)||(0,r.K8K)(c))&&c.append(g),i.append(c),h){let e=h.call(u,c);e&&((0,r.K8K)(c)?c.replaceChildren(e):c.replaceWith(e))}}else i.append(g);return o}(e,i[l],n,t);return n.innerHTML}(e,t)}],["application/x-lexical-editor",function(e,t=(0,r.vJq)()){return null==t&&m(166),(0,r.I2P)(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(function(e,t){let n=[],i=(0,r.NiT)().getChildren();for(let l=0;l<i.length;l++)!function e(t,n,i,l=[]){let o=null===n||i.isSelected(n),s=(0,r.ff4)(i)&&i.excludeFromCopy("html"),u=i;null!==n&&(0,r.kFe)(u)&&(u=a(n,u,"clone"));let d=(0,r.ff4)(u)?u.getChildren():[],f=function(e){let t=e.exportJSON(),n=e.constructor;return t.type!==n.getType()&&m(58,n.name),(0,r.ff4)(e)&&(Array.isArray(t.children)||m(59,n.name)),t}(u);(0,r.kFe)(u)&&0===u.getTextContentSize()&&(o=!1);for(let l=0;l<d.length;l++){let s=d[l],a=e(t,n,s,f.children);!o&&(0,r.ff4)(i)&&a&&i.extractWithChild(s,n,"clone")&&(o=!0)}if(o&&!s)l.push(f);else if(Array.isArray(f.children))for(let e=0;e<f.children.length;e++){let t=f.children[e];l.push(t)}return o}(e,t,i[l],n);return{namespace:e._config.namespace,nodes:n}}(e,t))}]];var b=n(8088);function E(e,t){if(void 0!==document.caretRangeFromPoint){let n=document.caretRangeFromPoint(e,t);return null===n?null:{node:n.startContainer,offset:n.startOffset}}if("undefined"!==document.caretPositionFromPoint){let n=document.caretPositionFromPoint(e,t);return null===n?null:{node:n.offsetNode,offset:n.offset}}return null}let w="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,T=w&&"documentMode"in document?document.documentMode:null,N=w&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),k=!(!w||!("InputEvent"in window)||T)&&"getTargetRanges"in new window.InputEvent("input"),M=w&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),O=w&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,P=w&&/^(?=.*Chrome).*/i.test(navigator.userAgent),A=w&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&N&&!P,D=(0,r.guI)("DRAG_DROP_PASTE_FILE");class L extends r.fGB{static getType(){return"quote"}static clone(e){return new L(e.__key)}createDOM(e){let t=document.createElement("blockquote");return(0,p.ZB)(t,e.theme.quote),t}updateDOM(e,t){return!1}static importDOM(){return{blockquote:e=>({conversion:B,priority:0})}}exportDOM(e){let{element:t}=super.exportDOM(e);if((0,r.sby)(t)){this.isEmpty()&&t.append(document.createElement("br"));let e=this.getFormatType();e&&(t.style.textAlign=e);let n=this.getDirection();n&&(t.dir=n)}return{element:t}}static importJSON(e){return I().updateFromJSON(e)}insertNewAfter(e,t){let n=(0,r.lJ7)(),i=this.getDirection();return n.setDirection(i),this.insertAfter(n,t),n}collapseAtStart(){let e=(0,r.lJ7)();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}canMergeWhenEmpty(){return!0}}function I(){return(0,r.pTq)(new L)}class F extends r.fGB{__tag;static getType(){return"heading"}static clone(e){return new F(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}setTag(e){let t=this.getWritable();return this.__tag=e,t}createDOM(e){let t=this.__tag,n=document.createElement(t),r=e.theme.heading;if(void 0!==r){let e=r[t];(0,p.ZB)(n,e)}return n}updateDOM(e,t,n){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:K,priority:0}),h2:e=>({conversion:K,priority:0}),h3:e=>({conversion:K,priority:0}),h4:e=>({conversion:K,priority:0}),h5:e=>({conversion:K,priority:0}),h6:e=>({conversion:K,priority:0}),p:e=>{let t=e.firstChild;return null!==t&&R(t)?{conversion:()=>({node:null}),priority:3}:null},span:e=>R(e)?{conversion:e=>({node:z("h1")}),priority:3}:null}}exportDOM(e){let{element:t}=super.exportDOM(e);if((0,r.sby)(t)){this.isEmpty()&&t.append(document.createElement("br"));let e=this.getFormatType();e&&(t.style.textAlign=e);let n=this.getDirection();n&&(t.dir=n)}return{element:t}}static importJSON(e){return z(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e,t=!0){let n=e?e.anchor.offset:0,i=this.getLastDescendant(),l=i&&(!e||e.anchor.key!==i.getKey()||n!==i.getTextContentSize())&&e?z(this.getTag()):(0,r.lJ7)(),o=this.getDirection();if(l.setDirection(o),this.insertAfter(l,t),0===n&&!this.isEmpty()&&e){let e=(0,r.lJ7)();e.select(),this.replace(e,!0)}return l}collapseAtStart(){let e=this.isEmpty()?(0,r.lJ7)():z(this.getTag());return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}extractWithChild(){return!0}}function R(e){return"span"===e.nodeName.toLowerCase()&&"26pt"===e.style.fontSize}function K(e){let t=e.nodeName.toLowerCase(),n=null;return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t||(n=z(t),null!==e.style&&((0,r.dxY)(e,n),n.setFormat(e.style.textAlign))),{node:n}}function B(e){let t=I();return null!==e.style&&(t.setFormat(e.style.textAlign),(0,r.dxY)(e,t)),{node:t}}function z(e="h1"){return(0,r.pTq)(new F(e))}function W(e){let t=null;if((0,p.xj)(e,DragEvent)?t=e.dataTransfer:(0,p.xj)(e,ClipboardEvent)&&(t=e.clipboardData),null===t)return[!1,[],!1];let n=t.types,r=n.includes("Files"),i=n.includes("text/html")||n.includes("text/plain");return[r,Array.from(t.files),i]}function j(e){let t=(0,r.vJq)();if(!(0,r.I2P)(t))return!1;let n=new Set,i=t.getNodes();for(let t=0;t<i.length;t++){let l=i[t],o=l.getKey();if(n.has(o))continue;let s=(0,r.BtT)(l,e=>(0,r.ff4)(e)&&!e.isInline());if(null===s)continue;let a=s.getKey();s.canIndent()&&!n.has(a)&&(n.add(a),e(s))}return n.size>0}function J(e){let t=(0,r.xL4)(e);return(0,r.Cyw)(t)}function Z(e){for(let t of["lowercase","uppercase","capitalize"])e.hasFormat(t)&&e.toggleFormat(t)}function q(e){return(0,p.Sd)(e.registerCommand(r.d8p,e=>{let t=(0,r.vJq)();return!!(0,r.RTZ)(t)&&(t.clear(),!0)},r.jZM),e.registerCommand(r.WuB,e=>{let t=(0,r.vJq)();return(0,r.I2P)(t)?(t.deleteCharacter(e),!0):!!(0,r.RTZ)(t)&&(t.deleteNodes(),!0)},r.jZM),e.registerCommand(r.hi0,e=>{let t=(0,r.vJq)();return!!(0,r.I2P)(t)&&(t.deleteWord(e),!0)},r.jZM),e.registerCommand(r.viC,e=>{let t=(0,r.vJq)();return!!(0,r.I2P)(t)&&(t.deleteLine(e),!0)},r.jZM),e.registerCommand(r.bM3,t=>{let n=(0,r.vJq)();if("string"==typeof t)null!==n&&n.insertText(t);else{if(null===n)return!1;let i=t.dataTransfer;if(null!=i)_(i,n,e);else if((0,r.I2P)(n)){let e=t.data;return e&&n.insertText(e),!0}}return!0},r.jZM),e.registerCommand(r.$ey,()=>{let e=(0,r.vJq)();return!!(0,r.I2P)(e)&&(e.removeText(),!0)},r.jZM),e.registerCommand(r.mB,e=>{let t=(0,r.vJq)();return!!(0,r.I2P)(t)&&(t.formatText(e),!0)},r.jZM),e.registerCommand(r.fUS,e=>{let t=(0,r.vJq)();if(!(0,r.I2P)(t)&&!(0,r.RTZ)(t))return!1;for(let n of t.getNodes()){let t=(0,r.BtT)(n,e=>(0,r.ff4)(e)&&!e.isInline());null!==t&&t.setFormat(e)}return!0},r.jZM),e.registerCommand(r.FEN,e=>{let t=(0,r.vJq)();return!!(0,r.I2P)(t)&&(t.insertLineBreak(e),!0)},r.jZM),e.registerCommand(r.XKQ,()=>{let e=(0,r.vJq)();return!!(0,r.I2P)(e)&&(e.insertParagraph(),!0)},r.jZM),e.registerCommand(r.YW5,()=>((0,r.H2A)([(0,r.ev7)()]),!0),r.jZM),e.registerCommand(r.PiT,()=>j(e=>{let t=e.getIndent();e.setIndent(t+1)}),r.jZM),e.registerCommand(r.sik,()=>j(e=>{let t=e.getIndent();t>0&&e.setIndent(Math.max(0,t-1))}),r.jZM),e.registerCommand(r.UDz,e=>{let t=(0,r.vJq)();if((0,r.RTZ)(t)){let n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectPrevious(),!0}else if((0,r.I2P)(t)){let n=(0,r.B$P)(t.focus,!0);if(!e.shiftKey&&(0,r.Cyw)(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),e.preventDefault(),!0}return!1},r.jZM),e.registerCommand(r.bbF,e=>{let t=(0,r.vJq)();if((0,r.RTZ)(t)){let n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectNext(0,0),!0}else if((0,r.I2P)(t)){if(function(e){let t=e.focus;return"root"===t.key&&t.offset===(0,r.NiT)().getChildrenSize()}(t))return e.preventDefault(),!0;let n=(0,r.B$P)(t.focus,!1);if(!e.shiftKey&&(0,r.Cyw)(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),e.preventDefault(),!0}return!1},r.jZM),e.registerCommand(r.AX0,e=>{let t=(0,r.vJq)();if((0,r.RTZ)(t)){let n=t.getNodes();if(n.length>0)return e.preventDefault(),s(n[0])?n[0].selectNext(0,0):n[0].selectPrevious(),!0}if(!(0,r.I2P)(t))return!1;if(f(t,!0)){let n=e.shiftKey;return e.preventDefault(),h(t,n,!0),!0}return!1},r.jZM),e.registerCommand(r.JM3,e=>{let t=(0,r.vJq)();if((0,r.RTZ)(t)){let n=t.getNodes();if(n.length>0)return e.preventDefault(),s(n[0])?n[0].selectPrevious():n[0].selectNext(0,0),!0}if(!(0,r.I2P)(t))return!1;let n=e.shiftKey;return!!f(t,!1)&&(e.preventDefault(),h(t,n,!1),!0)},r.jZM),e.registerCommand(r.gCZ,t=>{if(J(t.target))return!1;let n=(0,r.vJq)();if((0,r.I2P)(n)){if(function(e){if(!e.isCollapsed())return!1;let{anchor:t}=e;if(0!==t.offset)return!1;let n=t.getNode();if((0,r.hVZ)(n))return!1;let i=(0,p.mB)(n);return i.getIndent()>0&&(i.is(n)||n.is(i.getFirstDescendant()))}(n))return t.preventDefault(),e.dispatchCommand(r.sik,void 0);if(O&&"ko-KR"===navigator.language)return!1}else if(!(0,r.RTZ)(n))return!1;return t.preventDefault(),e.dispatchCommand(r.WuB,!0)},r.jZM),e.registerCommand(r.w$Z,t=>{if(J(t.target))return!1;let n=(0,r.vJq)();return!(!(0,r.I2P)(n)&&!(0,r.RTZ)(n))&&(t.preventDefault(),e.dispatchCommand(r.WuB,!1))},r.jZM),e.registerCommand(r.RTo,t=>{let n=(0,r.vJq)();if(!(0,r.I2P)(n))return!1;if(Z(n),null!==t){if((O||M||A)&&k)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(r.FEN,!1)}return e.dispatchCommand(r.XKQ,void 0)},r.jZM),e.registerCommand(r.Q$N,()=>{let t=(0,r.vJq)();return!!(0,r.I2P)(t)&&(e.blur(),!0)},r.jZM),e.registerCommand(r.Sr4,t=>{let[,n]=W(t);if(n.length>0){let i=E(t.clientX,t.clientY);if(null!==i){let{offset:t,node:l}=i,o=(0,r.xL4)(l);if(null!==o){let e=(0,r.uTE)();if((0,r.kFe)(o))e.anchor.set(o.getKey(),t,"text"),e.focus.set(o.getKey(),t,"text");else{let t=o.getParentOrThrow().getKey(),n=o.getIndexWithinParent()+1;e.anchor.set(t,n,"element"),e.focus.set(t,n,"element")}let n=(0,r.CaD)(e);(0,r.n1P)(n)}e.dispatchCommand(D,n)}return t.preventDefault(),!0}let i=(0,r.vJq)();return!!(0,r.I2P)(i)},r.jZM),e.registerCommand(r.TgX,e=>{let[t]=W(e),n=(0,r.vJq)();return!(t&&!(0,r.I2P)(n))},r.jZM),e.registerCommand(r.riq,e=>{let[t]=W(e),n=(0,r.vJq)();if(t&&!(0,r.I2P)(n))return!1;let i=E(e.clientX,e.clientY);if(null!==i){let t=(0,r.xL4)(i.node);(0,r.Cyw)(t)&&e.preventDefault()}return!0},r.jZM),e.registerCommand(r.HYn,()=>((0,r.e1k)(),!0),r.jZM),e.registerCommand(r.u5G,t=>(x(e,(0,p.xj)(t,ClipboardEvent)?t:null),!0),r.jZM),e.registerCommand(r.VSO,t=>((async function(e,t){await x(t,(0,p.xj)(e,ClipboardEvent)?e:null),t.update(()=>{let e=(0,r.vJq)();(0,r.I2P)(e)?e.removeText():(0,r.RTZ)(e)&&e.getNodes().forEach(e=>e.remove())})})(t,e),!0),r.jZM),e.registerCommand(r.waI,t=>{let[,n,i]=W(t);return n.length>0&&!i?(e.dispatchCommand(D,n),!0):!((0,r.vAA)(t.target)&&(0,r.Z$U)(t.target))&&null!==(0,r.vJq)()&&(t.preventDefault(),e.update(()=>{let n=(0,r.vJq)(),i=(0,p.xj)(t,InputEvent)||(0,p.xj)(t,KeyboardEvent)?null:t.clipboardData;null!=i&&null!==n&&_(i,n,e)},{tag:r.fwY}),!0)},r.jZM),e.registerCommand(r.Huu,e=>{let t=(0,r.vJq)();return(0,r.I2P)(t)&&Z(t),!1},r.jZM),e.registerCommand(r.OXk,e=>{let t=(0,r.vJq)();return(0,r.I2P)(t)&&Z(t),!1},r.jZM))}(0,r.vE9)({conflictsWith:["@lexical/plain-text"],dependencies:[b.P],name:"@lexical/rich-text",nodes:[F,L],register:q})},1629:(e,t,n)=>{n.d(t,{R:()=>a});var r=n(2115);let i=(0,r.createContext)(null),l={didCatch:!1,error:null};class o extends r.Component{static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){let{error:e}=this.state;if(null!==e){for(var t,n,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];null==(t=(n=this.props).onReset)||t.call(n,{args:i,reason:"imperative-api"}),this.setState(l)}}componentDidCatch(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)}componentDidUpdate(e,t){let{didCatch:n}=this.state,{resetKeys:r}=this.props;if(n&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((e,n)=>!Object.is(e,t[n]))}(e.resetKeys,r)){var i,o;null==(i=(o=this.props).onReset)||i.call(o,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(l)}}render(){let{children:e,fallbackRender:t,FallbackComponent:n,fallback:l}=this.props,{didCatch:o,error:s}=this.state,a=e;if(o){let e={error:s,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)a=t(e);else if(n)a=(0,r.createElement)(n,e);else if(void 0!==l)a=l;else throw s}return(0,r.createElement)(i.Provider,{value:{didCatch:o,error:s,resetErrorBoundary:this.resetErrorBoundary}},a)}constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=l}}var s=n(5155);function a({children:e,onError:t}){return(0,s.jsx)(o,{fallback:(0,s.jsx)("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:t,children:e})}},2416:(e,t,n)=>{n.d(t,{$:()=>v});var r=n(6934),i=n(2115);let l="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;function o(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}var s=n(9128);let a=(0,n(8801).vE9)({name:"@lexical/react/ReactProvider"});var u=n(7650),d=n(5155),f=n(9416),c=n(5288),h=n(8088),g=n(1616);let p="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;function m({editor:e,ErrorBoundary:t}){let[n,r]=(0,i.useState)(()=>e.getDecorators());return p(()=>e.registerDecoratorListener(e=>{(0,u.flushSync)(()=>{r(e)})}),[e]),(0,i.useEffect)(()=>{r(e.getDecorators())},[e]),(0,i.useMemo)(()=>{let r=[],l=Object.keys(n);for(let o=0;o<l.length;o++){let s=l[o],a=(0,d.jsx)(t,{onError:t=>e._onError(t),children:(0,d.jsx)(i.Suspense,{fallback:null,children:n[s]})}),f=e.getElementByKey(s);null!==f&&r.push((0,u.createPortal)(a,f,s))}return r},[t,n,e])}function _({editor:e,ErrorBoundary:t}){return!function(e){let t=s.iZ.maybeFromEditor(e);if(t&&t.hasExtensionByName(a.name)){for(let e of["@lexical/plain-text","@lexical/rich-text"])t.hasExtensionByName(e)&&function(e,...t){let n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;for(let e of(r.append("code",320),t))r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${320}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(320,e);return!0}return!1}(e)?(0,d.jsx)(m,{editor:e,ErrorBoundary:t}):null}function y(e){return e.getEditorState().read((0,f.yl)(e.isComposing()))}function v({contentEditable:e,placeholder:t=null,ErrorBoundary:n}){var i;let[l]=(0,r.DF)();return p(()=>(0,c.Sd)((0,g.ZI)(i),(0,h.U)(i)),[i=l]),(0,d.jsxs)(d.Fragment,{children:[e,(0,d.jsx)(x,{content:t}),(0,d.jsx)(_,{editor:l,ErrorBoundary:n})]})}function x({content:e}){let[t]=(0,r.DF)(),n=function(e){let[t,n]=(0,i.useState)(()=>y(e));return p(()=>{function t(){n(y(e))}return t(),(0,c.Sd)(e.registerUpdateListener(()=>{t()}),e.registerEditableListener(()=>{t()}))},[e]),t}(t),s=function(){let[e]=(0,r.DF)(),t=(0,i.useMemo)(()=>o(e),[e,o]),[n,s]=(0,i.useState)(()=>t.initialValueFn()),a=(0,i.useRef)(n);return l(()=>{let{initialValueFn:e,subscribe:n}=t,r=e();return a.current!==r&&(a.current=r,s(r)),n(e=>{a.current=e,s(e)})},[t,o]),n}();return n?"function"==typeof e?e(s):e:null}},3063:(e,t,n)=>{n.d(t,{D:()=>s});var r=n(6934),i=n(8801),l=n(2115);let o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?l.useLayoutEffect:l.useEffect;function s({ignoreHistoryMergeTagChange:e=!0,ignoreSelectionChange:t=!1,onChange:n}){let[l]=(0,r.DF)();return o(()=>{if(n)return l.registerUpdateListener(({editorState:r,dirtyElements:o,dirtyLeaves:s,prevEditorState:a,tags:u})=>{t&&0===o.size&&0===s.size||e&&u.has(i.T40)||a.isEmpty()||n(r,l,u)})},[l,e,t,n]),null}},3719:(e,t,n)=>{n.d(t,{n:()=>d});var r=n(6934),i=n(8801),l=n(2115),o=n(5155);let s="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,a=s?l.useLayoutEffect:l.useEffect,u={tag:i.T40};function d({initialConfig:e,children:t}){let n=(0,l.useMemo)(()=>{let{theme:t,namespace:n,nodes:l,onError:o,editorState:a,html:d}=e,f=(0,r.Mx)(null,t),c=(0,i.ieJ)({editable:e.editable,html:d,namespace:n,nodes:l,onError:e=>o(e,c),theme:t});return function(e,t){if(null!==t){if(void 0===t)e.update(()=>{let t=(0,i.NiT)();if(t.isEmpty()){let n=(0,i.lJ7)();t.append(n);let r=s?document.activeElement:null;(null!==(0,i.vJq)()||null!==r&&r===e.getRootElement())&&n.select()}},u);else if(null!==t)switch(typeof t){case"string":{let n=e.parseEditorState(t);e.setEditorState(n,u);break}case"object":e.setEditorState(t,u);break;case"function":e.update(()=>{(0,i.NiT)().isEmpty()&&t(e)},u)}}}(c,a),[c,f]},[]);return a(()=>{let t=e.editable,[r]=n;r.setEditable(void 0===t||t)},[]),(0,o.jsx)(r.Gu.Provider,{value:n,children:t})}},5288:(e,t,n)=>{n.d(t,{HE:()=>u,Sd:()=>s,ZB:()=>a,mB:()=>d,xj:()=>f,zD:()=>c});var r=n(8801);let i="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,l=i&&"documentMode"in document?document.documentMode:null;function o(...e){let t=[];for(let n of e)if(n&&"string"==typeof n)for(let[e]of n.matchAll(/\S+/g))t.push(e);return t}function s(...e){return()=>{for(let t=e.length-1;t>=0;t--)e[t]();e.length=0}}function a(e,...t){let n=o(...t);n.length>0&&e.classList.add(...n)}function u(e,...t){let n=o(...t);n.length>0&&e.classList.remove(...n)}function d(e){let t=(0,r.BtT)(e,e=>(0,r.ff4)(e)&&!e.isInline());return(0,r.ff4)(t)||function(e,...t){let n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;for(let e of(r.append("code",4),t))r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${4}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(4,e.__key),t}function f(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name}function c(e,t){let n=[];for(let r=0;r<e.length;r++){let i=t(e[r]);null!==i&&n.push(i)}return n}i&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),i&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),i&&"InputEvent"in window&&!l&&new window.InputEvent("input"),i&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),i&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,i&&/Android/.test(navigator.userAgent),i&&/^(?=.*Chrome).*/i.test(navigator.userAgent),i&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)},6852:(e,t,n)=>{n.d(t,{UC:()=>$,ZL:()=>U,Kq:()=>J,bL:()=>Z,l9:()=>q});var r=n(2115),i=n(2556),l=n(4446),o=n(3468),s=n(4831),a=n(8946),u=n(5291),d=n(5433),f=n(6842),c=n(8142),h=n(5155),g=Symbol("radix.slottable"),p=n(3558),m=n(861),[_,y]=(0,o.A)("Tooltip",[u.Bk]),v=(0,u.Bk)(),x="TooltipProvider",S="tooltip.open",[C,b]=_(x),E=e=>{let{__scopeTooltip:t,delayDuration:n=700,skipDelayDuration:i=300,disableHoverableContent:l=!1,children:o}=e,s=r.useRef(!0),a=r.useRef(!1),u=r.useRef(0);return r.useEffect(()=>{let e=u.current;return()=>window.clearTimeout(e)},[]),(0,h.jsx)(C,{scope:t,isOpenDelayedRef:s,delayDuration:n,onOpen:r.useCallback(()=>{window.clearTimeout(u.current),s.current=!1},[]),onClose:r.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>s.current=!0,i)},[i]),isPointerInTransitRef:a,onPointerInTransitChange:r.useCallback(e=>{a.current=e},[]),disableHoverableContent:l,children:o})};E.displayName=x;var w="Tooltip",[T,N]=_(w),k=e=>{let{__scopeTooltip:t,children:n,open:i,defaultOpen:l,onOpenChange:o,disableHoverableContent:s,delayDuration:d}=e,f=b(w,e.__scopeTooltip),c=v(t),[g,m]=r.useState(null),_=(0,a.B)(),y=r.useRef(0),x=null!=s?s:f.disableHoverableContent,C=null!=d?d:f.delayDuration,E=r.useRef(!1),[N,k]=(0,p.i)({prop:i,defaultProp:null!=l&&l,onChange:e=>{e?(f.onOpen(),document.dispatchEvent(new CustomEvent(S))):f.onClose(),null==o||o(e)},caller:w}),M=r.useMemo(()=>N?E.current?"delayed-open":"instant-open":"closed",[N]),O=r.useCallback(()=>{window.clearTimeout(y.current),y.current=0,E.current=!1,k(!0)},[k]),P=r.useCallback(()=>{window.clearTimeout(y.current),y.current=0,k(!1)},[k]),A=r.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{E.current=!0,k(!0),y.current=0},C)},[C,k]);return r.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),(0,h.jsx)(u.bL,{...c,children:(0,h.jsx)(T,{scope:t,contentId:_,open:N,stateAttribute:M,trigger:g,onTriggerChange:m,onTriggerEnter:r.useCallback(()=>{f.isOpenDelayedRef.current?A():O()},[f.isOpenDelayedRef,A,O]),onTriggerLeave:r.useCallback(()=>{x?P():(window.clearTimeout(y.current),y.current=0)},[P,x]),onOpen:O,onClose:P,disableHoverableContent:x,children:n})})};k.displayName=w;var M="TooltipTrigger",O=r.forwardRef((e,t)=>{let{__scopeTooltip:n,...o}=e,s=N(M,n),a=b(M,n),d=v(n),f=r.useRef(null),g=(0,l.s)(t,f,s.onTriggerChange),p=r.useRef(!1),m=r.useRef(!1),_=r.useCallback(()=>p.current=!1,[]);return r.useEffect(()=>()=>document.removeEventListener("pointerup",_),[_]),(0,h.jsx)(u.Mz,{asChild:!0,...d,children:(0,h.jsx)(c.sG.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...o,ref:g,onPointerMove:(0,i.mK)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(m.current||a.isPointerInTransitRef.current||(s.onTriggerEnter(),m.current=!0))}),onPointerLeave:(0,i.mK)(e.onPointerLeave,()=>{s.onTriggerLeave(),m.current=!1}),onPointerDown:(0,i.mK)(e.onPointerDown,()=>{s.open&&s.onClose(),p.current=!0,document.addEventListener("pointerup",_,{once:!0})}),onFocus:(0,i.mK)(e.onFocus,()=>{p.current||s.onOpen()}),onBlur:(0,i.mK)(e.onBlur,s.onClose),onClick:(0,i.mK)(e.onClick,s.onClose)})})});O.displayName=M;var P="TooltipPortal",[A,D]=_(P,{forceMount:void 0}),L=e=>{let{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,l=N(P,t);return(0,h.jsx)(A,{scope:t,forceMount:n,children:(0,h.jsx)(f.C,{present:n||l.open,children:(0,h.jsx)(d.Z,{asChild:!0,container:i,children:r})})})};L.displayName=P;var I="TooltipContent",F=r.forwardRef((e,t)=>{let n=D(I,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...l}=e,o=N(I,e.__scopeTooltip);return(0,h.jsx)(f.C,{present:r||o.open,children:o.disableHoverableContent?(0,h.jsx)(W,{side:i,...l,ref:t}):(0,h.jsx)(R,{side:i,...l,ref:t})})}),R=r.forwardRef((e,t)=>{let n=N(I,e.__scopeTooltip),i=b(I,e.__scopeTooltip),o=r.useRef(null),s=(0,l.s)(t,o),[a,u]=r.useState(null),{trigger:d,onClose:f}=n,c=o.current,{onPointerInTransitChange:g}=i,p=r.useCallback(()=>{u(null),g(!1)},[g]),m=r.useCallback((e,t)=>{let n=e.currentTarget,r={x:e.clientX,y:e.clientY},i=function(e,t){let n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(n,r,i,l)){case l:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw Error("unreachable")}}(r,n.getBoundingClientRect());u(function(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let n=0;n<e.length;n++){let r=e[n];for(;t.length>=2;){let e=t[t.length-1],n=t[t.length-2];if((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x))t.pop();else break}t.push(r)}t.pop();let n=[];for(let t=e.length-1;t>=0;t--){let r=e[t];for(;n.length>=2;){let e=n[n.length-1],t=n[n.length-2];if((e.x-t.x)*(r.y-t.y)>=(e.y-t.y)*(r.x-t.x))n.pop();else break}n.push(r)}return(n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y)?t:t.concat(n)}(t)}([...function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return r}(r,i),...function(e){let{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}(t.getBoundingClientRect())])),g(!0)},[g]);return r.useEffect(()=>()=>p(),[p]),r.useEffect(()=>{if(d&&c){let e=e=>m(e,c),t=e=>m(e,d);return d.addEventListener("pointerleave",e),c.addEventListener("pointerleave",t),()=>{d.removeEventListener("pointerleave",e),c.removeEventListener("pointerleave",t)}}},[d,c,m,p]),r.useEffect(()=>{if(a){let e=e=>{let t=e.target,n={x:e.clientX,y:e.clientY},r=(null==d?void 0:d.contains(t))||(null==c?void 0:c.contains(t)),i=!function(e,t){let{x:n,y:r}=e,i=!1;for(let e=0,l=t.length-1;e<t.length;l=e++){let o=t[e],s=t[l],a=o.x,u=o.y,d=s.x,f=s.y;u>r!=f>r&&n<(d-a)*(r-u)/(f-u)+a&&(i=!i)}return i}(n,a);r?p():i&&(p(),f())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[d,c,a,f,p]),(0,h.jsx)(W,{...e,ref:s})}),[K,B]=_(w,{isInside:!1}),z=function(e){let t=({children:e})=>(0,h.jsx)(h.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=g,t}("TooltipContent"),W=r.forwardRef((e,t)=>{let{__scopeTooltip:n,children:i,"aria-label":l,onEscapeKeyDown:o,onPointerDownOutside:a,...d}=e,f=N(I,n),c=v(n),{onClose:g}=f;return r.useEffect(()=>(document.addEventListener(S,g),()=>document.removeEventListener(S,g)),[g]),r.useEffect(()=>{if(f.trigger){let e=e=>{let t=e.target;(null==t?void 0:t.contains(f.trigger))&&g()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[f.trigger,g]),(0,h.jsx)(s.qW,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:e=>e.preventDefault(),onDismiss:g,children:(0,h.jsxs)(u.UC,{"data-state":f.stateAttribute,...c,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,h.jsx)(z,{children:i}),(0,h.jsx)(K,{scope:n,isInside:!0,children:(0,h.jsx)(m.bL,{id:f.contentId,role:"tooltip",children:l||i})})]})})});F.displayName=I;var j="TooltipArrow";r.forwardRef((e,t)=>{let{__scopeTooltip:n,...r}=e,i=v(n);return B(j,n).isInside?null:(0,h.jsx)(u.i3,{...i,...r,ref:t})}).displayName=j;var J=E,Z=k,q=O,U=L,$=F},6934:(e,t,n)=>{n.d(t,{DF:()=>o,Gu:()=>i,Mx:()=>l});var r=n(2115);let i=(0,r.createContext)(null);function l(e,t){let n=null;return null!=e&&(n=e[1]),{getTheme:function(){return null!=t?t:null!=n?n.getTheme():null}}}function o(){let e=(0,r.useContext)(i);return null==e&&function(e,...t){let n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;for(let e of(r.append("code",8),t))r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${8}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),e}},7250:(e,t,n)=>{n.d(t,{a:()=>f});var r=n(6934),i=n(2115),l=n(5155),o=n(9416),s=n(5288);let a="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect,u=(0,i.forwardRef)(function({editor:e,ariaActiveDescendant:t,ariaAutoComplete:n,ariaControls:r,ariaDescribedBy:o,ariaErrorMessage:s,ariaExpanded:u,ariaInvalid:d,ariaLabel:f,ariaLabelledBy:c,ariaMultiline:h,ariaOwns:g,ariaRequired:p,autoCapitalize:m,className:_,id:y,role:v="textbox",spellCheck:x=!0,style:S,tabIndex:C,"data-testid":b,...E},w){let[T,N]=(0,i.useState)(e.isEditable()),k=(0,i.useCallback)(t=>{t&&t.ownerDocument&&t.ownerDocument.defaultView?e.setRootElement(t):e.setRootElement(null)},[e]),M=(0,i.useMemo)(()=>(function(...e){return t=>{for(let n of e)"function"==typeof n?n(t):null!=n&&(n.current=t)}})(w,k),[k,w]);return a(()=>(N(e.isEditable()),e.registerEditableListener(e=>{N(e)})),[e]),(0,l.jsx)("div",{"aria-activedescendant":T?t:void 0,"aria-autocomplete":T?n:"none","aria-controls":T?r:void 0,"aria-describedby":o,...null!=s?{"aria-errormessage":s}:{},"aria-expanded":T&&"combobox"===v?!!u:void 0,...null!=d?{"aria-invalid":d}:{},"aria-label":f,"aria-labelledby":c,"aria-multiline":h,"aria-owns":T?g:void 0,"aria-readonly":!T||void 0,"aria-required":p,autoCapitalize:m,className:_,contentEditable:T,"data-testid":b,id:y,ref:M,role:v,spellCheck:x,style:S,tabIndex:C,...E})});function d(e){return e.getEditorState().read((0,o.yl)(e.isComposing()))}let f=(0,i.forwardRef)(function(e,t){let{placeholder:n,...i}=e,[o]=(0,r.DF)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u,{editor:o,...i,ref:t}),null!=n&&(0,l.jsx)(c,{editor:o,content:n})]})});function c({content:e,editor:t}){let n=function(e){let[t,n]=(0,i.useState)(()=>d(e));return a(()=>{function t(){n(d(e))}return t(),(0,s.Sd)(e.registerUpdateListener(()=>{t()}),e.registerEditableListener(()=>{t()}))},[e]),t}(t),[r,o]=(0,i.useState)(t.isEditable());if((0,i.useLayoutEffect)(()=>(o(t.isEditable()),t.registerEditableListener(e=>{o(e)})),[t]),!n)return null;let u=null;return"function"==typeof e?u=e(r):null!==e&&(u=e),null===u?null:(0,l.jsx)("div",{"aria-hidden":!0,children:u})}},8088:(e,t,n)=>{n.d(t,{P:()=>o,U:()=>l});var r=n(9128),i=n(8801);function l(e){let t=window.location.origin,n=n=>{if(n.origin!==t)return;let r=e.getRootElement();if(document.activeElement!==r)return;let l=n.data;if("string"==typeof l){let t;try{t=JSON.parse(l)}catch(e){return}if(t&&"nuanria_messaging"===t.protocol&&"request"===t.type){let r=t.payload;if(r&&"makeChanges"===r.functionId){let t=r.args;if(t){let[r,l,o,s,a]=t;e.update(()=>{let e=(0,i.vJq)();if((0,i.I2P)(e)){let t=e.anchor,u=t.getNode(),d=0,f=0;if((0,i.kFe)(u)&&r>=0&&l>=0&&(d=r,f=r+l,e.setTextNodeRange(u,d,u,f)),d===f&&""===o||(e.insertRawText(o),u=t.getNode()),(0,i.kFe)(u)){d=s,f=s+a;let t=u.getTextContentSize();d=d>t?t:d,f=f>t?t:f,e.setTextNodeRange(u,d,u,f)}n.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}let o=(0,i.vE9)({build:(e,t,n)=>(0,r.v)(t),config:(0,i.lVE)({disabled:"undefined"==typeof window}),name:"@lexical/dragon",register:(e,t,n)=>(0,r.QZ)(()=>n.getOutput().disabled.value?void 0:l(e))})},8801:(e,t,n)=>{function r(e,...t){let n=new URL("https://lexical.dev/docs/error"),i=new URLSearchParams;for(let n of(i.append("code",e),t))i.append("v",n);throw n.search=i.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function i(e,...t){let n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;for(let n of(r.append("code",e),t))r.append("v",n);n.search=r.toString(),console.warn(`Minified Lexical warning #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}n.d(t,{$ey:()=>eP,A7V:()=>rt,AX0:()=>ez,AcJ:()=>rs,Ave:()=>i2,B$P:()=>r8,BtT:()=>ik,CaD:()=>Z,Cku:()=>no,Cyw:()=>n8,Ey8:()=>t$,FEN:()=>eN,GMe:()=>nZ,GRK:()=>tF,H2A:()=>nT,HYn:()=>e5,Huu:()=>eq,I2P:()=>nn,IqF:()=>il,JM3:()=>eK,Jvg:()=>rp,K8K:()=>ig,Kp7:()=>n3,LYZ:()=>ry,MZu:()=>t8,NiT:()=>rK,OXk:()=>eH,PiT:()=>eG,Q$N:()=>e$,RTZ:()=>ni,RTo:()=>eZ,Rb_:()=>rb,SKc:()=>e6,Sr4:()=>eQ,T40:()=>tL,TJt:()=>iY,Tc1:()=>ll,TgX:()=>e1,U5P:()=>ib,UDz:()=>ej,VSO:()=>e4,WKo:()=>tK,WuB:()=>eT,XKQ:()=>ek,YW5:()=>eY,Z$U:()=>r_,_On:()=>ip,a9V:()=>im,bM3:()=>eM,bSg:()=>rl,bbF:()=>eJ,cmH:()=>iK,d8p:()=>ew,da8:()=>ra,dxY:()=>iE,e1k:()=>r0,ev7:()=>t4,fD3:()=>rn,fGB:()=>n0,fUS:()=>e0,ff4:()=>n1,fwY:()=>tI,gCZ:()=>eU,guI:()=>eC,hVZ:()=>n5,haT:()=>n4,hi0:()=>eA,i0_:()=>iy,ieJ:()=>rd,jZM:()=>ro,kFe:()=>t2,lJ7:()=>ri,lVE:()=>li,mB:()=>eL,mB$:()=>rw,mWO:()=>iH,n1P:()=>rz,nsf:()=>rA,oqR:()=>eE,pGK:()=>le,pJU:()=>rD,pTq:()=>io,peL:()=>id,phO:()=>iN,rN:()=>iF,rUs:()=>n_,riq:()=>e2,sby:()=>ic,sik:()=>eX,u5G:()=>e8,uTE:()=>nm,uwZ:()=>iq,v0B:()=>n7,vAA:()=>ih,vE9:()=>lr,vJq:()=>nv,viC:()=>eD,w$Z:()=>eV,waI:()=>eO,xL4:()=>rI,y68:()=>ng});let l="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,o=l&&"documentMode"in document?document.documentMode:null,s=l&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),a=l&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),u=!(!l||!("InputEvent"in window)||o)&&"getTargetRanges"in new window.InputEvent("input"),d=l&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),f=l&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,c=l&&/Android/.test(navigator.userAgent),h=l&&/^(?=.*Chrome).*/i.test(navigator.userAgent),g=l&&c&&h,p=l&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&s&&!h;function m(...e){let t=[];for(let n of e)if(n&&"string"==typeof n)for(let[e]of n.matchAll(/\S+/g))t.push(e);return t}let _=d||f||p?"\xa0":"​",y=a?"\xa0":_,v="֑-߿יִ-﷽ﹰ-ﻼ",x="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",S=(RegExp("^[^"+x+"]*["+v+"]"),RegExp("^[^"+v+"]*["+x+"]"),{bold:1,capitalize:1024,code:16,highlight:128,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512}),C={directionless:1,unmergeable:2},b={center:2,end:6,justify:4,left:1,right:3,start:5},E={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},w={normal:0,segmented:2,token:1},T={0:"normal",2:"segmented",1:"token"},N="$config",k=!1,M=0;function O(e){M=e.timeStamp}function P(e,t,n){let r="BR"===e.nodeName,i=t.__lexicalLineBreak;return i&&(e===i||r&&e.previousSibling===i)||r&&void 0!==rL(e,n)}function A(e,t,n){k=!0;let r=performance.now()-M>100;try{nG(e,()=>{let i=nv()||e.getEditorState().read(()=>{let e=nv();return null!==e?e.clone():null}),l=new Map,o=e.getRootElement(),s=e._editorState,u=e._blockCursorElement,d=!1,f="";for(let n=0;n<t.length;n++){let c=t[n],h=c.type,g=c.target,p=function(e,t,n,r){var i;for(let l=e;l&&(i=l,!0!==i.__lexicalUnmanaged);l=r7(l)){let e=rL(l,t);if(void 0!==e){let t=rA(e,n);if(t)return n8(t)||!ic(l)?void 0:[l,t]}else if(l===r)return[r,rB(n)]}}(g,e,s,o);if(!p)continue;let[m,_]=p;if("characterData"===h)r&&t2(_)&&rE(g)&&function(e,t,n){if(nn(e)){let t=e.anchor.getNode();if(t.is(n)&&e.format!==t.getFormat())return!1}return rE(t)&&n.isAttached()}(i,g,_)&&function(e,t,n){let r=id(ii(n)),i=null,l=null;null!==r&&r.anchorNode===e&&(i=r.anchorOffset,l=r.focusOffset);let o=e.nodeValue;null!==o&&r$(t,o,i,l,!1)}(g,_,e);else if("childList"===h){d=!0;let t=c.addedNodes;for(let n=0;n<t.length;n++){let r=t[n],i=rD(r),l=r.parentNode;if(null!=l&&r!==u&&null===i&&!P(r,l,e)){if(a){let e=(ic(r)?r.innerText:null)||r.nodeValue;e&&(f+=e)}l.removeChild(r)}}let n=c.removedNodes,r=n.length;if(r>0){let t=0;for(let i=0;i<r;i++){let r=n[i];(P(r,g,e)||u===r)&&(g.appendChild(r),t++)}r!==t&&l.set(m,_)}}}if(l.size>0)for(let[t,n]of l)n.reconcileObservedMutation(t,e);let c=n.takeRecords();if(c.length>0){for(let t=0;t<c.length;t++){let n=c[t],r=n.addedNodes,i=n.target;for(let t=0;t<r.length;t++){let n=r[t],l=n.parentNode;null==l||"BR"!==n.nodeName||P(n,i,e)||l.removeChild(n)}}n.takeRecords()}null!==i&&(d&&rz(i),a&&r4(e)&&i.insertRawText(f))})}finally{k=!1}}function D(e){let t=e._observer;null!==t&&A(e,t.takeRecords(),t)}function L(e){0===M&&ii(e).addEventListener("textInput",O,!0),e._observer=new MutationObserver((t,n)=>{A(e,t,n)})}class I{node;knownState;unknownState;sharedNodeState;size;constructor(e,t,n,r=new Map,i){this.node=e,this.sharedNodeState=t,this.unknownState=n,this.knownState=r;let{sharedConfigMap:l}=this.sharedNodeState,o=void 0!==i?i:function(e,t,n){let r=n.size;if(t)for(let i in t){let t=e.get(i);t&&n.has(t)||r++}return r}(l,n,r);this.size=o}getValue(e){let t=this.knownState.get(e);if(void 0!==t)return t;this.sharedNodeState.sharedConfigMap.set(e.key,e);let n=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){let t=this.unknownState[e.key];void 0!==t&&(n=e.parse(t)),this.updateFromKnown(e,n)}return n}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){let e={...this.unknownState},t={};for(let[t,n]of this.knownState)t.isEqual(n,t.defaultValue)?delete e[t.key]:e[t.key]=t.unparse(n);for(let n of this.sharedNodeState.flatKeys)n in e&&(t[n]=e[n],delete e[n]);return R(e)&&(t.$=e),t}getWritable(e){if(this.node===e)return this;let{sharedNodeState:t,unknownState:n}=this,r=new Map(this.knownState);return new I(e,t,function(e,t,n){let r;if(n)for(let[i,l]of Object.entries(n)){let n=e.get(i);n?t.has(n)||t.set(n,n.parse(l)):(r=r||{})[i]=l}return r}(t.sharedConfigMap,r,n),r,this.size)}updateFromKnown(e,t){let n=e.key;this.sharedNodeState.sharedConfigMap.set(n,e);let{knownState:r,unknownState:i}=this;r.has(e)||i&&n in i||(i&&(delete i[n],this.unknownState=R(i)),this.size++),r.set(e,t)}updateFromUnknown(e,t){let n=this.sharedNodeState.sharedConfigMap.get(e);n?this.updateFromKnown(n,n.parse(t)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=t)}updateFromJSON(e){let{knownState:t}=this;for(let e of t.keys())t.set(e,e.defaultValue);if(this.size=t.size,this.unknownState=void 0,e)for(let[t,n]of Object.entries(e))this.updateFromUnknown(t,n)}}function F(e){return e.__state?e.__state.sharedNodeState:rg(iy(),e.getType()).sharedNodeState}function R(e){if(e)for(let t in e)return e}function K(e,t,n){for(let[r,i]of t.knownState){if(e.has(r.key))continue;e.add(r.key);let t=n?n.getValue(r):r.defaultValue;if(t!==i&&!r.isEqual(t,i))return!0}return!1}function B(e,t,n){let{unknownState:r}=t,i=n?n.unknownState:void 0;if(r){for(let[t,n]of Object.entries(r))if(!e.has(t)&&(e.add(t),n!==(i?i[t]:void 0)))return!0}return!1}function z(e,t){let n=e.__state;return n&&n.node===e?n.getWritable(t):n}function W(e,t){let n=e.__mode,r=e.__format,i=e.__style,l=t.__mode,o=t.__format,s=t.__style,a=e.__state,u=t.__state;return(null===n||n===l)&&(null===r||r===o)&&(null===i||i===s)&&(null===e.__state||a===u||function(e,t){if(e===t)return!0;if(e&&t&&e.size!==t.size)return!1;let n=new Set;return!(e&&K(n,e,t)||t&&K(n,t,e)||e&&B(n,e,t)||t&&B(n,t,e))}(a,u))}function j(e,t){let n=e.mergeWithSibling(t),r=nB()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function J(e){let t,n,r=e;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(t=r.getPreviousSibling())&&t2(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){W(t,r)&&(r=j(t,r));break}t.remove()}for(;null!==(n=r.getNextSibling())&&t2(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){W(r,n)&&(r=j(r,n));break}n.remove()}}else r.remove()}function Z(e){return q(e.anchor),q(e.focus),e}function q(e){for(;"element"===e.type;){let t,n,r=e.getNode(),i=e.offset;if(i===r.getChildrenSize()?(t=r.getChildAtIndex(i-1),n=!0):(t=r.getChildAtIndex(i),n=!1),t2(t)){e.set(t.__key,n?t.getTextContentSize():0,"text",!0);break}if(!n1(t))break;e.set(t.__key,n?t.getChildrenSize():0,"element",!0)}}let U,$,V,H,Y,G,X,Q,ee,et,en="",er=null,ei="",el="",eo=!1,es=!1;function ea(e,t){let n=X.get(e);if(null!==t){let n=eS(e);n.parentNode===t&&t.removeChild(n)}if(Q.has(e)||$._keyToDOMMap.delete(e),n1(n)){let e=ey(n,X);eu(e,0,e.length-1,null)}void 0!==n&&r2(et,V,H,n,"destroyed")}function eu(e,t,n,r){let i=t;for(;i<=n;++i){let t=e[i];void 0!==t&&ea(t,r)}}function ed(e,t){e.setProperty("text-align",t)}function ef(e,t){let n=U.theme.indent;if("string"==typeof n){let r=e.classList.contains(n);t>0&&!r?e.classList.add(n):t<1&&r&&e.classList.remove(n)}let r=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||"40px";e.style.setProperty("padding-inline-start",0===t?"":`calc(${t} * ${r})`)}function ec(e,t){let n=e.style;0===t?ed(n,""):1===t?ed(n,"left"):2===t?ed(n,"center"):3===t?ed(n,"right"):4===t?ed(n,"justify"):5===t?ed(n,"start"):6===t&&ed(n,"end")}function eh(e,t){let n=function(e){let t=e.__dir;if(null!==t)return t;if(n5(e))return null;let n=e.getParentOrThrow();return n5(n)&&null===n.__dir?"auto":null}(t);null!==n?e.dir=n:e.removeAttribute("dir")}function eg(e,t){let n=Q.get(e);void 0===n&&r(60);let i=n.createDOM(U,$);if(function(e,t,n){let r=n._keyToDOMMap;t[`__lexicalKey_${n._key}`]=e,r.set(e,t)}(e,i,$),t2(n)?i.setAttribute("data-lexical-text","true"):n8(n)&&i.setAttribute("data-lexical-decorator","true"),n1(n)){let e=n.__indent,t=n.__size;eh(i,n),0!==e&&ef(i,e),0!==t&&ep(ey(n,Q),n,0,t-1,n.getDOMSlot(i));let r=n.__format;0!==r&&ec(i,r),n.isInline()||e_(null,n,i),r6(n)&&(en+="\n\n",el+="\n\n")}else{let t=n.getTextContent();if(n8(n)){let t=n.decorate($,U);null!==t&&ev(e,t),i.contentEditable="false"}en+=t,el+=t}return null!==t&&t.insertChild(i),r2(et,V,H,n,"created"),i}function ep(e,t,n,r,i){let l=en;en="";let o=n;for(;o<=r;++o){eg(e[o],i);let t=Q.get(e[o]);null!==t&&t2(t)&&(null===er&&(er=t.getFormat()),""===ei&&(ei=t.getStyle()))}r6(t)&&(en+="\n\n"),i.element.__lexicalTextContent=en,en=l+en}function em(e,t){if(e){let n=e.__last;if(n){let e=t.get(n);if(e)return tB(e)?"line-break":n8(e)&&e.isInline()?"decorator":null}return"empty"}return null}function e_(e,t,n){let r=em(e,X),i=em(t,Q);r!==i&&t.getDOMSlot(n).setManagedLineBreak(i)}function ey(e,t){let n=[],i=e.__first;for(;null!==i;){let e=t.get(i);void 0===e&&r(101),n.push(i),i=e.__next}return n}function ev(e,t){let n=$._pendingDecorators,r=$._decorators;if(null===n){if(r[e]===t)return;n=rF($)}n[e]=t}function ex(e){let t=e.nextSibling;return null!==t&&t===$._blockCursorElement&&(t=t.nextSibling),t}function eS(e){let t=ee.get(e);return void 0===t&&r(75,e),t}function eC(e){return{type:e}}let eb=eC("SELECTION_CHANGE_COMMAND"),eE=eC("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),ew=eC("CLICK_COMMAND"),eT=eC("DELETE_CHARACTER_COMMAND"),eN=eC("INSERT_LINE_BREAK_COMMAND"),ek=eC("INSERT_PARAGRAPH_COMMAND"),eM=eC("CONTROLLED_TEXT_INSERTION_COMMAND"),eO=eC("PASTE_COMMAND"),eP=eC("REMOVE_TEXT_COMMAND"),eA=eC("DELETE_WORD_COMMAND"),eD=eC("DELETE_LINE_COMMAND"),eL=eC("FORMAT_TEXT_COMMAND"),eI=eC("UNDO_COMMAND"),eF=eC("REDO_COMMAND"),eR=eC("KEYDOWN_COMMAND"),eK=eC("KEY_ARROW_RIGHT_COMMAND"),eB=eC("MOVE_TO_END"),ez=eC("KEY_ARROW_LEFT_COMMAND"),eW=eC("MOVE_TO_START"),ej=eC("KEY_ARROW_UP_COMMAND"),eJ=eC("KEY_ARROW_DOWN_COMMAND"),eZ=eC("KEY_ENTER_COMMAND"),eq=eC("KEY_SPACE_COMMAND"),eU=eC("KEY_BACKSPACE_COMMAND"),e$=eC("KEY_ESCAPE_COMMAND"),eV=eC("KEY_DELETE_COMMAND"),eH=eC("KEY_TAB_COMMAND"),eY=eC("INSERT_TAB_COMMAND"),eG=eC("INDENT_CONTENT_COMMAND"),eX=eC("OUTDENT_CONTENT_COMMAND"),eQ=eC("DROP_COMMAND"),e0=eC("FORMAT_ELEMENT_COMMAND"),e1=eC("DRAGSTART_COMMAND"),e2=eC("DRAGOVER_COMMAND"),e3=eC("DRAGEND_COMMAND"),e8=eC("COPY_COMMAND"),e4=eC("CUT_COMMAND"),e5=eC("SELECT_ALL_COMMAND"),e6=eC("CLEAR_EDITOR_COMMAND"),e9=(eC("CLEAR_HISTORY_COMMAND"),eC("CAN_REDO_COMMAND"),eC("CAN_UNDO_COMMAND"),eC("FOCUS_COMMAND")),e7=eC("BLUR_COMMAND"),te=eC("KEY_MODIFIER_COMMAND"),tt=Object.freeze({}),tn=[["keydown",function(e,t){if((tr=e.timeStamp,ti=e.key,!(t.isComposing()||r5(t,eR,e)))&&null!=e.key){if(th&&rQ(e))return nG(t,()=>{tb(t,tg)}),th=!1,void(tg="");if(rY(e,"ArrowRight",{shiftKey:"any"}))r5(t,eK,e);else if(rY(e,"ArrowRight",rG))r5(t,eB,e);else if(rY(e,"ArrowLeft",{shiftKey:"any"}))r5(t,ez,e);else if(rY(e,"ArrowLeft",rG))r5(t,eW,e);else if(rY(e,"ArrowUp",{altKey:"any",shiftKey:"any"}))r5(t,ej,e);else if(rY(e,"ArrowDown",{altKey:"any",shiftKey:"any"}))r5(t,eJ,e);else if(rY(e,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0}))tf=!0,r5(t,eZ,e);else if(" "===e.key)r5(t,eq,e);else if(s&&rY(e,"o",{ctrlKey:!0}))e.preventDefault(),tf=!0,r5(t,eN,!0);else if(rY(e,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"}))tf=!1,r5(t,eZ,e);else if(rY(e,"Backspace",{shiftKey:"any"})||s&&rY(e,"h",{ctrlKey:!0}))rQ(e)?r5(t,eU,e):(e.preventDefault(),r5(t,eT,!0));else if("Escape"===e.key)r5(t,e$,e);else if(rY(e,"Delete",{})||s&&rY(e,"d",{ctrlKey:!0}))"Delete"!==e.key?(e.preventDefault(),r5(t,eT,!1)):r5(t,eV,e);else if(rY(e,"Backspace",rX))e.preventDefault(),r5(t,eA,!0);else if(rY(e,"Delete",rX))e.preventDefault(),r5(t,eA,!1);else if(s&&rY(e,"Backspace",{metaKey:!0}))e.preventDefault(),r5(t,eD,!0);else if(s&&(rY(e,"Delete",{metaKey:!0})||rY(e,"k",{ctrlKey:!0})))e.preventDefault(),r5(t,eD,!1);else if(rY(e,"b",rG))e.preventDefault(),r5(t,eL,"bold");else if(rY(e,"u",rG))e.preventDefault(),r5(t,eL,"underline");else if(rY(e,"i",rG))e.preventDefault(),r5(t,eL,"italic");else if(rY(e,"Tab",{shiftKey:"any"}))r5(t,eH,e);else if(rY(e,"z",rG))e.preventDefault(),r5(t,eI,void 0);else if(s?rY(e,"z",{metaKey:!0,shiftKey:!0}):rY(e,"y",{ctrlKey:!0})||rY(e,"z",{ctrlKey:!0,shiftKey:!0}))e.preventDefault(),r5(t,eF,void 0);else{let n=t._editorState._selection;null===n||nn(n)?rY(e,"a",rG)&&(e.preventDefault(),r5(t,e5,e)):rY(e,"c",rG)?(e.preventDefault(),r5(t,e8,e)):rY(e,"x",rG)?(e.preventDefault(),r5(t,e4,e)):rY(e,"a",rG)&&(e.preventDefault(),r5(t,e5,e))}(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)&&r5(t,te,e)}}],["pointerdown",function(e,t){let n=e.target,r=e.pointerType;ih(n)&&"touch"!==r&&"pen"!==r&&0===e.button&&nG(t,()=>{n8(rI(n))||(td=!0)})}],["compositionstart",function(e,t){nG(t,()=>{let n=nv();if(nn(n)&&!t.isComposing()){let r=n.anchor,i=n.anchor.getNode();rO(r.key),(e.timeStamp<tr+30||"element"===r.type||!n.isCollapsed()||i.getFormat()!==n.format||t2(i)&&i.getStyle()!==n.style)&&r5(t,eM,y)}})}],["compositionend",function(e,t){a?tc=!0:!f&&(d||p)?(th=!0,tg=e.data):nG(t,()=>{tb(t,e.data)})}],["input",function(e,t){e.stopPropagation(),nG(t,()=>{if(ic(e.target)&&n8(rI(e.target)))return;let n=nv(),r=e.data,i=tC(e);if(null!=r&&nn(n)&&t_(n,i,r,e.timeStamp,!1)){tc&&(tb(t,r),tc=!1);let i=n.anchor.getNode(),l=id(ii(t));if(null===l)return;let o=n.isBackward(),s=o?n.anchor.offset:n.focus.offset,c=o?n.focus.offset:n.anchor.offset;u&&!n.isCollapsed()&&t2(i)&&null!==l.anchorNode&&i.getTextContent().slice(0,s)+r+i.getTextContent().slice(s+c)===rq(l.anchorNode)||r5(t,eM,r);let h=r.length;a&&h>1&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=h),d||f||p||!t.isComposing()||(tr=0,rO(null))}else rU(!1,t,null!==r?r:void 0),tc&&(tb(t,r||void 0),tc=!1);nF(),D(nB())},{event:e}),to=null}],["click",function(e,t){nG(t,()=>{let n=nv(),r=id(ii(t)),i=nx();if(r){if(nn(n)){let t=n.anchor,l=t.getNode();if("element"===t.type&&0===t.offset&&n.isCollapsed()&&!n5(l)&&1===rK().getChildrenSize()&&l.getTopLevelElementOrThrow().isEmpty()&&null!==i&&n.is(i))r.removeAllRanges(),n.dirty=!0;else if(3===e.detail&&!n.isCollapsed()&&l!==n.focus.getNode()){let e=ik(l,e=>n1(e)&&!e.isInline());n1(e)&&e.select(0)}}else if("touch"===e.pointerType||"pen"===e.pointerType){let n=r.anchorNode;(ic(n)||rE(n))&&rz(ny(i,r,t,e))}}r5(t,ew,e)})}],["cut",tt],["copy",tt],["dragstart",tt],["dragover",tt],["dragend",tt],["paste",tt],["focus",tt],["blur",tt],["drop",tt]];u&&tn.push(["beforeinput",(e,t)=>(function(e,t){let n=e.inputType,i=tC(e);"deleteCompositionText"===n||a&&r4(t)||"insertCompositionText"!==n&&nG(t,()=>{var l;let o=nv();if("deleteContentBackward"===n){if(null===o){let e=nx();if(!nn(e))return;rz(e.clone())}if(nn(o)){let n=o.anchor.key===o.focus.key;if(l=e.timeStamp,"MediaLast"===ti&&l<tr+30&&t.isComposing()&&n){if(rO(null),tr=0,setTimeout(()=>{nG(t,()=>{rO(null)})},30),nn(o)){let e=o.anchor.getNode();e.markDirty(),t2(e)||r(142),tS(o,e)}}else{rO(null),e.preventDefault();let r=o.anchor.getNode(),i=r.getTextContent(),l=r.canInsertTextAfter(),s=0===o.anchor.offset&&o.focus.offset===i.length,a=g&&n&&!s&&l;if(a&&o.isCollapsed()&&(a=!n8(r8(o.anchor,!0))),!a){r5(t,eT,!0);let e=nv();g&&nn(e)&&e.isCollapsed()&&(tp=e,setTimeout(()=>tp=null))}}return}}if(!nn(o))return;let s=e.data;null!==to&&rU(!1,t,to),o.dirty&&null===to||!o.isCollapsed()||n5(o.anchor.getNode())||null===i||o.applyDOMRange(i),to=null;let a=o.anchor,u=o.focus,d=a.getNode(),c=u.getNode();if("insertText"!==n&&"insertTranspose"!==n)switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":r5(t,eM,e);break;case"insertFromComposition":rO(null),r5(t,eM,e);break;case"insertLineBreak":rO(null),r5(t,eN,!1);break;case"insertParagraph":rO(null),tf&&!f?(tf=!1,r5(t,eN,!1)):r5(t,ek,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":r5(t,eO,e);break;case"deleteByComposition":(d!==c||n1(d)||n1(c)||!rC(d)||!rC(c))&&r5(t,eP,e);break;case"deleteByDrag":case"deleteByCut":r5(t,eP,e);break;case"deleteContent":r5(t,eT,!1);break;case"deleteWordBackward":r5(t,eA,!0);break;case"deleteWordForward":r5(t,eA,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":r5(t,eD,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":r5(t,eD,!1);break;case"formatStrikeThrough":r5(t,eL,"strikethrough");break;case"formatBold":r5(t,eL,"bold");break;case"formatItalic":r5(t,eL,"italic");break;case"formatUnderline":r5(t,eL,"underline");break;case"historyUndo":r5(t,eI,void 0);break;case"historyRedo":r5(t,eF,void 0)}else{if("\n"===s)e.preventDefault(),r5(t,eN,!1);else if("\n\n"===s)e.preventDefault(),r5(t,ek,void 0);else if(null==s&&e.dataTransfer){let t=e.dataTransfer.getData("text/plain");e.preventDefault(),o.insertRawText(t)}else null!=s&&t_(o,i,s,e.timeStamp,!0)?(e.preventDefault(),r5(t,eM,s)):to=s;tl=e.timeStamp}})})(e,t)]);let tr=0,ti=null,tl=0,to=null,ts=new WeakMap,ta=new WeakMap,tu=!1,td=!1,tf=!1,tc=!1,th=!1,tg="",tp=null,tm=[0,"",0,"root",0];function t_(e,t,n,r,i){let l=e.anchor,o=e.focus,s=l.getNode(),a=nB(),d=id(ii(a)),f=null!==d?d.anchorNode:null,c=l.key,h=a.getElementByKey(c),g=n.length;return c!==o.key||!t2(s)||(!i&&(!u||tl<r+50)||s.isDirty()&&g<2||rj(n))&&l.offset!==o.offset&&!s.isComposing()||rb(s)||s.isDirty()&&g>1||(i||!u)&&null!==h&&!s.isComposing()&&f!==rT(h)||null!==d&&null!==t&&(!t.collapsed||t.startContainer!==d.anchorNode||t.startOffset!==d.anchorOffset)||s.getFormat()!==e.format||s.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;let n=e.anchor.offset,r=t.getParentOrThrow(),i=rC(t);return 0===n?!t.canInsertTextBefore()||!r.canInsertTextBefore()&&!t.isComposing()||i||function(e){let t=e.getPreviousSibling();return(t2(t)||n1(t)&&t.isInline())&&!t.canInsertTextAfter()}(t):n===t.getTextContentSize()&&(!t.canInsertTextAfter()||!r.canInsertTextAfter()&&!t.isComposing()||i)}(e,s)}function ty(e,t){return rE(e)&&null!==e.nodeValue&&0!==t&&t!==e.nodeValue.length}function tv(e,t,n){let{anchorNode:i,anchorOffset:l,focusNode:o,focusOffset:s}=e;tu&&(tu=!1,ty(i,l)&&ty(o,s)&&!tp)||nG(t,()=>{if(!n)return void rz(null);if(!ry(t,i,o))return;let a=nv();if(tp&&nn(a)&&a.isCollapsed()){let e=a.anchor,t=tp.anchor;(e.key===t.key&&e.offset===t.offset+1||1===e.offset&&t.getNode().is(e.getNode().getPreviousSibling()))&&rz(a=tp.clone())}if(tp=null,nn(a)){let n=a.anchor,i=n.getNode();if(a.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(a.dirty=!0);let l=ii(t).event,o=l?l.timeStamp:performance.now(),[s,d,f,c,h]=tm,g=rK(),p=!1===t.isComposing()&&""===g.getTextContent();if(o<h+200&&n.offset===f&&n.key===c)tx(a,s,d);else if("text"===n.type)t2(i)||r(141),tS(a,i);else if("element"===n.type&&!p){var u;n1(i)||r(259);let e=n.getNode();e.isEmpty()?tx(a,(u=e).getTextFormat(),u.getTextStyle()):tx(a,0,"")}}else{let e=n.key,t=a.focus.key,r=a.getNodes(),i=r.length,o=a.isBackward(),u=o?s:l,d=o?l:s,f=o?t:e,c=o?e:t,h=2047,g=!1;for(let e=0;e<i;e++){let t=r[e],n=t.getTextContentSize();if(t2(t)&&0!==n&&(0!==e||t.__key!==f||u!==n)&&(e!==i-1||t.__key!==c||0!==d)&&(g=!0,0==(h&=t.getFormat())))break}a.format=g?h:0}}r5(t,eb,void 0)})}function tx(e,t,n){e.format===t&&e.style===n||(e.format=t,e.style=n,e.dirty=!0)}function tS(e,t){tx(e,t.getFormat(),t.getStyle())}function tC(e){if(!e.getTargetRanges)return null;let t=e.getTargetRanges();return 0===t.length?null:t[0]}function tb(e,t){let n=e._compositionKey;if(rO(null),null!==n&&null!=t){if(""===t){let t=rA(n),r=rT(e.getElementByKey(n));return void(null!==r&&null!==r.nodeValue&&t2(t)&&r$(t,r.nodeValue,null,null,!0))}if("\n"===t[t.length-1]){let t=nv();if(nn(t)){let n=t.focus;return t.anchor.set(n.key,n.offset,n.type),void r5(e,eZ,null)}}}rU(!0,e,t)}function tE(e){let t=e.__lexicalEventHandles;return void 0===t&&(e.__lexicalEventHandles=t=[]),t}let tw=new Map;function tT(e){let t=function(e){let t=ir(e);return t?t.getSelection():null}(e.target);if(null===t)return;let n=rx(t.anchorNode);if(null===n)return;td&&(td=!1,nG(n,()=>{let r=nx(),i=t.anchorNode;(ic(i)||rE(i))&&rz(ny(r,t,n,e))}));let r=rJ(n),i=r[r.length-1],l=i._key,o=tw.get(l),s=o||i;s!==n&&tv(t,s,!1),tv(t,n,!0),n!==i?tw.set(l,n):o&&tw.delete(l)}function tN(e){e._lexicalHandled=!0}function tk(e){return!0===e._lexicalHandled}let tM=()=>{};function tO(e,t,n){nF();let r=e.__key,i=e.getParent();if(null===i)return;let l=function(e){let t=nv();if(!nn(t)||!n1(e))return t;let{anchor:n,focus:r}=t,i=n.getNode(),l=r.getNode();return it(i,e)&&n.set(e.__key,0,"element"),it(l,e)&&r.set(e.__key,0,"element"),t}(e),o=!1;if(nn(l)&&t){let t=l.anchor,n=l.focus;t.key===r&&(nb(t,e,i,e.getPreviousSibling(),e.getNextSibling()),o=!0),n.key===r&&(nb(n,e,i,e.getPreviousSibling(),e.getNextSibling()),o=!0)}else ni(l)&&t&&e.isSelected()&&e.selectPrevious();if(nn(l)&&t&&!o){let t=e.getIndexWithinParent();rk(e),nS(l,i,t,-1)}else rk(e);n||il(i)||i.canBeEmpty()||!i.isEmpty()||tO(i,t),t&&l&&n5(i)&&i.isEmpty()&&i.selectEnd()}let tP=Symbol.for("ephemeral");function tA(e){return e[tP]||!1}class tD{__type;__key;__parent;__prev;__next;__state;static getType(){let{ownNodeType:e}=iT(this);return void 0===e&&r(64,this.name),e}static clone(e){r(65,this.name)}$config(){return{}}config(e,t){let n=t.extends||Object.getPrototypeOf(this.constructor);return Object.assign(t,{extends:n,type:e}),{[e]:t}}afterCloneFrom(e){this.__key===e.__key?(this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state):e.__state&&(this.__state=e.__state.getWritable(this))}static importDOM;constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),function(e,t){let n=function(){let e=rc;return rc=null,e}();if(null!=(t=t||n&&n.__key))return e.__key=t;nF(),nR();let r=nB(),i=nK(),l=""+rh++;i._nodeMap.set(l,e),n1(e)?r._dirtyElements.set(l,!0):r._dirtyLeaves.add(l),r._cloneNotNeeded.add(l),r._dirtyType=1,e.__key=l}(this,e)}getType(){return this.__type}isInline(){r(137,this.constructor.name)}isAttached(){let e=this.__key;for(;null!==e;){if("root"===e)return!0;let t=rA(e);if(null===t)break;e=t.__parent}return!1}isSelected(e){let t=e||nv();if(null==t)return!1;let n=t.getNodes().some(e=>e.__key===this.__key);if(t2(this))return n;if(nn(t)&&"element"===t.anchor.type&&"element"===t.focus.type){if(t.isCollapsed())return!1;let e=this.getParent();if(n8(this)&&this.isInline()&&e){let n=t.isBackward()?t.focus:t.anchor;if(e.is(n.getNode())&&n.offset===e.getChildrenSize()&&this.is(e.getLastChild()))return!1}}return n}getKey(){return this.__key}getIndexWithinParent(){let e=this.getParent();if(null===e)return -1;let t=e.getFirstChild(),n=0;for(;null!==t;){if(this.is(t))return n;n++,t=t.getNextSibling()}return -1}getParent(){let e=this.getLatest().__parent;return null===e?null:rA(e)}getParentOrThrow(){let e=this.getParent();return null===e&&r(66,this.__key),e}getTopLevelElement(){let e=this;for(;null!==e;){let t=e.getParent();if(il(t))return n1(e)||e===this&&n8(e)||r(194),e;e=t}return null}getTopLevelElementOrThrow(){let e=this.getTopLevelElement();return null===e&&r(67,this.__key),e}getParents(){let e=[],t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){let e=[],t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){let e=this.getLatest().__prev;return null===e?null:rA(e)}getPreviousSiblings(){let e=[],t=this.getParent();if(null===t)return e;let n=t.getFirstChild();for(;null!==n&&!n.is(this);)e.push(n),n=n.getNextSibling();return e}getNextSibling(){let e=this.getLatest().__next;return null===e?null:rA(e)}getNextSiblings(){let e=[],t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){let t=n1(this)?this:this.getParent(),n=n1(e)?e:e.getParent(),r=t&&n?i1(t,n):null;return r?r.commonAncestor:null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){let t=i1(this,e);return null!==t&&("descendant"===t.type||("branch"===t.type?-1===iQ(t):("same"!==t.type&&"ancestor"!==t.type&&r(279),!1)))}isParentOf(e){let t=i1(this,e);return null!==t&&"ancestor"===t.type}getNodesBetween(e){let t=this.isBefore(e),n=[],i=new Set,l=this;for(;null!==l;){let o=l.__key;if(i.has(o)||(i.add(o),n.push(l)),l===e)break;let s=n1(l)?t?l.getFirstChild():l.getLastChild():null;if(null!==s){l=s;continue}let a=t?l.getNextSibling():l.getPreviousSibling();if(null!==a){l=a;continue}let u=l.getParentOrThrow();if(i.has(u.__key)||n.push(u),u===e)break;let d=null,f=u;do{if(null===f&&r(68),d=t?f.getNextSibling():f.getPreviousSibling(),null===(f=f.getParent()))break;null!==d||i.has(f.__key)||n.push(f)}while(null===d);l=d}return t||n.reverse(),n}isDirty(){let e=nB()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){if(tA(this))return this;let e=rA(this.__key);return null===e&&r(113),e}getWritable(){if(tA(this))return this;nF();let e=nK(),t=nB(),n=e._nodeMap,r=this.__key,i=this.getLatest(),l=t._cloneNotNeeded,o=nv();if(null!==o&&o.setCachedNodes(null),l.has(r))return rM(i),i;let s=iC(i);return l.add(r),rM(s),n.set(r,s),s}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){r(70)}updateDOM(e,t,n){r(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){let e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){r(18,this.name)}updateFromJSON(e){return function(e,t){let n=e.getWritable(),r=t.$,i=r;for(let e of F(n).flatKeys)e in t&&(void 0!==i&&i!==r||(i={...r}),i[e]=t[e]);return(n.__state||i)&&(function(e){let t=e.getWritable(),n=t.__state?t.__state.getWritable(t):new I(t,F(t));return t.__state=n,n})(e).updateFromJSON(i),n}(this,e)}static transform(){return null}remove(e){tO(this,!0,e)}replace(e,t){nF();let n=nv();null!==n&&(n=n.clone()),is(this,e);let i=this.getLatest(),l=this.__key,o=e.__key,s=e.getWritable(),a=this.getParentOrThrow().getWritable(),u=a.__size;rk(s);let d=i.getPreviousSibling(),f=i.getNextSibling(),c=i.__prev,h=i.__next,g=i.__parent;if((tO(i,!1,!0),null===d)?a.__first=o:d.getWritable().__next=o,(s.__prev=c,null===f)?a.__last=o:f.getWritable().__prev=o,s.__next=h,s.__parent=g,a.__size=u,t&&(n1(this)&&n1(s)||r(139),this.getChildren().forEach(e=>{s.append(e)})),nn(n)){rz(n);let e=n.anchor,t=n.focus;e.key===l&&ne(e,s),t.key===l&&ne(t,s)}return rP()===l&&rO(o),s}insertAfter(e,t=!0){nF(),is(this,e);let n=this.getWritable(),r=e.getWritable(),i=r.getParent(),l=nv(),o=!1,s=!1;if(null!==i){let t=e.getIndexWithinParent();if(rk(r),nn(l)){let e=i.__key,n=l.anchor,r=l.focus;o="element"===n.type&&n.key===e&&n.offset===t+1,s="element"===r.type&&r.key===e&&r.offset===t+1}}let a=this.getNextSibling(),u=this.getParentOrThrow().getWritable(),d=r.__key,f=n.__next;if(null===a?u.__last=d:a.getWritable().__prev=d,u.__size++,n.__next=d,r.__next=f,r.__prev=n.__key,r.__parent=n.__parent,t&&nn(l)){let e=this.getIndexWithinParent();nS(l,u,e+1);let t=u.__key;o&&l.anchor.set(t,e+2,"element"),s&&l.focus.set(t,e+2,"element")}return e}insertBefore(e,t=!0){nF(),is(this,e);let n=this.getWritable(),r=e.getWritable(),i=r.__key;rk(r);let l=this.getPreviousSibling(),o=this.getParentOrThrow().getWritable(),s=n.__prev,a=this.getIndexWithinParent();null===l?o.__first=i:l.getWritable().__next=i,o.__size++,n.__prev=i,r.__prev=s,r.__next=n.__key,r.__parent=n.__parent;let u=nv();return t&&nn(u)&&nS(u,this.getParentOrThrow(),a),e}isParentRequired(){return!1}createParentElementNode(){return ri()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){nF();let n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if(n1(n))return n.select();if(!t2(n)){let e=n.getIndexWithinParent()+1;return r.select(e,e)}return n.select(e,t)}selectNext(e,t){nF();let n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if(n1(n))return n.select(0,0);if(!t2(n)){let e=n.getIndexWithinParent();return r.select(e,e)}return n.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}}let tL="history-merge",tI="paste";class tF extends tD{static getType(){return"linebreak"}static clone(e){return new tF(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>(function(e){let t=e.parentElement;if(null!==t&&im(t)){let n=t.firstChild;if(n===e||n.nextSibling===e&&tz(n)){let n=t.lastChild;if(n===e||n.previousSibling===e&&tz(n))return!0}}return!1})(e)||function(e){let t=e.parentElement;if(null!==t&&im(t)){let n=t.firstChild;if(n===e||n.nextSibling===e&&tz(n))return!1;let r=t.lastChild;if(r===e||r.previousSibling===e&&tz(r))return!0}return!1}(e)?null:{conversion:tR,priority:0}}}static importJSON(e){return tK().updateFromJSON(e)}}function tR(e){return{node:tK()}}function tK(){return io(new tF)}function tB(e){return e instanceof tF}function tz(e){return rE(e)&&/^( |\t|\r?\n)+$/.test(e.textContent||"")}function tW(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function tj(e,t){return 1&t?"strong":2&t?"em":"span"}function tJ(e,t,n,r,i){let l=r.classList,o=r1(i,"base");void 0!==o&&l.add(...o);let s=!1,a=8&t&&4&t;for(let e in void 0!==(o=r1(i,"underlineStrikethrough"))&&(8&n&&4&n?(s=!0,a||l.add(...o)):a&&l.remove(...o)),S){let r=S[e];if(void 0!==(o=r1(i,e)))if(n&r){if(s&&("underline"===e||"strikethrough"===e)){t&r&&l.remove(...o);continue}(0==(t&r)||a&&"underline"===e||"strikethrough"===e)&&l.add(...o)}else t&r&&l.remove(...o)}}function tZ(e,t,n){let r=t.firstChild,i=n.isComposing(),l=e+(i?_:"");if(null==r)t.textContent=l;else{let e=r.nodeValue;if(e!==l)if(i||a){let[t,n,i]=function(e,t){let n=e.length,r=t.length,i=0,l=0;for(;i<n&&i<r&&e[i]===t[i];)i++;for(;l+i<n&&l+i<r&&e[n-l-1]===t[r-l-1];)l++;return[i,n-i-l,t.slice(i,r-l)]}(e,l);0!==n&&r.deleteData(t,n),r.insertData(t,i)}else r.nodeValue=l}}function tq(e,t,n,r,i,l){tZ(i,e,t);let o=l.theme.text;void 0!==o&&tJ(0,0,r,e,o)}function tU(e,t){let n=document.createElement(t);return n.appendChild(e),n}class t$ extends tD{__text;__format;__style;__mode;__detail;static getType(){return"text"}static clone(e){return new t$(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",t){super(t),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){return T[this.getLatest().__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===rP()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){let t=S[e];return 0!=(this.getFormat()&t)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return rN(this.getLatest().__format,e,t)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,t){let n=this.__format,r=tW(0,n),i=tj(0,n),l=null===r?i:r,o=document.createElement(l),s=o;this.hasFormat("code")&&o.setAttribute("spellcheck","false"),null!==r&&(s=document.createElement(i),o.appendChild(s)),tq(s,this,0,n,this.__text,e);let a=this.__style;return""!==a&&(o.style.cssText=a),o}updateDOM(e,t,n){let i=this.__text,l=e.__format,o=this.__format,s=tW(0,l),a=tW(0,o),u=tj(0,l),d=tj(0,o);if((null===s?u:s)!==(null===a?d:a))return!0;if(s===a&&u!==d){let e=t.firstChild;null==e&&r(48);let l=document.createElement(d);return tq(l,this,0,o,i,n),t.replaceChild(l,e),!1}let f=t;null!==a&&null!==s&&null==(f=t.firstChild)&&r(49),tZ(i,f,this);let c=n.theme.text;void 0!==c&&l!==o&&tJ(0,l,o,f,c);let h=e.__style,g=this.__style;return h!==g&&(t.style.cssText=g),!1}static importDOM(){return{"#text":()=>({conversion:tG,priority:0}),b:()=>({conversion:tH,priority:0}),code:()=>({conversion:t0,priority:0}),em:()=>({conversion:t0,priority:0}),i:()=>({conversion:t0,priority:0}),mark:()=>({conversion:t0,priority:0}),s:()=>({conversion:t0,priority:0}),span:()=>({conversion:tV,priority:0}),strong:()=>({conversion:t0,priority:0}),sub:()=>({conversion:t0,priority:0}),sup:()=>({conversion:t0,priority:0}),u:()=>({conversion:t0,priority:0})}}static importJSON(e){return t1().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:t}=super.exportDOM(e);return ic(t)||r(132),t.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?t.style.textTransform="lowercase":this.hasFormat("uppercase")?t.style.textTransform="uppercase":this.hasFormat("capitalize")&&(t.style.textTransform="capitalize"),this.hasFormat("bold")&&(t=tU(t,"b")),this.hasFormat("italic")&&(t=tU(t,"i")),this.hasFormat("strikethrough")&&(t=tU(t,"s")),this.hasFormat("underline")&&(t=tU(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,t){}setFormat(e){let t=this.getWritable();return t.__format="string"==typeof e?S[e]:e,t}setDetail(e){let t=this.getWritable();return t.__detail="string"==typeof e?C[e]:e,t}setStyle(e){let t=this.getWritable();return t.__style=e,t}toggleFormat(e){let t=rN(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){let t=w[e];if(this.__mode===t)return this;let n=this.getWritable();return n.__mode=t,n}setTextContent(e){if(this.__text===e)return this;let t=this.getWritable();return t.__text=e,t}select(e,t){nF();let n=e,r=t,i=nv(),l=this.getTextContent(),o=this.__key;if("string"==typeof l){let e=l.length;void 0===n&&(n=e),void 0===r&&(r=e)}else n=0,r=0;if(!nn(i))return np(o,n,o,r,"text","text");{let e=rP();e!==i.anchor.key&&e!==i.focus.key||rO(o),i.setTextNodeRange(this,n,this,r)}return i}selectStart(){return this.select(0,0)}selectEnd(){let e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,n,r){let i=this.getWritable(),l=i.__text,o=n.length,s=e;s<0&&(s=o+s)<0&&(s=0);let a=nv();if(r&&nn(a)){let t=e+o;a.setTextNodeRange(i,t,i,t)}return i.__text=l.slice(0,s)+n+l.slice(s+t),i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){let t;nF();let n=this.getLatest(),r=n.getTextContent();if(""===r)return[];let i=n.__key,l=rP(),o=r.length;e.sort((e,t)=>e-t),e.push(o);let s=[],a=e.length;for(let t=0,n=0;t<o&&n<=a;n++){let i=e[n];i>t&&(s.push(r.slice(t,i)),t=i)}let u=s.length;if(1===u)return[n];let d=s[0],f=n.getParent(),c=n.getFormat(),h=n.getStyle(),g=n.__detail,p=!1,m=null,_=null,y=nv();if(nn(y)){let[e,t]=y.isBackward()?[y.focus,y.anchor]:[y.anchor,y.focus];"text"===e.type&&e.key===i&&(m=e),"text"===t.type&&t.key===i&&(_=t)}n.isSegmented()?((t=t1(d)).__format=c,t.__style=h,t.__detail=g,t.__state=z(n,t),p=!0):t=n.setTextContent(d);let v=[t];for(let e=1;e<u;e++){let t=t1(s[e]);t.__format=c,t.__style=h,t.__detail=g,t.__state=z(n,t);let r=t.__key;l===i&&rO(r),v.push(t)}let x=m?m.offset:null,S=_?_.offset:null,C=0;for(let e of v){if(!m&&!_)break;let t=C+e.getTextContentSize();if(null!==m&&null!==x&&x<=t&&x>=C&&(m.set(e.getKey(),x-C,"text"),x<t&&(m=null)),null!==_&&null!==S&&S<=t&&S>=C){_.set(e.getKey(),S-C,"text");break}C=t}if(null!==f){let e=this.getPreviousSibling(),t=this.getNextSibling();null!==e&&rM(e),null!==t&&rM(t);let n=f.getWritable(),r=this.getIndexWithinParent();p?(n.splice(r,0,v),this.remove()):n.splice(r,1,v),nn(y)&&nS(y,f,r,u-1)}return v}mergeWithSibling(e){let t=e===this.getPreviousSibling();t||e===this.getNextSibling()||r(50);let n=this.__key,i=e.__key,l=this.__text,o=l.length;rP()===i&&rO(n);let s=nv();if(nn(s)){let r=s.anchor,l=s.focus;null!==r&&r.key===i&&nE(r,t,n,e,o),null!==l&&l.key===i&&nE(l,t,n,e,o)}let a=e.__text,u=t?a+l:l+a;this.setTextContent(u);let d=this.getWritable();return e.remove(),d}isTextEntity(){return!1}}function tV(e){return{forChild:t3(e.style),node:null}}function tH(e){let t="normal"===e.style.fontWeight;return{forChild:t3(e.style,t?void 0:"bold"),node:null}}let tY=new WeakMap;function tG(e){null===e.parentElement&&r(129);let t=e.textContent||"";if(null!==function(e){let t,n=e.parentNode,r=[e];for(;null!==n&&void 0===(t=tY.get(n))&&!function(e){if(!ic(e))return!1;if("PRE"===e.nodeName)return!0;let t=e.style.whiteSpace;return"string"==typeof t&&t.startsWith("pre")}(n);)r.push(n),n=n.parentNode;let i=void 0===t?n:t;for(let e=0;e<r.length;e++)tY.set(r[e],i);return i}(e)){let e=t.split(/(\r?\n|\t)/),n=[],r=e.length;for(let t=0;t<r;t++){let r=e[t];"\n"===r||"\r\n"===r?n.push(tK()):"	"===r?n.push(t4()):""!==r&&n.push(t1(r))}return{node:n}}if(""===(t=t.replace(/\r/g,"").replace(/[ \t\n]+/g," ")))return{node:null};if(" "===t[0]){let n=e,r=!0;for(;null!==n&&null!==(n=tX(n,!1));){let e=n.textContent||"";if(e.length>0){/[ \t\n]$/.test(e)&&(t=t.slice(1)),r=!1;break}}r&&(t=t.slice(1))}if(" "===t[t.length-1]){let n=e,r=!0;for(;null!==n&&null!==(n=tX(n,!0));)if((n.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){r=!1;break}r&&(t=t.slice(0,t.length-1))}return""===t?{node:null}:{node:t1(t)}}function tX(e,t){let n=e;for(;;){let e;for(;null===(e=t?n.nextSibling:n.previousSibling);){let e=n.parentElement;if(null===e)return null;n=e}if(ic(n=e)){let e=n.style.display;if(""===e&&!ip(n)||""!==e&&!e.startsWith("inline"))return null}let r=n;for(;null!==(r=t?n.firstChild:n.lastChild);)n=r;if(rE(n))return n;if("BR"===n.nodeName)return null}}let tQ={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function t0(e){let t=tQ[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:t3(e.style,t),node:null}}function t1(e=""){return io(new t$(e))}function t2(e){return e instanceof t$}function t3(e,t){let n=e.fontWeight,r=e.textDecoration.split(" "),i="700"===n||"bold"===n,l=r.includes("line-through"),o="italic"===e.fontStyle,s=r.includes("underline"),a=e.verticalAlign;return e=>(t2(e)&&(i&&!e.hasFormat("bold")&&e.toggleFormat("bold"),l&&!e.hasFormat("strikethrough")&&e.toggleFormat("strikethrough"),o&&!e.hasFormat("italic")&&e.toggleFormat("italic"),s&&!e.hasFormat("underline")&&e.toggleFormat("underline"),"sub"!==a||e.hasFormat("subscript")||e.toggleFormat("subscript"),"super"!==a||e.hasFormat("superscript")||e.toggleFormat("superscript"),t&&!e.hasFormat(t)&&e.toggleFormat(t)),e)}class t8 extends t${static getType(){return"tab"}static clone(e){return new t8(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){let t=super.createDOM(e),n=r1(e.theme,"tab");return void 0!==n&&t.classList.add(...n),t}static importJSON(e){return t4().updateFromJSON(e)}setTextContent(e){return"	"!==e&&""!==e&&i(126),super.setTextContent("	")}spliceText(e,t,n,i){return""===n&&0===t||"	"===n&&1===t||r(286),this}setDetail(e){return 2!==e&&r(127),this}setMode(e){return"normal"!==e&&r(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function t4(){return io(new t8)}function t5(e){return e instanceof t8}class t6{key;offset;type;_selection;constructor(e,t,n){this._selection=null,this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:0>iX(i7(i2(this,"next")),i7(i2(e,"next")))}getNode(){let e=rA(this.key);return null===e&&r(20),e}set(e,t,n,r){let i=this._selection,l=this.key;r&&this.key===e&&this.offset===t&&this.type===n||(this.key=e,this.offset=t,this.type=n,nI()||(rP()===l&&rO(e),null!==i&&(i.setCachedNodes(null),i.dirty=!0)))}}function t9(e,t,n){return new t6(e,t,n)}function t7(e,t){let n=t.__key,r=e.offset,i="element";if(t2(t)){i="text";let e=t.getTextContentSize();r>e&&(r=e)}else if(!n1(t)){let e=t.getNextSibling();if(t2(e))n=e.__key,r=0,i="text";else{let e=t.getParent();e&&(n=e.__key,r=t.getIndexWithinParent()+1)}}e.set(n,r,i)}function ne(e,t){if(n1(t)){let n=t.getLastDescendant();n1(n)||t2(n)?t7(e,n):t7(e,t)}else t7(e,t)}class nt{_nodes;_cachedNodes;dirty;constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!ni(e))return!1;let t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every(e=>n.has(e))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new nt(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){let t,n=this.getNodes(),r=n.length,i=n[r-1];if(t2(i))t=i.select();else{let e=i.getIndexWithinParent()+1;t=i.getParentOrThrow().select(e,e)}t.insertNodes(e);for(let e=0;e<r;e++)n[e].remove()}getNodes(){let e=this._cachedNodes;if(null!==e)return e;let t=this._nodes,n=[];for(let e of t){let t=rA(e);null!==t&&n.push(t)}return nI()||(this._cachedNodes=n),n}getTextContent(){let e=this.getNodes(),t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}deleteNodes(){let e=this.getNodes();if((nv()||nx())===this&&e[0]){let n=ij(e[0],"next");var t=iY(n,n);let r=nv(),i=nn(r)?r:nm();i8(i,t),rz(i)}for(let t of e)t.remove()}}function nn(e){return e instanceof nr}class nr{format;style;anchor;focus;_cachedNodes;dirty;constructor(e,t,n,r){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=n,this.style=r,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!nn(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){let e=this._cachedNodes;if(null!==e)return e;let t=function(e){let t=[],[n,r]=e.getTextSlices();n&&t.push(n.caret.origin);let i=new Set,l=new Set;for(let n of e)if(iK(n)){let{origin:e}=n;0===t.length?i.add(e):(l.add(e),t.push(e))}else{let{origin:e}=n;n1(e)&&l.has(e)||t.push(e)}if(r&&t.push(r.caret.origin),iR(e.focus)&&n1(e.focus.origin)&&null===e.focus.getNodeAtCaret())for(let n=iq(e.focus.origin,"previous");iK(n)&&i.has(n.origin)&&!n.origin.isEmpty()&&n.origin.is(t[t.length-1]);n=iU(n))i.delete(n.origin),t.pop();for(;t.length>1;){let e=t[t.length-1];if(!n1(e)||l.has(e)||e.isEmpty()||i.has(e))break;t.pop()}if(0===t.length&&e.isCollapsed()){let n=i7(e.anchor),r=i7(e.anchor.getFlipped()),i=e=>iF(e)?e.origin:e.getNodeAtCaret(),l=i(n)||i(r)||(e.anchor.getNodeAtCaret()?n.origin:r.origin);t.push(l)}return t}(ln(i4(this),"next"));return nI()||(this._cachedNodes=t),t}setTextNodeRange(e,t,n,r){this.anchor.set(e.__key,t,"text"),this.focus.set(n.__key,r,"text")}getTextContent(){let e=this.getNodes();if(0===e.length)return"";let t=e[0],n=e[e.length-1],r=this.anchor,i=this.focus,l=r.isBefore(i),[o,s]=no(this),a="",u=!0;for(let d=0;d<e.length;d++){let f=e[d];if(n1(f)&&!f.isInline())u||(a+="\n"),u=!f.isEmpty();else if(u=!1,t2(f)){let e=f.getTextContent();f===t?f===n?"element"===r.type&&"element"===i.type&&i.offset!==r.offset||(e=o<s?e.slice(o,s):e.slice(s,o)):e=l?e.slice(o):e.slice(s):f===n&&(e=l?e.slice(0,s):e.slice(0,o)),a+=e}else!n8(f)&&!tB(f)||f===n&&this.isCollapsed()||(a+=f.getTextContent())}return a}applyDOMRange(e){let t=nB(),n=t.getEditorState()._selection,r=nh(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n);if(null===r)return;let[i,l]=r;this.anchor.set(i.key,i.offset,i.type,!0),this.focus.set(l.key,l.offset,l.type,!0),Z(this)}clone(){let e=this.anchor,t=this.focus;return new nr(t9(e.key,e.offset,e.type),t9(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=rN(this.format,e,null),this.dirty=!0}setFormat(e){this.format=e,this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){let t=S[e];return 0!=(this.format&t)}insertRawText(e){let t=e.split(/(\r?\n|\t)/),n=[],r=t.length;for(let e=0;e<r;e++){let r=t[e];"\n"===r||"\r\n"===r?n.push(tK()):"	"===r?n.push(t4()):n.push(t1(r))}this.insertNodes(n)}insertText(e){let t=this.anchor,n=this.focus,i=this.format,l=this.style,o=t,s=n;!this.isCollapsed()&&n.isBefore(t)&&(o=n,s=t),"element"===o.type&&function(e,t,n,r){let i=e.getNode(),l=i.getChildAtIndex(e.offset),o=t1();if(o.setFormat(n),o.setStyle(r),rl(l))l.splice(0,0,[o]);else{let e=n5(i)?ri().append(o):o;null===l?i.append(e):l.insertBefore(e)}e.is(t)&&t.set(o.__key,0,"text"),e.set(o.__key,0,"text")}(o,s,i,l),"element"===s.type&&i3(s,i7(i2(s,"next")));let a=o.offset,u=s.offset,d=this.getNodes(),f=d.length,c=d[0];t2(c)||r(26);let h=c.getTextContent().length,g=c.getParentOrThrow(),p=d[f-1];if(1===f&&"element"===s.type&&(u=h,s.set(o.key,u,"text")),this.isCollapsed()&&a===h&&(rb(c)||!c.canInsertTextAfter()||!g.canInsertTextAfter()&&null===c.getNextSibling())){let t=c.getNextSibling();if(t2(t)&&t.canInsertTextBefore()&&!rb(t)||((t=t1()).setFormat(i),t.setStyle(l),g.canInsertTextAfter()?c.insertAfter(t):g.insertAfter(t)),t.select(0,0),c=t,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===a&&(rb(c)||!c.canInsertTextBefore()||!g.canInsertTextBefore()&&null===c.getPreviousSibling())){let t=c.getPreviousSibling();if(t2(t)&&!rb(t)||((t=t1()).setFormat(i),g.canInsertTextBefore()?c.insertBefore(t):g.insertBefore(t)),t.select(),c=t,""!==e)return void this.insertText(e)}else if(c.isSegmented()&&a!==h){let e=t1(c.getTextContent());e.setFormat(i),c.replace(e),c=e}else if(!this.isCollapsed()&&""!==e){let t=p.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||n1(t)&&(!t.canInsertTextBefore()||!t.canInsertTextAfter()))return this.insertText(""),nc(this.anchor,this.focus,null),void this.insertText(e)}if(1===f){if(rC(c)){let t=t1(e);return t.select(),void c.replace(t)}let t=c.getFormat(),n=c.getStyle();if(a!==u||t===i&&n===l){if(t5(c)){let t=t1(e);return t.setFormat(i),t.setStyle(l),t.select(),void c.replace(t)}}else{if(""!==c.getTextContent()){let t=t1(e);if(t.setFormat(i),t.setStyle(l),t.select(),0===a)c.insertBefore(t,!1);else{let[e]=c.splitText(a);e.insertAfter(t,!1)}return void(t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length))}c.setFormat(i),c.setStyle(l)}let r=u-a;""===(c=c.spliceText(a,r,e,!0)).getTextContent()?c.remove():"text"===this.anchor.type&&(c.isComposing()?this.anchor.offset-=e.length:(this.format=t,this.style=n))}else{let t=new Set([...c.getParentKeys(),...p.getParentKeys()]),n=n1(c)?c:c.getParentOrThrow(),r=n1(p)?p:p.getParentOrThrow(),i=p;if(!n.is(r)&&r.isInline())do i=r,r=r.getParentOrThrow();while(r.isInline());if("text"===s.type&&(0!==u||""===p.getTextContent())||"element"===s.type&&p.getIndexWithinParent()<u)if(t2(p)&&!rC(p)&&u!==p.getTextContentSize()){if(p.isSegmented()){let e=t1(p.getTextContent());p.replace(e),p=e}n5(s.getNode())||"text"!==s.type||(p=p.spliceText(0,u,"")),t.add(p.__key)}else{let e=p.getParentOrThrow();e.canBeEmpty()||1!==e.getChildrenSize()?p.remove():e.remove()}else t.add(p.__key);let l=r.getChildren(),o=new Set(d),g=n.is(r),m=n.isInline()&&null===c.getNextSibling()?n:c;for(let e=l.length-1;e>=0;e--){let t=l[e];if(t.is(c)||n1(t)&&t.isParentOf(c))break;t.isAttached()&&(!o.has(t)||t.is(i)?g||m.insertAfter(t,!1):t.remove())}if(!g){let e=r,n=null;for(;null!==e;){let r=e.getChildren(),i=r.length;(0===i||r[i-1].is(n))&&(t.delete(e.__key),n=e),e=e.getParent()}}if(rC(c))if(a===h)c.select();else{let t=t1(e);t.select(),c.replace(t)}else""===(c=c.spliceText(a,h-a,e,!0)).getTextContent()?c.remove():c.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(let e=1;e<f;e++){let n=d[e],r=n.__key;t.has(r)||n.remove()}}}removeText(){let e=nv()===this;i8(this,function(e,t="removeEmptySlices"){let n,i;if(e.isCollapsed())return e;let l="root",o="next",s=t,a=ln(e,o),u=i6(a.anchor,l),d=i6(a.focus.getFlipped(),l),f=new Set,c=[];for(let e of a.iterNodeCarets(l))if(iK(e))f.add(e.origin.getKey());else if(iR(e)){let{origin:t}=e;n1(t)&&!f.has(t.getKey())||c.push(t)}for(let e of c)e.remove();for(let e of a.getTextSlices()){if(!e)continue;let{origin:t}=e.caret,n=t.getTextContentSize(),r=i5(ij(t,o)),i=t.getMode();if(Math.abs(e.distance)===n&&"removeEmptySlices"===s||"token"===i&&0!==e.distance)r.remove();else if(0!==e.distance){s="removeEmptySlices";let t=e.removeTextSlice(),n=e.caret.origin;if("segmented"===i){let e=t.origin,n=t1(e.getTextContent()).setStyle(e.getStyle()).setFormat(e.getFormat());r.replaceOrInsert(n),t=iJ(n,o,t.offset)}n.is(u[0].origin)&&(u[0]=t),n.is(d[0].origin)&&(d[0]=t.getFlipped())}}for(let e of u)if(i9(e)){n=i7(e);break}for(let e of d)if(i9(e)){i=i7(e);break}let h=function(e,t,n){let r;if(!e||!t)return null;let i=e.getParentAtCaret(),l=t.getParentAtCaret();if(!i||!l)return null;let o=i.getParents().reverse();o.push(i);let s=l.getParents().reverse();s.push(l);let a=Math.min(o.length,s.length);for(r=0;r<a&&o[r]===s[r];r++);let u=(e,t)=>{let n;for(let i=r;i<e.length;i++){let r=e[i];if(il(r))return;!n&&t(r)&&(n=r)}return n},d=u(o,i_),f=d&&u(s,e=>n.has(e.getKey())&&i_(e));return d&&f?[d,f]:null}(n,i,f);if(h){let[e,t]=h;iq(e,"previous").splice(0,t.getChildren()),t.remove()}let g=[n,i,...u,...d].find(i9);if(g){var p;return iY(p=lt(i7(g),e.direction),p)}r(269,JSON.stringify(u.map(e=>e.origin.__key)))}(i4(this))),e&&nv()!==this&&rz(this)}formatText(e,t=null){if(this.isCollapsed())return this.toggleFormat(e),void rO(null);let n=this.getNodes(),r=[];for(let e of n)t2(e)&&r.push(e);let i=t=>{n.forEach(n=>{if(n1(n)){let r=n.getFormatFlags(e,t);n.setTextFormat(r)}})},l=r.length;if(0===l)return this.toggleFormat(e),rO(null),void i(t);let o=this.anchor,s=this.focus,a=this.isBackward(),u=a?s:o,d=a?o:s,f=0,c=r[0],h="element"===u.type?0:u.offset;if("text"===u.type&&h===c.getTextContentSize()&&(f=1,c=r[1],h=0),null==c)return;let g=c.getFormatFlags(e,t);i(g);let p=l-1,m=r[p],_="text"===d.type?d.offset:m.getTextContentSize();if(c.is(m)){if(h===_)return;if(rb(c)||0===h&&_===c.getTextContentSize())c.setFormat(g);else{let e=c.splitText(h,_),t=0===h?e[0]:e[1];t.setFormat(g),"text"===u.type&&u.set(t.__key,0,"text"),"text"===d.type&&d.set(t.__key,_-h,"text")}return void(this.format=g)}0===h||rb(c)||([,c]=c.splitText(h),h=0),c.setFormat(g);let y=m.getFormatFlags(e,g);_>0&&(_===m.getTextContentSize()||rb(m)||([m]=m.splitText(_)),m.setFormat(y));for(let t=f+1;t<p;t++){let n=r[t],i=n.getFormatFlags(e,y);n.setFormat(i)}"text"===u.type&&u.set(c.__key,h,"text"),"text"===d.type&&d.set(m.__key,_,"text"),this.format=g|y}insertNodes(e){var t;if(0===e.length)return;if(this.isCollapsed()||this.removeText(),"root"===this.anchor.key){this.insertParagraph();let t=nv();return nn(t)||r(134),t.insertNodes(e)}let n=(this.isBackward()?this.focus:this.anchor).getNode(),i=ik(n,i_),l=e[e.length-1];if(n1(i)&&"__language"in i){if("__language"in e[0])this.insertText(e[0].getTextContent());else{let t=nN(this);i.splice(t,0,e),l.selectEnd()}return}if(!e.some(e=>(n1(e)||n8(e))&&!e.isInline())){n1(i)||r(211,n.constructor.name,n.getType());let t=nN(this);return i.splice(t,0,e),void l.selectEnd()}let o=function(e){let t=ri(),n=null;for(let r=0;r<e.length;r++){let i=e[r],l=tB(i);if(l||n8(i)&&i.isInline()||n1(i)&&i.isInline()||t2(i)||i.isParentRequired()){if(null===n&&(n=i.createParentElementNode(),t.append(n),l))continue;null!==n&&n.append(i)}else t.append(i),n=null}return t}(e),s=o.getLastDescendant(),a=o.getChildren(),u=n1(i)&&i.isEmpty()?null:this.insertParagraph(),d=a[a.length-1],f=a[0];n1(t=f)&&i_(t)&&!t.isEmpty()&&n1(i)&&(!i.isEmpty()||i.canMergeWhenEmpty())&&(n1(i)||r(211,n.constructor.name,n.getType()),i.append(...f.getChildren()),f=a[1]),f&&(null===i&&r(212,n.constructor.name,n.getType()),function(e,t){let n=t.getParentOrThrow().getLastChild(),i=t,l=[t];for(;i!==n;)i.getNextSibling()||r(140),l.push(i=i.getNextSibling());let o=e;for(let e of l)o=o.insertAfter(e)}(i,f));let c=ik(s,i_);u&&n1(c)&&(u.canMergeWhenEmpty()||i_(d))&&(c.append(...u.getChildren()),u.remove()),n1(i)&&i.isEmpty()&&i.remove(),s.selectEnd();let h=n1(i)?i.getLastChild():null;tB(h)&&c!==i&&h.remove()}insertParagraph(){if("root"===this.anchor.key){let e=ri();return rK().splice(this.anchor.offset,0,[e]),e.select(),e}let e=nN(this),t=ik(this.anchor.getNode(),i_);n1(t)||r(213);let n=t.getChildAtIndex(e),i=n?[n,...n.getNextSiblings()]:[],l=t.insertNewAfter(this,!1);return l?(l.append(...i),l.selectStart(),l):null}insertLineBreak(e){let t=tK();if(this.insertNodes([t]),e){let e=t.getParentOrThrow(),n=t.getIndexWithinParent();e.select(n,n)}}extract(){let e=[...this.getNodes()],t=e.length,n=e[0],r=e[t-1],[i,l]=no(this),o=this.isBackward(),[s,a]=o?[this.focus,this.anchor]:[this.anchor,this.focus],[u,d]=o?[l,i]:[i,l];if(0===t)return[];if(1===t){if(t2(n)&&!this.isCollapsed()){let e=n.splitText(u,d),t=0===u?e[0]:e[1];return t?(s.set(t.getKey(),0,"text"),a.set(t.getKey(),t.getTextContentSize(),"text"),[t]):[]}return[n]}if(t2(n)&&(u===n.getTextContentSize()?e.shift():0!==u&&([,n]=n.splitText(u),e[0]=n,s.set(n.getKey(),0,"text"))),t2(r)){let t=r.getTextContent().length;0===d?e.pop():d!==t&&([r]=r.splitText(d),e[e.length-1]=r,a.set(r.getKey(),r.getTextContentSize(),"text"))}return e}modify(e,t,n){var r;if(nk(this,e,t,n))return;let i="move"===e,l=nB(),o=id(ii(l));if(!o)return;let s=l._blockCursorElement,a=l._rootElement,u=this.focus.getNode();if(null===a||null===s||!n1(u)||u.isInline()||u.canBeEmpty()||iu(s,l,a),this.dirty){let e=r9(l,this.anchor.key),t=r9(l,this.focus.key);"text"===this.anchor.type&&(e=rT(e)),"text"===this.focus.type&&(t=rT(t)),e&&t&&nw(o,e,this.anchor.offset,t,this.focus.offset)}if(r=t?"backward":"forward",o.modify(e,r,n),o.rangeCount>0){let e=o.getRangeAt(0),n=this.anchor.getNode(),r=n5(n)?n:function(e){let t=e.getParentOrThrow();for(;null!==t&&!il(t);)t=t.getParentOrThrow();return t}(n);if(this.applyDOMRange(e),this.dirty=!0,!i){let n=this.getNodes(),i=[],l=!1;for(let e=0;e<n.length;e++){let t=n[e];it(t,r)?i.push(t):l=!0}if(l&&i.length>0)if(t){let e=i[0];n1(e)?e.selectStart():e.getParentOrThrow().selectStart()}else{let e=i[i.length-1];n1(e)?e.selectEnd():e.getParentOrThrow().selectEnd()}o.anchorNode===e.startContainer&&o.anchorOffset===e.startOffset||function(e){let t=e.focus,n=e.anchor,r=n.key,i=n.offset,l=n.type;n.set(t.key,t.offset,t.type,!0),t.set(r,i,l,!0)}(this)}}"lineboundary"===n&&nk(this,e,t,n,"decorators")}forwardDeletion(e,t,n){if(!n&&("element"===e.type&&n1(t)&&e.offset===t.getChildrenSize()||"text"===e.type&&e.offset===t.getTextContentSize())){let e=t.getParent(),n=t.getNextSibling()||(null===e?null:e.getNextSibling());if(n1(n)&&n.isShadowRoot())return!0}return!1}deleteCharacter(e){let t=this.isCollapsed();if(this.isCollapsed()){let t=this.anchor,n=t.getNode();if(this.forwardDeletion(t,n,e))return;let r=iH(i2(t,e?"previous":"next"));if(r.getTextSlices().every(e=>null===e||0===e.distance)){let e={type:"initial"};for(let t of r.iterNodeCarets("shadowRoot"))if(iK(t))if(t.origin.isInline());else{if(t.origin.isShadowRoot()){if("merge-block"===e.type)break;if(n1(r.anchor.origin)&&r.anchor.origin.isEmpty()){let e=i7(t);i8(this,iY(e,e)),r.anchor.origin.remove()}return}"merge-next-block"!==e.type&&"merge-block"!==e.type||(e={block:e.block,caret:t,type:"merge-block"})}else{if("merge-block"===e.type)break;if(iR(t)){if(n1(t.origin)){if(t.origin.isInline()){if(!t.origin.isParentOf(r.anchor.origin))break}else e={block:t.origin,type:"merge-next-block"};continue}if(n8(t.origin)){if(t.origin.isIsolated());else if("merge-next-block"===e.type&&(t.origin.isKeyboardSelectable()||!t.origin.isInline())&&n1(r.anchor.origin)&&r.anchor.origin.isEmpty()){r.anchor.origin.remove();let e=n_();e.add(t.origin.getKey()),rz(e)}else t.origin.remove();return}break}}if("merge-block"===e.type){let{caret:t,block:n}=e;return i8(this,iY(!t.origin.isEmpty()&&n.isEmpty()?i5(ij(n,t.direction)):r.anchor,t)),this.removeText()}}let i=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===t.offset&&ns(this,t.getNode()))return}else{let r="text"===i.type?i.getNode():null;if(n="text"===t.type?t.getNode():null,null!==r&&r.isSegmented()){let t=i.offset,l=r.getTextContentSize();if(r.is(n)||e&&t!==l||!e&&0!==t)return void nu(r,e,t)}else if(null!==n&&n.isSegmented()){let i=t.offset,l=n.getTextContentSize();if(n.is(r)||e&&0!==i||!e&&i!==l)return void nu(n,e,i)}!function(e,t){let n=e.anchor,r=e.focus,i=n.getNode();if(i===r.getNode()&&"text"===n.type&&"text"===r.type){var l;let e=n.offset,o=r.offset,s=e<o,a=s?e:o,u=s?o:e,d=u-1;a===d||rj(l=i.getTextContent().slice(a,u))||na(l)||(t?r.set(r.key,d,r.type):n.set(n.key,d,n.type))}}(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){let e=this.anchor.getNode();e.isEmpty()&&n5(e.getParent())&&null===e.getPreviousSibling()&&ns(this,e)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){let t=this.anchor,n=t.getNode();if(this.forwardDeletion(t,n,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function ni(e){return e instanceof nt}function nl(e){let t=e.offset;if("text"===e.type)return t;let n=e.getNode();return t===n.getChildrenSize()?n.getTextContent().length:0}function no(e){let t=e.getStartEndPoints();if(null===t)return[0,0];let[n,r]=t;return"element"===n.type&&"element"===r.type&&n.key===r.key&&n.offset===r.offset?[0,0]:[nl(n),nl(r)]}function ns(e,t){for(let n=t;n;n=n.getParent()){if(n1(n)){if(n.collapseAtStart(e))return!0;if(il(n))break}if(n.getPreviousSibling())break}return!1}let na=(()=>{try{let e=RegExp("\\p{Emoji}","u"),t=e.test.bind(e);if(t("❤️")&&t("#️⃣")&&t("\uD83D\uDC4D"))return t}catch(e){}return()=>!1})();function nu(e,t,n){let r=e.getTextContent().split(/(?=\s)/g),i=r.length,l=0,o=0;for(let e=0;e<i;e++){let s=e===i-1;if(o=l,l+=r[e].length,t&&l===n||l>n||s){r.splice(e,1),s&&(o=void 0);break}}let s=r.join("").trim();""===s?e.remove():(e.setTextContent(s),e.select(o,o))}function nd(e,t,n,i){let l,o=t;if(ic(e)){let s=!1,a=e.childNodes,u=a.length,d=i._blockCursorElement;o===u&&(s=!0,o=u-1);let f=a[o],c=!1;if(f===d)f=a[o+1],c=!0;else if(null!==d){let n=d.parentNode;e===n&&t>Array.prototype.indexOf.call(n.children,d)&&o--}if(t2(l=rW(f)))o=iZ(l,s?"next":"previous");else{let a=rW(e);if(null===a)return null;if(n1(a)){let u=i.getElementByKey(a.getKey());null===u&&r(214);let d=a.getDOMSlot(u);[a,o]=d.resolveChildIndex(a,u,e,t),n1(a)||r(215),s&&o>=a.getChildrenSize()&&(o=Math.max(0,a.getChildrenSize()-1));let f=a.getChildAtIndex(o);if(n1(f)&&function(e,t,n){let r=e.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode()}(f,0,n)){let e=s?f.getLastDescendant():f.getFirstDescendant();a=null===e||n1(f=e)?f:f.getParentOrThrow(),o=0}t2(f)?(l=f,a=null,o=iZ(f,s?"next":"previous")):f!==a&&s&&!c&&(n1(a)||r(216),o=Math.min(a.getChildrenSize(),o+1))}else{let n=a.getIndexWithinParent();o=0===t&&n8(a)&&rW(e)===a?n:n+1,a=a.getParentOrThrow()}if(n1(a))return t9(a.__key,o,"element")}}else l=rW(e);return t2(l)?t9(l.__key,iZ(l,o,"clamp"),"text"):null}function nf(e,t,n){let r=e.offset,i=e.getNode();if(0===r){let r=i.getPreviousSibling(),l=i.getParent();if(t){if((n||!t)&&null===r&&n1(l)&&l.isInline()){let t=l.getPreviousSibling();t2(t)&&e.set(t.__key,t.getTextContent().length,"text")}}else n1(r)&&!n&&r.isInline()?e.set(r.__key,r.getChildrenSize(),"element"):t2(r)&&e.set(r.__key,r.getTextContent().length,"text")}else if(r===i.getTextContent().length){let r=i.getNextSibling(),l=i.getParent();if(t&&n1(r)&&r.isInline())e.set(r.__key,0,"element");else if((n||t)&&null===r&&n1(l)&&l.isInline()&&!l.canInsertTextAfter()){let t=l.getNextSibling();t2(t)&&e.set(t.__key,0,"text")}}}function nc(e,t,n){if("text"===e.type&&"text"===t.type){let r=e.isBefore(t),i=e.is(t);nf(e,r,i),nf(t,!r,i),i&&t.set(e.key,e.offset,e.type);let l=nB();if(l.isComposing()&&l._compositionKey!==e.key&&nn(n)){let r=n.anchor,i=n.focus;e.set(r.key,r.offset,r.type,!0),t.set(i.key,i.offset,i.type,!0)}}}function nh(e,t,n,r,i,l){if(null===e||null===n||!ry(i,e,n))return null;let o=nd(e,t,nn(l)?l.anchor:null,i);if(null===o)return null;let s=nd(n,r,nn(l)?l.focus:null,i);if(null===s)return null;if("element"===o.type&&"element"===s.type){let t=rW(e),r=rW(n);if(n8(t)&&n8(r))return null}return nc(o,s,l),[o,s]}function ng(e){return n1(e)&&!e.isInline()}function np(e,t,n,r,i,l){let o=nK(),s=new nr(t9(e,t,i),t9(n,r,l),0,"");return s.dirty=!0,o._selection=s,s}function nm(){return new nr(t9("root",0,"element"),t9("root",0,"element"),0,"")}function n_(){return new nt(new Set)}function ny(e,t,n,r){let i,l,o,s,a=n._window;if(null===a)return null;let u=r||a.event,d=u?u.type:void 0,f="selectionchange"===d,c=!k&&(f||"beforeinput"===d||"compositionstart"===d||"compositionend"===d||"click"===d&&u&&3===u.detail||"drop"===d||void 0===d);if(nn(e)&&!c)return e.clone();if(null===t)return null;if(i=t.anchorNode,l=t.focusNode,o=t.anchorOffset,s=t.focusOffset,(f||void 0===d)&&nn(e)&&!ry(n,i,l))return e.clone();let h=nh(i,o,l,s,n,e);if(null===h)return null;let[g,p]=h;return new nr(g,p,nn(e)?e.format:0,nn(e)?e.style:"")}function nv(){return nK()._selection}function nx(){return nB()._editorState._selection}function nS(e,t,n,r=1){let i=e.anchor,l=e.focus,o=i.getNode(),s=l.getNode();if(!t.is(o)&&!t.is(s))return;let a=t.__key;if(e.isCollapsed()){let t=i.offset;if(n<=t&&r>0||n<t&&r<0){let n=Math.max(0,t+r);i.set(a,n,"element"),l.set(a,n,"element"),nC(e)}}else{let o=e.isBackward(),s=o?l:i,u=s.getNode(),d=o?i:l,f=d.getNode();if(t.is(u)){let e=s.offset;(n<=e&&r>0||n<e&&r<0)&&s.set(a,Math.max(0,e+r),"element")}if(t.is(f)){let e=d.offset;(n<=e&&r>0||n<e&&r<0)&&d.set(a,Math.max(0,e+r),"element")}}nC(e)}function nC(e){let t=e.anchor,n=t.offset,r=e.focus,i=r.offset,l=t.getNode(),o=r.getNode();if(e.isCollapsed()){if(!n1(l))return;let e=l.getChildrenSize(),i=n>=e,o=i?l.getChildAtIndex(e-1):l.getChildAtIndex(n);if(t2(o)){let e=0;i&&(e=o.getTextContentSize()),t.set(o.__key,e,"text"),r.set(o.__key,e,"text")}return}if(n1(l)){let e=l.getChildrenSize(),r=n>=e,i=r?l.getChildAtIndex(e-1):l.getChildAtIndex(n);if(t2(i)){let e=0;r&&(e=i.getTextContentSize()),t.set(i.__key,e,"text")}}if(n1(o)){let e=o.getChildrenSize(),t=i>=e,n=t?o.getChildAtIndex(e-1):o.getChildAtIndex(i);if(t2(n)){let e=0;t&&(e=n.getTextContentSize()),r.set(n.__key,e,"text")}}}function nb(e,t,n,r,i){let l=null,o=0,s=null;null!==r?(l=r.__key,t2(r)?(o=r.getTextContentSize(),s="text"):n1(r)&&(o=r.getChildrenSize(),s="element")):null!==i&&(l=i.__key,t2(i)?s="text":n1(i)&&(s="element")),null!==l&&null!==s?e.set(l,o,s):(-1===(o=t.getIndexWithinParent())&&(o=n.getChildrenSize()),e.set(n.__key,o,"element"))}function nE(e,t,n,r,i){"text"===e.type?e.set(n,e.offset+(t?0:i),"text"):e.offset>r.getIndexWithinParent()&&e.set(e.key,e.offset-1,"element")}function nw(e,t,n,r,i){try{e.setBaseAndExtent(t,n,r,i)}catch(e){}}function nT(e){let t=nv()||nx();null===t&&(t=rK().selectEnd()),t.insertNodes(e)}function nN(e){let t=e;e.isCollapsed()||t.removeText();let n=nv();nn(n)&&(t=n),nn(t)||r(161);let i=t.anchor,l=i.getNode(),o=i.offset;for(;!i_(l);){let e=l;if([l,o]=function(e,t){let n=e.getParent();if(!n){let e=ri();return rK().append(e),e.select(),[rK(),0]}if(t2(e)){let r=e.splitText(t);if(0===r.length)return[n,e.getIndexWithinParent()];let i=+(0!==t);return[n,r[0].getIndexWithinParent()+i]}if(!n1(e)||0===t)return[n,e.getIndexWithinParent()];let r=e.getChildAtIndex(t);if(r){let n=new nr(t9(e.__key,t,"element"),t9(e.__key,t,"element"),0,""),i=e.insertNewAfter(n);i&&i.append(r,...r.getNextSiblings())}return[n,e.getIndexWithinParent()+1]}(l,o),e.is(l))break}return o}function nk(e,t,n,r,i="decorators-and-blocks"){if("move"===t&&"character"===r&&!e.isCollapsed()){let[t,r]=n===e.isBackward()?[e.focus,e.anchor]:[e.anchor,e.focus];return r.set(t.key,t.offset,t.type),!0}let l=i2(e.focus,n?"previous":"next"),o="lineboundary"===r,s="move"===t,a=l,u="decorators-and-blocks"===i;if(!le(a)){for(let e of a){u=!1;let{origin:t}=e;if(!n8(t)||t.isIsolated()||(a=e,!o||!t.isInline()))break}if(u)for(let e of iH(l).iterNodeCarets("extend"===t?"shadowRoot":"root")){if(iK(e))e.origin.isInline()||(a=e);else{if(n1(e.origin))continue;n8(e.origin)&&!e.origin.isInline()&&(a=e)}break}}if(a===l)return!1;if(s&&!o&&n8(a.origin)&&a.origin.isKeyboardSelectable()){let e=n_();return e.add(a.origin.getKey()),rz(e),!0}return a=i7(a),s&&i3(e.anchor,a),i3(e.focus,a),u||!o}let nM=null,nO=null,nP=!1,nA=!1,nD=0,nL={characterData:!0,childList:!0,subtree:!0};function nI(){return nP||null!==nM&&nM._readOnly}function nF(){nP&&r(13)}function nR(){nD>99&&r(14)}function nK(){return null===nM&&r(195,nz()),nM}function nB(){return null===nO&&r(196,nz()),nO}function nz(){let e=0,t=new Set,n=rf.version;if("undefined"!=typeof window)for(let r of document.querySelectorAll("[contenteditable]")){let i=rS(r);if(rv(i))e++;else if(i){let e=String(i.constructor.version||"<0.17.1");e===n&&(e+=" (separately built, likely a bundler configuration issue)"),t.add(e)}}let r=` Detected on the page: ${e} compatible editor(s) with version ${n}`;return t.size&&(r+=` and incompatible editors with versions ${Array.from(t).join(", ")}`),r}function nW(e,t,n){let r=t.__type,i=rg(e,r),l=n.get(r);void 0===l&&(l=Array.from(i.transforms),n.set(r,l));let o=l.length;for(let e=0;e<o&&(l[e](t),t.isAttached());e++);}function nj(e,t){return void 0!==e&&e.__key!==t&&e.isAttached()}function nJ(e,t){if(!t)return;let n=e._updateTags,r=t;for(let e of(Array.isArray(t)||(r=[t]),r))n.add(e)}function nZ(e){return nq(e,nB()._nodes)}function nq(e,t){let n=e.type,i=t.get(n);void 0===i&&r(17,n);let l=i.klass;e.type!==l.getType()&&r(18,l.name);let o=l.importJSON(e),s=e.children;if(n1(o)&&Array.isArray(s))for(let e=0;e<s.length;e++){let n=nq(s[e],t);o.append(n)}return o}function nU(e,t,n){let r=nM,i=nP,l=nO;nM=t,nP=!0,nO=e;try{return n()}finally{nM=r,nP=i,nO=l}}function n$(e,t){let n=e._pendingEditorState,i=e._rootElement,l=e._headless||null===i;if(null===n)return;let o=e._editorState,s=o._selection,a=n._selection,u=0!==e._dirtyType,d=nM,f=nP,c=nO,h=e._updating,g=e._observer,p=null;if(e._pendingEditorState=null,e._editorState=n,!l&&u&&null!==g){nO=e,nM=n,nP=!1,e._updating=!0;try{let t=e._dirtyType,i=e._dirtyElements,l=e._dirtyLeaves;g.disconnect(),p=function(e,t,n,i,l,o){en="",el="",eo=2===i,$=n,U=n._config,V=n._nodes,H=$._listeners.mutation,Y=l,G=o,X=e._nodeMap,Q=t._nodeMap,es=t._readOnly,ee=new Map(n._keyToDOMMap);let s=new Map;return et=s,function e(t,n){let i=X.get(t),l=Q.get(t);void 0!==i&&void 0!==l||r(61);let o=eo||G.has(t)||Y.has(t),s=r9($,t);if(i===l&&!o){if(n1(i)){let e=s.__lexicalTextContent;void 0!==e&&(en+=e,el+=e)}else{let e=i.getTextContent();el+=e,en+=e}return s}if(i!==l&&o&&r2(et,V,H,l,"updated"),l.updateDOM(i,s,U)){let e=eg(t,null);return null===n&&r(62),n.replaceChild(e,s),ea(t,null),e}if(n1(i)&&n1(l)){let t=l.__indent;(eo||t!==i.__indent)&&ef(s,t);let n=l.__format;if((eo||n!==i.__format)&&ec(s,n),o&&(function(t,n,i){er=null,ei="",function(t,n,i){let l=en,o=t.__size,s=n.__size;en="";let a=i.element;if(1===o&&1===s){let r=t.__first,i=n.__first;if(r===i)e(r,a);else{let e=eS(r),t=eg(i,null);try{a.replaceChild(t,e)}catch(n){if("object"==typeof n&&null!=n)throw Error(`${n.toString()} Parent: ${a.tagName}, new child: {tag: ${t.tagName} key: ${i}}, old child: {tag: ${e.tagName}, key: ${r}}.`);throw n}ea(r,null)}let l=Q.get(i);t2(l)&&(null===er&&(er=l.getFormat()),""===ei&&(ei=l.getStyle()))}else{let l=ey(t,X),u=ey(n,Q);if(l.length!==o&&r(227),u.length!==s&&r(228),0===o)0!==s&&ep(u,n,0,s-1,i);else if(0===s){if(0!==o){let e=null==i.after&&null==i.before&&null==i.element.__lexicalLineBreak;eu(l,0,o-1,e?null:a),e&&(a.textContent="")}}else!function(t,n,r,i,l,o){let s=i-1,a=l-1,u,d,f=o.getFirstChild(),c=0,h=0;for(;c<=s&&h<=a;){let t=n[c],i=r[h];if(t===i)f=ex(e(i,o.element)),c++,h++;else{void 0===u&&(u=new Set(n)),void 0===d&&(d=new Set(r));let l=d.has(t),s=u.has(i);if(l)if(s){let t=r9($,i);t===f?f=ex(e(i,o.element)):(o.withBefore(f).insertChild(t),e(i,o.element)),c++,h++}else eg(i,o.withBefore(f)),h++;else f=ex(eS(t)),ea(t,o.element),c++}let l=Q.get(i);null!==l&&t2(l)&&(null===er&&(er=l.getFormat()),""===ei&&(ei=l.getStyle()))}let g=c>s,p=h>a;if(g&&!p){let e=r[a+1],n=void 0===e?null:$.getElementByKey(e);ep(r,t,h,a,o.withBefore(n))}else p&&!g&&eu(n,c,s,o.element)}(n,l,u,o,s,i)}r6(n)&&(en+="\n\n"),a.__lexicalTextContent=en,en=l+en}(t,n,n.getDOMSlot(i)),null==er||er===n.__textFormat||es||n.setTextFormat(er),""===ei||ei===n.__textStyle||es||n.setTextStyle(ei)}(i,l,s),n5(l)||l.isInline()||e_(i,l,s)),r6(l)&&(en+="\n\n",el+="\n\n"),(eo||l.__dir!==i.__dir)&&(eh(s,l),n5(l)&&!eo))for(let e of l.getChildren())n1(e)&&eh(r9($,e.getKey()),e)}else{let e=l.getTextContent();if(n8(l)){let e=l.decorate($,U);null!==e&&ev(t,e)}en+=e,el+=e}if(!es&&n5(l)&&l.__cachedText!==el){let e=l.getWritable();e.__cachedText=el,l=e}return s}("root",null),$=void 0,V=void 0,Y=void 0,G=void 0,X=void 0,Q=void 0,U=void 0,ee=void 0,et=void 0,s}(o,n,e,t,i,l)}catch(t){if(t instanceof Error&&e._onError(t),nA)throw t;return ru(e,null,i,n),L(e),e._dirtyType=2,nA=!0,n$(e,o),void(nA=!1)}finally{g.observe(i,nL),e._updating=h,nM=d,nP=f,nO=c}}n._readOnly||(n._readOnly=!0);let _=e._dirtyLeaves,y=e._dirtyElements,v=e._normalizedNodes,x=e._updateTags,S=e._deferred;u&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(e,t){let n,r=e._decorators,i=e._pendingDecorators||r,l=t._nodeMap;for(n in i)l.has(n)||(i===r&&(i=rF(e)),delete i[n])}(e,n);let C=l?null:id(ii(e));if(e._editable&&null!==C&&(u||null===a||a.dirty||!a.is(s))&&null!==i&&!x.has("skip-dom-selection")){nO=e,nM=n;try{if(null!==g&&g.disconnect(),u||null===a||a.dirty){let t=e._blockCursorElement;null!==t&&iu(t,e,i),function(e,t,n,r,i,l,o){let s=r.anchorNode,a=r.focusNode,u=r.anchorOffset,d=r.focusOffset,f=document.activeElement;if(i.has("collaboration")&&f!==l||null!==f&&r_(f))return;if(!nn(t))return null!==e&&ry(n,s,a)&&r.removeAllRanges();let c=t.anchor,h=t.focus,g=c.key,p=h.key,m=r9(n,g),_=r9(n,p),y=c.offset,v=h.offset,x=t.format,S=t.style,C=t.isCollapsed(),b=m,E=_,w=!1;if("text"===c.type){b=rT(m);let e=c.getNode();w=e.getFormat()!==x||e.getStyle()!==S}else nn(e)&&"text"===e.anchor.type&&(w=!0);if("text"===h.type&&(E=rT(_)),null!==b&&null!==E&&(C&&(null===e||w||nn(e)&&(e.format!==x||e.style!==S))&&(tm=[x,S,y,g,performance.now()]),u!==y||d!==v||s!==b||a!==E||"Range"===r.type&&C||(null!==f&&l.contains(f)||i.has("skip-selection-focus")||l.focus({preventScroll:!0}),"element"===c.type))){if(nw(r,b,y,E,v),!i.has("skip-scroll-into-view")&&t.isCollapsed()&&null!==l&&l===document.activeElement){let e=nn(t)&&"element"===t.anchor.type?b.childNodes[y]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==e){let t;if(e instanceof Text){let n=document.createRange();n.selectNode(e),t=n.getBoundingClientRect()}else t=e.getBoundingClientRect();!function(e,t,n){let r=ie(n),i=ir(r);if(null===r||null===i)return;let{top:l,bottom:o}=t,s=0,a=0,u=n;for(;null!==u;){let t=u===r.body;if(t)s=0,a=ii(e).innerHeight;else{let e=u.getBoundingClientRect();s=e.top,a=e.bottom}let n=0;if(l<s?n=-(s-l):o>a&&(n=o-a),0!==n)if(t)i.scrollBy(0,n);else{let e=u.scrollTop;u.scrollTop+=n;let t=u.scrollTop-e;l-=t,o-=t}if(t)break;u=r7(u)}}(n,t,l)}}tu=!0}}(s,a,e,C,x,i)}!function(e,t,n){let r=e._blockCursorElement;if(nn(n)&&n.isCollapsed()&&"element"===n.anchor.type&&t.contains(document.activeElement)){let i=n.anchor,l=i.getNode(),o=i.offset,s=!1,a=null;if(o===l.getChildrenSize())ia(l.getChildAtIndex(o-1))&&(s=!0);else{let t=l.getChildAtIndex(o);if(null!==t&&ia(t)){let n=t.getPreviousSibling();(null===n||ia(n))&&(s=!0,a=e.getElementByKey(t.__key))}}if(s){let n=e.getElementByKey(l.__key);return null===r&&(e._blockCursorElement=r=function(e){let t=e.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");let r=t.blockCursor;return void 0!==r&&("string"==typeof r&&(r=t.blockCursor=m(r)),void 0!==r&&n.classList.add(...r)),n}(e._config)),t.style.caretColor="transparent",null===a?n.appendChild(r):n.insertBefore(r,a)}}null!==r&&iu(r,e,t)}(e,i,a)}finally{null!==g&&g.observe(i,nL),nO=c,nM=d}}null!==p&&function(e,t,n,r,i){let l=Array.from(e._listeners.mutation),o=l.length;for(let e=0;e<o;e++){let[o,s]=l[e];for(let e of s){let l=t.get(e);void 0!==l&&o(l,{dirtyLeaves:r,prevEditorState:i,updateTags:n})}}}(e,p,x,_,o),nn(a)||null===a||null!==s&&s.is(a)||e.dispatchCommand(eb,void 0);let b=e._pendingDecorators;null!==b&&(e._decorators=b,e._pendingDecorators=null,nV("decorator",e,!0,b)),function(e,t,n){let r=rR(t),i=rR(n);r!==i&&nV("textcontent",e,!0,i)}(e,t||o,n),nV("update",e,!0,{dirtyElements:y,dirtyLeaves:_,editorState:n,mutatedNodes:p,normalizedNodes:v,prevEditorState:t||o,tags:x}),function(e,t){if(e._deferred=[],0!==t.length){let n=e._updating;e._updating=!0;try{for(let e=0;e<t.length;e++)t[e]()}finally{e._updating=n}}}(e,S),function(e){let t=e._updates;if(0!==t.length){let n=t.shift();if(n){let[t,r]=n;nY(e,t,r)}}}(e)}function nV(e,t,n,...r){let i=t._updating;t._updating=n;try{let n=Array.from(t._listeners[e]);for(let e=0;e<n.length;e++)n[e].apply(null,r)}finally{t._updating=i}}function nH(e,t){let n=e._updates,i=t||!1;for(;0!==n.length;){let t=n.shift();if(t){let n,[l,o]=t,s=e._pendingEditorState;void 0!==o&&(n=o.onUpdate,o.skipTransforms&&(i=!0),o.discrete&&(null===s&&r(191),s._flushSync=!0),n&&e._deferred.push(n),nJ(e,o.tag)),null==s?nY(e,l,o):l()}}return i}function nY(e,t,n){let i=e._updateTags,l,o=!1,s=!1;void 0!==n&&(l=n.onUpdate,nJ(e,n.tag),o=n.skipTransforms||!1,s=n.discrete||!1),l&&e._deferred.push(l);let a=e._editorState,u=e._pendingEditorState,d=!1;(null===u||u._readOnly)&&(u=e._pendingEditorState=n6(u||a),d=!0),u._flushSync=s;let f=nM,c=nP,h=nO,g=e._updating;nM=u,nP=!1,e._updating=!0,nO=e;let p=e._headless||null===e.getRootElement();rc=null;try{d&&(p?null!==a._selection&&(u._selection=a._selection.clone()):u._selection=function(e,t){let n=e.getEditorState()._selection,r=id(ii(e));return nn(n)||null==n?ny(n,r,e,t):n.clone()}(e,n&&n.event||null));let i=e._compositionKey;t(),o=nH(e,o),function(e,t){let n=t.getEditorState()._selection,r=e._selection;if(nn(r)){let e,t=r.anchor,i=r.focus;if("text"===t.type&&(e=t.getNode()).selectionTransform(n,r),"text"===i.type){let t=i.getNode();e!==t&&t.selectionTransform(n,r)}}}(u,e),0!==e._dirtyType&&(o?function(e,t){let n=t._dirtyLeaves,r=e._nodeMap;for(let e of n){let t=r.get(e);t2(t)&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&J(t)}}(u,e):function(e,t){let n=t._dirtyLeaves,r=t._dirtyElements,i=e._nodeMap,l=rP(),o=new Map,s=n,a=s.size,u=r,d=u.size;for(;a>0||d>0;){if(a>0){for(let e of(t._dirtyLeaves=new Set,s)){let r=i.get(e);t2(r)&&r.isAttached()&&r.isSimpleText()&&!r.isUnmergeable()&&J(r),void 0!==r&&nj(r,l)&&nW(t,r,o),n.add(e)}if((a=(s=t._dirtyLeaves).size)>0){nD++;continue}}for(let e of(t._dirtyLeaves=new Set,t._dirtyElements=new Map,u.delete("root")&&u.set("root",!0),u)){let n=e[0],s=e[1];if(r.set(n,s),!s)continue;let a=i.get(n);void 0!==a&&nj(a,l)&&nW(t,a,o)}a=(s=t._dirtyLeaves).size,d=(u=t._dirtyElements).size,nD++}t._dirtyLeaves=n,t._dirtyElements=r}(u,e),nH(e),function(e,t,n,r){let i=e._nodeMap,l=t._nodeMap,o=[];for(let[e]of r){let t=l.get(e);void 0!==t&&(t.isAttached()||(n1(t)&&function e(t,n,r,i,l,o){let s=t.getFirstChild();for(;null!==s;){let t=s.__key;s.__parent===n&&(n1(s)&&e(s,t,r,i,l,o),r.has(t)||o.delete(t),l.push(t)),s=s.getNextSibling()}}(t,e,i,l,o,r),i.has(e)||r.delete(e),o.push(e)))}for(let e of o)l.delete(e);for(let e of n){let t=l.get(e);void 0===t||t.isAttached()||(i.has(e)||n.delete(e),l.delete(e))}}(a,u,e._dirtyLeaves,e._dirtyElements)),i!==e._compositionKey&&(u._flushSync=!0);let l=u._selection;if(nn(l)){let e=u._nodeMap,t=l.anchor.key,n=l.focus.key;void 0!==e.get(t)&&void 0!==e.get(n)||r(19)}else ni(l)&&0===l._nodes.size&&(u._selection=null)}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=a,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void n$(e)}finally{nM=f,nP=c,nO=h,e._updating=g,nD=0}0!==e._dirtyType||e._deferred.length>0||function(e,t){let n=t.getEditorState()._selection,r=e._selection;if(null!==r){if(r.dirty||!r.is(n))return!0}else if(null!==n)return!0;return!1}(u,e)?u._flushSync?(u._flushSync=!1,n$(e)):d&&rm(()=>{n$(e)}):(u._flushSync=!1,d&&(i.clear(),e._deferred=[],e._pendingEditorState=null))}function nG(e,t,n){nO===e&&void 0===n?t():nY(e,t,n)}class nX{element;before;after;constructor(e,t,n){this.element=e,this.before=t||null,this.after=n||null}withBefore(e){return new nX(this.element,e,this.after)}withAfter(e){return new nX(this.element,this.before,e)}withElement(e){return this.element===e?this:new nX(e,this.before,this.after)}insertChild(e){let t=this.before||this.getManagedLineBreak();return null!==t&&t.parentElement!==this.element&&r(222),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&r(223),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&r(224),this.element.replaceChild(e,t),this}getFirstChild(){let e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){null===e?this.removeManagedLineBreak():this.insertManagedLineBreak("decorator"===e&&(p||f||d))}removeManagedLineBreak(){let e=this.getManagedLineBreak();if(e){let t=this.element,n="IMG"===e.nodeName?e.nextSibling:null;n&&t.removeChild(n),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){let t=this.getManagedLineBreak();if(t){if(e===("IMG"===t.nodeName))return;this.removeManagedLineBreak()}let n=this.element,r=this.before,i=document.createElement("br");if(n.insertBefore(i,r),e){let e=document.createElement("img");e.setAttribute("data-lexical-linebreak","true"),e.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",e.alt="",n.insertBefore(e,i),n.__lexicalLineBreak=e}else n.__lexicalLineBreak=i}getFirstChildOffset(){let e=0;for(let t=this.after;null!==t;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,n,r){if(n===this.element){let t=this.getFirstChildOffset();return[e,Math.min(t+e.getChildrenSize(),Math.max(t,r))]}let i=nQ(t,n);i.push(r);let l=nQ(t,this.element),o=e.getIndexWithinParent();for(let e=0;e<l.length;e++){let t=i[e],n=l[e];if(void 0===t||t<n)break;if(t>n){o+=1;break}}return[e.getParentOrThrow(),o]}}function nQ(e,t){let n=[],i=t;for(;i!==e&&null!==i;i=i.parentNode){let e=0;for(let t=i.previousSibling;null!==t;t=t.previousSibling)e++;n.push(e)}return i!==e&&r(225),n.reverse()}class n0 extends tD{__first;__last;__size;__format;__style;__indent;__dir;__textFormat;__textStyle;constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__key===e.__key&&(this.__first=e.__first,this.__last=e.__last,this.__size=e.__size),this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){return E[this.getFormat()]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){let e=nB()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){let e=[],t=this.getFirstChild();for(;null!==t;){if(t2(t)&&e.push(t),n1(t)){let n=t.getAllTextNodes();e.push(...n)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;n1(e);){let t=e.getFirstChild();if(null===t)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;n1(e);){let t=e.getLastChild();if(null===t)break;e=t}return e}getDescendantByIndex(e){let t=this.getChildren(),n=t.length;if(e>=n){let e=t[n-1];return n1(e)&&e.getLastDescendant()||e||null}let r=t[e];return n1(r)&&r.getFirstDescendant()||r||null}getFirstChild(){let e=this.getLatest().__first;return null===e?null:rA(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return null===e&&r(45,this.__key),e}getLastChild(){let e=this.getLatest().__last;return null===e?null:rA(e)}getLastChildOrThrow(){let e=this.getLastChild();return null===e&&r(96,this.__key),e}getChildAtIndex(e){let t,n,r=this.getChildrenSize();if(e<r/2){for(t=this.getFirstChild(),n=0;null!==t&&n<=e;){if(n===e)return t;t=t.getNextSibling(),n++}return null}for(t=this.getLastChild(),n=r-1;null!==t&&n>=e;){if(n===e)return t;t=t.getPreviousSibling(),n--}return null}getTextContent(){let e="",t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){let i=t[r];e+=i.getTextContent(),n1(i)&&r!==n-1&&!i.isInline()&&(e+="\n\n")}return e}getTextContentSize(){let e=0,t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){let i=t[r];e+=i.getTextContentSize(),n1(i)&&r!==n-1&&!i.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(""!==e){let t=b[e];return 0!=(this.getFormat()&t)}return!1}hasTextFormat(e){let t=S[e];return 0!=(this.getTextFormat()&t)}getFormatFlags(e,t){return rN(this.getLatest().__textFormat,e,t)}getTextStyle(){return this.getLatest().__textStyle}select(e,t){nF();let n=nv(),r=e,i=t,l=this.getChildrenSize();if(!this.canBeEmpty()){if(0===e&&0===t){let e=this.getFirstChild();if(t2(e)||n1(e))return e.select(0,0)}else if((void 0===e||e===l)&&(void 0===t||t===l)){let e=this.getLastChild();if(t2(e)||n1(e))return e.select()}}void 0===r&&(r=l),void 0===i&&(i=l);let o=this.__key;return nn(n)?(n.anchor.set(o,r,"element"),n.focus.set(o,i,"element"),n.dirty=!0,n):np(o,r,o,i,"element","element")}selectStart(){let e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){let e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach(e=>e.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?b[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){let t=this.getWritable();return t.__textFormat=e,t}setTextStyle(e){let t=this.getWritable();return t.__textStyle=e,t}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,n){tA(this)&&r(324,this.__key,this.__type);let i=this.getChildrenSize(),l=this.getWritable();e+t<=i||r(226,String(e),String(t),String(i));let o=l.__key,s=[],a=[],u=this.getChildAtIndex(e+t),d=null,f=i-t+n.length;if(0!==e)if(e===i)d=this.getLastChild();else{let t=this.getChildAtIndex(e);null!==t&&(d=t.getPreviousSibling())}if(t>0){let e=null===d?this.getFirstChild():d.getNextSibling();for(let n=0;n<t;n++){null===e&&r(100);let t=e.getNextSibling(),n=e.__key;rk(e.getWritable()),a.push(n),e=t}}let c=d;for(let e of n){null!==c&&e.is(c)&&(d=c=c.getPreviousSibling());let t=e.getWritable();t.__parent===o&&f--,rk(t);let n=e.__key;if(null===c)l.__first=n,t.__prev=null;else{let e=c.getWritable();e.__next=n,t.__prev=e.__key}e.__key===o&&r(76),t.__parent=o,s.push(n),c=e}if(e+t===i)null!==c&&(c.getWritable().__next=null,l.__last=c.__key);else if(null!==u){let e=u.getWritable();if(null!==c){let t=c.getWritable();e.__prev=c.__key,t.__next=u.__key}else e.__prev=null}if(l.__size=f,a.length){let e=nv();if(nn(e)){let t=new Set(a),n=new Set(s),{anchor:r,focus:i}=e;n2(r,t,n)&&nb(r,r.getNode(),this,d,u),n2(i,t,n)&&nb(i,i.getNode(),this,d,u),0!==f||this.canBeEmpty()||il(this)||this.remove()}}return l}getDOMSlot(e){return new nX(e)}exportDOM(e){let{element:t}=super.exportDOM(e);if(ic(t)){let e=this.getIndent();e>0&&(t.style.paddingInlineStart=40*e+"px");let n=this.getDirection();n&&(t.dir=n)}return{element:t}}exportJSON(){let e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},t=this.getTextFormat(),n=this.getTextStyle();return 0!==t&&(e.textFormat=t),""!==n&&(e.textStyle=n),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,n){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,t){let n=this.getDOMSlot(e),r=n.getFirstChild();for(let e=this.getFirstChild();e;e=e.getNextSibling()){let i=t.getElementByKey(e.getKey());null!==i&&(null==r?(n.insertChild(i),r=i):r!==i&&n.replaceChild(i,r),r=r.nextSibling)}}}function n1(e){return e instanceof n0}function n2(e,t,n){let r=e.getNode();for(;r;){let e=r.__key;if(t.has(e)&&!n.has(e))return!0;r=r.getParent()}return!1}class n3 extends tD{decorate(e,t){return null}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function n8(e){return e instanceof n3}class n4 extends n0{__cachedText;static getType(){return"root"}static clone(){return new n4}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){r(51)}getTextContent(){let e=this.__cachedText;return(nI()||0===nB()._dirtyType)&&null!==e?e:super.getTextContent()}remove(){r(52)}replace(e){r(53)}insertBefore(e){r(54)}insertAfter(e){r(55)}updateDOM(e,t){return!1}splice(e,t,n){for(let e of n)n1(e)||n8(e)||r(282);return super.splice(e,t,n)}static importJSON(e){return rK().updateFromJSON(e)}collapseAtStart(){return!0}}function n5(e){return e instanceof n4}function n6(e){return new re(new Map(e._nodeMap))}function n9(){return new re(new Map([["root",new n4]]))}function n7(e){return e instanceof re}class re{_nodeMap;_selection;_flushSync;_readOnly;constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e,t){return nU(t&&t.editor||null,this,e)}clone(e){let t=new re(this._nodeMap,void 0===e?this._selection:e);return t._readOnly=!0,t}toJSON(){return nU(null,this,()=>({root:function e(t){let n=t.exportJSON(),i=t.constructor;if(n.type!==i.getType()&&r(130,i.name),n1(t)){let l=n.children;Array.isArray(l)||r(59,i.name);let o=t.getChildren();for(let t=0;t<o.length;t++){let n=e(o[t]);l.push(n)}}return n}(rK())}))}}class rt extends n0{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class rn extends n0{static getType(){return"paragraph"}static clone(e){return new rn(e.__key)}createDOM(e){let t=document.createElement("p"),n=r1(e.theme,"paragraph");return void 0!==n&&t.classList.add(...n),t}updateDOM(e,t,n){return!1}static importDOM(){return{p:e=>({conversion:rr,priority:0})}}exportDOM(e){let{element:t}=super.exportDOM(e);if(ic(t)){this.isEmpty()&&t.append(document.createElement("br"));let e=this.getFormatType();e&&(t.style.textAlign=e)}return{element:t}}static importJSON(e){return ri().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,t){let n=ri();n.setTextFormat(e.format),n.setTextStyle(e.style);let r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),n.setStyle(this.getStyle()),this.insertAfter(n,t),n}collapseAtStart(){let e=this.getChildren();if(0===e.length||t2(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function rr(e){let t=ri();return e.style&&(t.setFormat(e.style.textAlign),iE(e,t)),{node:t}}function ri(){return io(new rn)}function rl(e){return e instanceof rn}let ro=0,rs=1,ra=4;function ru(e,t,n,r){let i=e._keyToDOMMap;i.clear(),e._editorState=n9(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;let l=e._observer;null!==l&&(l.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",i.set("root",n))}function rd(e){let t,n=e||{},r=nO,i=n.theme||{},l=void 0===e?r:n.parentEditor||null,o=n.disableEvents||!1,s=n9(),a=n.namespace||(null!==l?l._config.namespace:rZ()),u=n.editorState,d=[n4,t$,tF,t8,rn,rt,...n.nodes||[]],{onError:f,html:c}=n,h=void 0===n.editable||n.editable;if(void 0===e&&null!==r)t=r._nodes;else{t=new Map;for(let e=0;e<d.length;e++){let n=d[e],r=null,i=null;if("function"!=typeof n){let e=n;n=e.replace,r=e.with,i=e.withKlass||null}iT(n);let l=n.getType(),o=function(e){let t=new Set,n=new Set,r=e;for(;r;){let{ownNodeConfig:e}=iT(r),i=r.transform;if(!n.has(i)){n.add(i);let e=r.transform();e&&t.add(e)}if(e){let n=e.$transform;n&&t.add(n),r=e.extends}else{let e=Object.getPrototypeOf(r);r=e.prototype instanceof tD&&e!==tD?e:void 0}}return t}(n);t.set(l,{exportDOM:c&&c.export?c.export.get(n):void 0,klass:n,replace:r,replaceWithKlass:i,sharedNodeState:function(e){let t=new Map,n=new Set;for(let r="function"==typeof e?e:e.replace;r.prototype&&void 0!==r.prototype.getType;r=Object.getPrototypeOf(r)){let{ownNodeConfig:e}=iT(r);if(e&&e.stateConfigs)for(let r of e.stateConfigs){let e;"stateConfig"in r?(e=r.stateConfig,r.flat&&n.add(e.key)):e=r,t.set(e.key,e)}}return{flatKeys:n,sharedConfigMap:t}}(d[e]),transforms:o})}}let g=new rf(s,l,t,{disableEvents:o,namespace:a,theme:i},f||console.error,function(e,t){let n=new Map,r=new Set,i=e=>{Object.keys(e).forEach(t=>{let r=n.get(t);void 0===r&&(r=[],n.set(t,r)),r.push(e[t])})};return e.forEach(e=>{let t=e.klass.importDOM;if(null==t||r.has(t))return;r.add(t);let n=t.call(e.klass);null!==n&&i(n)}),t&&i(t),n}(t,c?c.import:void 0),h,e);return void 0!==u&&(g._pendingEditorState=u,g._dirtyType=2),g}class rf{static version;_headless;_parentEditor;_rootElement;_editorState;_pendingEditorState;_compositionKey;_deferred;_keyToDOMMap;_updates;_updating;_listeners;_commands;_nodes;_decorators;_pendingDecorators;_config;_dirtyType;_cloneNotNeeded;_dirtyLeaves;_dirtyElements;_normalizedNodes;_updateTags;_observer;_key;_onError;_htmlConversions;_window;_editable;_blockCursorElement;_createEditorArgs;constructor(e,t,n,r,i,l,o,s){this._createEditorArgs=s,this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=rZ(),this._onError=i,this._htmlConversions=l,this._editable=o,this._headless=null!==t&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){let t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){let t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){let t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){let t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){let t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){void 0===n&&r(35);let i=this._commands;i.has(e)||i.set(e,[new Set,new Set,new Set,new Set,new Set]);let l=i.get(e);void 0===l&&r(36,String(e));let o=l[n];return o.add(t),()=>{o.delete(t),l.every(e=>0===e.size)&&i.delete(e)}}registerMutationListener(e,t,n){let r=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,i=this._listeners.mutation,l=i.get(t);void 0===l&&(l=new Set,i.set(t,l)),l.add(r);let o=n&&n.skipInitialization;return void 0!==o&&o||this.initializeMutationListener(t,r),()=>{l.delete(r),0===l.size&&i.delete(t)}}getRegisteredNode(e){let t=this._nodes.get(e.getType());return void 0===t&&r(37,e.name),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){let n=this._editorState,r=iS(n).get(t.getType());if(!r)return;let i=new Map;for(let e of r.keys())i.set(e,"created");i.size>0&&e(i,{dirtyLeaves:new Set,prevEditorState:n,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){let n=this.getRegisteredNode(e);return n.transforms.add(t),n}registerNodeTransform(e,t){let n=this.registerNodeTransformToKlass(e,t),r=[n],i=n.replaceWithKlass;if(null!=i){let e=this.registerNodeTransformToKlass(i,t);r.push(e)}return function(e,t){let n=iS(e.getEditorState()),r=[];for(let e of t){let t=n.get(e);t&&r.push(t)}0!==r.length&&e.update(()=>{for(let e of r)for(let t of e.keys()){let e=rA(t);e&&e.markDirty()}},null===e._pendingEditorState?{tag:tL}:void 0)}(this,r.map(e=>e.klass.getType())),()=>{r.forEach(e=>e.transforms.delete(t))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return r5(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){let t=this._rootElement;if(e!==t){let n=r1(this._config.theme,"root"),i=this._pendingEditorState||this._editorState;if(this._rootElement=e,ru(this,t,e,i),null!==t&&(this._config.disableEvents||function(e){let t=ts.get(e);if(void 0===t)return tM();let n=ta.get(t);if(void 0===n)return tM();let i=n-1;i>=0||r(164),ts.delete(e),ta.set(t,i),0===i&&t.removeEventListener("selectionchange",tT);let l=rS(e);rv(l)?(!function(e){if(null!==e._parentEditor){let t=rJ(e),n=t[t.length-1]._key;tw.get(n)===e&&tw.delete(n)}else tw.delete(e._key)}(l),e.__lexicalEditor=null):l&&r(198);let o=tE(e);for(let e=0;e<o.length;e++)o[e]();e.__lexicalEventHandles=[]}(t),null!=n&&t.classList.remove(...n)),null!==e){let t=ir(e),r=e.style;r.userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=t,this._dirtyType=2,L(this),this._updateTags.add(tL),n$(this),this._config.disableEvents||function(e,t){let n=e.ownerDocument;ts.set(e,n);let r=ta.get(n)??0;r<1&&n.addEventListener("selectionchange",tT),ta.set(n,r+1),e.__lexicalEditor=t;let i=tE(e);for(let n=0;n<tn.length;n++){let[r,l]=tn[n],o="function"==typeof l?e=>{tk(e)||(tN(e),(t.isEditable()||"click"===r)&&l(e,t))}:e=>{if(tk(e))return;tN(e);let n=t.isEditable();switch(r){case"cut":return n&&r5(t,e4,e);case"copy":return r5(t,e8,e);case"paste":return n&&r5(t,eO,e);case"dragstart":return n&&r5(t,e1,e);case"dragover":return n&&r5(t,e2,e);case"dragend":return n&&r5(t,e3,e);case"focus":return n&&r5(t,e9,e);case"blur":return n&&r5(t,e7,e);case"drop":return n&&r5(t,eQ,e)}};e.addEventListener(r,o),i.push(()=>{e.removeEventListener(r,o)})}}(e,this),null!=n&&e.classList.add(...n)}else this._window=null,this._updateTags.add(tL),n$(this);nV("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&r(38);let n=e;n._readOnly&&((n=n6(e))._selection=e._selection?e._selection.clone():null),D(this);let i=this._pendingEditorState,l=this._updateTags,o=void 0!==t?t.tag:null;null===i||i.isEmpty()||(null!=o&&l.add(o),n$(this)),this._pendingEditorState=n,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=o&&l.add(o),this._updating||n$(this)}parseEditorState(e,t){return function(e,t,n){let r=n9(),i=nM,l=nP,o=nO,s=t._dirtyElements,a=t._dirtyLeaves,u=t._cloneNotNeeded,d=t._dirtyType;t._dirtyElements=new Map,t._dirtyLeaves=new Set,t._cloneNotNeeded=new Set,t._dirtyType=0,nM=r,nP=!1,nO=t,rc=null;try{let i=t._nodes;nq(e.root,i),n&&n(),r._readOnly=!0}catch(e){e instanceof Error&&t._onError(e)}finally{t._dirtyElements=s,t._dirtyLeaves=a,t._cloneNotNeeded=u,t._dirtyType=d,nM=i,nP=l,nO=o}return r}("string"==typeof e?JSON.parse(e):e,this,t)}read(e){return n$(this),this.getEditorState().read(e,{editor:this})}update(e,t){this._updating?this._updates.push([e,t]):nY(this,e,t)}focus(e,t={}){let n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),nG(this,()=>{var r,i;let l=nv(),o=rK();null!==l?l.dirty||rz(l.clone()):0!==o.getChildrenSize()&&("rootStart"===t.defaultSelection?o.selectStart():o.selectEnd()),r="focus",nF(),nB()._updateTags.add(r),i=()=>{n.removeAttribute("autocapitalize"),e&&e()},nF(),nB()._deferred.push(i)}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){let e=this._rootElement;null!==e&&e.blur();let t=id(this._window);null!==t&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,nV("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}rf.version="0.38.2+prod.esm";let rc=null,rh=1;function rg(e,t){let n=rp(e,t);return void 0===n&&r(30,t),n}function rp(e,t){return e._nodes.get(t)}let rm="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function r_(e){let t=document.activeElement;if(!ic(t))return!1;let n=t.nodeName;return n8(rI(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==rS(t))}function ry(e,t,n){let r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!r_(t)&&rx(t)===e}catch(e){return!1}}function rv(e){return e instanceof rf}function rx(e){let t=e;for(;null!=t;){let e=rS(t);if(rv(e))return e;t=r7(t)}return null}function rS(e){return e?e.__lexicalEditor:null}function rC(e){return t5(e)||e.isToken()}function rb(e){return rC(e)||e.isSegmented()}function rE(e){return ih(e)&&3===e.nodeType}function rw(e){return ih(e)&&9===e.nodeType}function rT(e){let t=e;for(;null!=t;){if(rE(t))return t;t=t.firstChild}return null}function rN(e,t,n){let r=S[t];if(null!==n&&(e&r)==(n&r))return e;let i=e^r;return"subscript"===t?i&=~S.superscript:"superscript"===t?i&=~S.subscript:"lowercase"===t?(i&=~S.uppercase,i&=~S.capitalize):"uppercase"===t?(i&=~S.lowercase,i&=~S.capitalize):"capitalize"===t&&(i&=~S.lowercase,i&=~S.uppercase),i}function rk(e){let t=e.getParent();if(null!==t){let n=e.getWritable(),r=t.getWritable(),i=e.getPreviousSibling(),l=e.getNextSibling(),o=null!==l?l.__key:null,s=null!==i?i.__key:null,a=null!==i?i.getWritable():null,u=null!==l?l.getWritable():null;null===i&&(r.__first=o),null===l&&(r.__last=s),null!==a&&(a.__next=o),null!==u&&(u.__prev=s),n.__prev=null,n.__next=null,n.__parent=null,r.__size--}}function rM(e){nR(),tA(e)&&r(323,e.__key,e.__type);let t=e.getLatest(),n=t.__parent,i=nK(),l=nB(),o=i._nodeMap,s=l._dirtyElements;null!==n&&function(e,t,n){let r=e;for(;null!==r;){if(n.has(r))return;let e=t.get(r);if(void 0===e)break;n.set(r,!1),r=e.__parent}}(n,o,s);let a=t.__key;l._dirtyType=1,n1(e)?s.set(a,!0):l._dirtyLeaves.add(a)}function rO(e){nF();let t=nB(),n=t._compositionKey;if(e!==n){if(t._compositionKey=e,null!==n){let e=rA(n);null!==e&&e.getWritable()}if(null!==e){let t=rA(e);null!==t&&t.getWritable()}}}function rP(){return nI()?null:nB()._compositionKey}function rA(e,t){let n=(t||nK())._nodeMap.get(e);return void 0===n?null:n}function rD(e,t){let n=rL(e,nB());return void 0!==n?rA(n,t):null}function rL(e,t){return e[`__lexicalKey_${t._key}`]}function rI(e,t){let n=e;for(;null!=n;){let e=rD(n,t);if(null!==e)return e;n=r7(n)}return null}function rF(e){let t=Object.assign({},e._decorators);return e._pendingDecorators=t,t}function rR(e){return e.read(()=>rK().getTextContent())}function rK(){return rB(nK())}function rB(e){return e._nodeMap.get("root")}function rz(e){nF();let t=nK();null!==e&&(e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function rW(e){let t=nB(),n=function(e,t){let n=e;for(;null!=n;){let e=rL(n,t);if(void 0!==e)return e;n=r7(n)}return null}(e,t);return null===n?e===t.getRootElement()?rA("root"):null:rA(n)}function rj(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function rJ(e){let t=[],n=e;for(;null!==n;)t.push(n),n=n._parentEditor;return t}function rZ(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function rq(e){return rE(e)?e.nodeValue:null}function rU(e,t,n){let r=id(ii(t));if(null===r)return;let i=r.anchorNode,{anchorOffset:l,focusOffset:o}=r;if(null!==i){let t=rq(i),r=rI(i);if(null!==t&&t2(r)){if(t===_&&n){let e=n.length;t=n,l=e,o=e}null!==t&&r$(r,t,l,o,e)}}}function r$(e,t,n,r,i){let l=e;if(l.isAttached()&&(i||!l.isDirty())){let o=l.isComposing(),s=t;(o||i)&&t[t.length-1]===_&&(s=t.slice(0,-1));let a=l.getTextContent();if(i||s!==a){if(""===s){if(rO(null),d||f||p)l.remove();else{let e=nB();setTimeout(()=>{e.update(()=>{l.isAttached()&&l.remove()})},20)}return}let t=l.getParent(),i=nx(),a=l.getTextContentSize(),u=rP(),c=l.getKey();if(l.isToken()||null!==u&&c===u&&!o||nn(i)&&(null!==t&&!t.canInsertTextBefore()&&0===i.anchor.offset||i.anchor.key===e.__key&&0===i.anchor.offset&&!l.canInsertTextBefore()&&!o||i.focus.key===e.__key&&i.focus.offset===a&&!l.canInsertTextAfter()&&!o))return void l.markDirty();let h=nv();if(!nn(h)||null===n||null===r)return void rV(l,s,h);if(h.setTextNodeRange(l,n,l,r),l.isSegmented()){let e=t1(l.getTextContent());l.replace(e),l=e}rV(l,s,h)}}}function rV(e,t,n){if(e.setTextContent(t),nn(n)){let t=e.getKey();for(let r of["anchor","focus"]){let i=n[r];"text"===i.type&&i.key===t&&(i.offset=iZ(e,i.offset,"clamp"))}}}function rH(e,t,n){let r=t[n]||!1;return"any"===r||r===e[n]}function rY(e,t,n){return rH(e,n,"altKey")&&rH(e,n,"ctrlKey")&&rH(e,n,"shiftKey")&&rH(e,n,"metaKey")&&e.key.toLowerCase()===t.toLowerCase()}let rG={ctrlKey:!s,metaKey:s},rX={altKey:s,ctrlKey:!s};function rQ(e){return"Backspace"===e.key}function r0(e){let t=rK();if(nn(e)){let t=e.anchor,n=e.focus,r=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();return t.set(r.getKey(),0,"element"),n.set(r.getKey(),r.getChildrenSize(),"element"),Z(e),e}{let e=t.select(0,t.getChildrenSize());return rz(Z(e)),e}}function r1(e,t){void 0===e.__lexicalClassNameCache&&(e.__lexicalClassNameCache={});let n=e.__lexicalClassNameCache,r=n[t];if(void 0!==r)return r;let i=e[t];if("string"==typeof i){let e=m(i);return n[t]=e,e}return i}function r2(e,t,n,i,l){if(0===n.size)return;let o=i.__type,s=i.__key,a=t.get(o);void 0===a&&r(33,o);let u=a.klass,d=e.get(u);void 0===d&&(d=new Map,e.set(u,d));let f=d.get(s),c="destroyed"===f&&"created"===l;(void 0===f||c)&&d.set(s,c?"updated":l)}function r3(e,t,n){let r=e.getParent(),i=n,l=e;return null!==r&&(t&&0===n?(i=l.getIndexWithinParent(),l=r):t||n!==l.getChildrenSize()||(i=l.getIndexWithinParent()+1,l=r)),l.getChildAtIndex(t?i-1:i)}function r8(e,t){let n=e.offset;if("element"===e.type)return r3(e.getNode(),t,n);{let r=e.getNode();if(t&&0===n||!t&&n===r.getTextContentSize()){let e=t?r.getPreviousSibling():r.getNextSibling();return null===e?r3(r.getParentOrThrow(),t,r.getIndexWithinParent()+ +!t):e}}return null}function r4(e){let t=ii(e).event,n=t&&t.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n}function r5(e,t,n){return function(e,t,n){let r=rJ(e);for(let i=4;i>=0;i--)for(let l=0;l<r.length;l++){let o=r[l],s=o._commands.get(t);if(void 0!==s){let t=s[i];if(void 0!==t){let r=Array.from(t),i=r.length,l=!1;if(nG(o,()=>{for(let t=0;t<i;t++)if(r[t](n,e))return void(l=!0)}),l)return l}}}return!1}(e,t,n)}function r6(e){return!n5(e)&&!e.isLastChild()&&!e.isInline()}function r9(e,t){let n=e._keyToDOMMap.get(t);return void 0===n&&r(75,t),n}function r7(e){let t=e.assignedSlot||e.parentElement;return ig(t)?t.host:t}function ie(e){return rw(e)?e:ic(e)?e.ownerDocument:null}function it(e,t){let n=e.getParent();for(;null!==n;){if(n.is(t))return!0;n=n.getParent()}return!1}function ir(e){let t=ie(e);return t?t.defaultView:null}function ii(e){let t=e._window;return null===t&&r(78),t}function il(e){return n5(e)||n1(e)&&e.isShadowRoot()}function io(e){let t=nB(),n=e.getType(),i=rp(t,n);void 0===i&&r(200,e.constructor.name,n);let{replace:l,replaceWithKlass:o}=i;if(null!==l){let t=l(e),i=t.constructor;return null!==o?t instanceof o||r(201,o.name,o.getType(),i.name,i.getType(),e.constructor.name,n):t instanceof e.constructor&&i!==e.constructor||r(202,i.name,i.getType(),e.constructor.name,n),t.__key===e.__key&&r(203,e.constructor.name,n,i.name,i.getType()),t}return e}function is(e,t){!n5(e.getParent())||n1(t)||n8(t)||r(99)}function ia(e){return(n8(e)||n1(e)&&!e.canBeEmpty())&&!e.isInline()}function iu(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null;let r=e.parentElement;null!==r&&r.removeChild(e)}function id(e){return l?(e||window).getSelection():null}function ic(e){return ih(e)&&1===e.nodeType}function ih(e){return"object"==typeof e&&null!==e&&"nodeType"in e&&"number"==typeof e.nodeType}function ig(e){return ih(e)&&11===e.nodeType}function ip(e){let t=RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==e.nodeName.match(t)}function im(e){let t=RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==e.nodeName.match(t)}function i_(e){if(n8(e)&&!e.isInline())return!0;if(!n1(e)||il(e))return!1;let t=e.getFirstChild(),n=null===t||tB(t)||t2(t)||t.isInline();return!e.isInline()&&!1!==e.canBeEmpty()&&n}function iy(){return nB()}let iv=new WeakMap,ix=new Map;function iS(e){if(!e._readOnly&&e.isEmpty())return ix;e._readOnly||r(192);let t=iv.get(e);return t||(t=function(e){let t=new Map;for(let[n,r]of e._nodeMap){let e=r.__type,i=t.get(e);i||(i=new Map,t.set(e,i)),i.set(n,r)}return t}(e),iv.set(e,t)),t}function iC(e){let t=e.constructor.clone(e);return t.afterCloneFrom(e),t}function ib(e){var t;return(t=iC(e))[tP]=!0,t}function iE(e,t){let n=Math.round((parseInt(e.style.paddingInlineStart,10)||0)/40);t.setIndent(n)}function iw(e,t){return Object.prototype.hasOwnProperty.call(e,t)&&e[t]!==tD[t]}function iT(e){let t=N in e.prototype?e.prototype[N]():void 0,n=function(e){if(!(e===tD||e.prototype instanceof tD)){let t="<unknown>",n="<unknown>";try{t=e.getType()}catch(e){}try{rf.version&&(n=JSON.parse(rf.version))}catch(e){}r(290,e.name,t,n)}return e===n3||e===n0||e===tD}(e),i=!n&&iw(e,"getType")?e.getType():void 0,l,o=i;if(t)if(i)l=t[i];else for(let[e,n]of Object.entries(t))o=e,l=n;if(!n&&o&&(iw(e,"getType")||(e.getType=()=>o),iw(e,"clone")||(e.clone=t=>(rc=t,new e)),iw(e,"importJSON")||(e.importJSON=l&&l.$importJSON||(t=>(new e).updateFromJSON(t))),!iw(e,"importDOM")&&l)){let{importDOM:t}=l;t&&(e.importDOM=()=>t)}return{ownNodeConfig:l,ownNodeType:o}}function iN(e){let t=iy();return nF(),new(t.resolveRegisteredNodeAfterReplacements(t.getRegisteredNode(e))).klass}let ik=(e,t)=>{let n=e;for(;null!=n&&!n5(n);){if(t(n))return n;n=n.getParent()}return null},iM={next:"previous",previous:"next"};class iO{origin;constructor(e){this.origin=e}[Symbol.iterator](){return iG({hasNext:iR,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return ij(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return ij(this.origin,this.direction)}remove(){let e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,t){let n=this.getNodeAtCaret();return e.is(this.origin)||e.is(n)||(null===n?this.insert(e):n.replace(e,t)),this}splice(e,t,n="next"){let i=n===this.direction?t:Array.from(t).reverse(),l=this,o=this.getParentAtCaret(),s=new Map;for(let t=l.getAdjacentCaret();null!==t&&s.size<e;t=t.getAdjacentCaret()){let e=t.origin.getWritable();s.set(e.getKey(),e)}for(let e of i){if(s.size>0){let t=l.getNodeAtCaret();if(t)if(s.delete(t.getKey()),s.delete(e.getKey()),t.is(e)||l.origin.is(e));else{let n=e.getParent();n&&n.is(o)&&e.remove(),t.replace(e)}else null===t&&r(263,Array.from(s).join(" "))}else l.insert(e);l=ij(e,this.direction)}for(let e of s.values())e.remove();return this}}class iP extends iO{type="child";getLatest(){let e=this.origin.getLatest();return e===this.origin?this:iq(e,this.direction)}getParentCaret(e="root"){return ij(iD(this.getParentAtCaret(),e),this.direction)}getFlipped(){let e=iM[this.direction];return ij(this.getNodeAtCaret(),e)||iq(this.origin,e)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(e){return e instanceof iP&&this.direction===e.direction&&this.origin.is(e.origin)}isSamePointCaret(e){return this.isSameNodeCaret(e)}}let iA={root:n5,shadowRoot:il};function iD(e,t="root"){return iA[t](e)?null:e}class iL extends iO{type="sibling";getLatest(){let e=this.origin.getLatest();return e===this.origin?this:ij(e,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return n1(this.origin)?iq(this.origin,this.direction):null}getParentCaret(e="root"){return ij(iD(this.getParentAtCaret(),e),this.direction)}getFlipped(){let e=iM[this.direction];return ij(this.getNodeAtCaret(),e)||iq(this.origin.getParentOrThrow(),e)}isSamePointCaret(e){return e instanceof iL&&this.direction===e.direction&&this.origin.is(e.origin)}isSameNodeCaret(e){return(e instanceof iL||e instanceof iI)&&this.direction===e.direction&&this.origin.is(e.origin)}}class iI extends iO{type="text";offset;constructor(e,t){super(e),this.offset=t}getLatest(){let e=this.origin.getLatest();return e===this.origin?this:iJ(e,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(e="root"){return ij(iD(this.getParentAtCaret(),e),this.direction)}getFlipped(){return iJ(this.origin,iM[this.direction],this.offset)}isSamePointCaret(e){return e instanceof iI&&this.direction===e.direction&&this.origin.is(e.origin)&&this.offset===e.offset}isSameNodeCaret(e){return(e instanceof iL||e instanceof iI)&&this.direction===e.direction&&this.origin.is(e.origin)}getSiblingCaret(){return ij(this.origin,this.direction)}}function iF(e){return e instanceof iI}function iR(e){return e instanceof iL}function iK(e){return e instanceof iP}let iB={next:class extends iI{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends iI{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},iz={next:class extends iL{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends iL{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},iW={next:class extends iP{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends iP{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function ij(e,t){return e?new iz[t](e):null}function iJ(e,t,n){return e?new iB[t](e,iZ(e,n)):null}function iZ(e,t,n="error"){let r=e.getTextContentSize(),l="next"===t?r:"previous"===t?0:t;return(l<0||l>r)&&("clamp"!==n&&i(284,String(t),String(r),e.getKey()),l=l<0?0:r),l}function iq(e,t){return n1(e)?new iW[t](e):null}function iU(e){var t;return e&&((t=e.getAdjacentCaret())&&t.getChildCaret()||t)}class i${type="node-caret-range";direction;anchor;focus;constructor(e,t,n){this.anchor=e,this.focus=t,this.direction=n}getLatest(){let e=this.anchor.getLatest(),t=this.focus.getLatest();return e===this.anchor&&t===this.focus?this:new i$(e,t,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){let e=e=>{let t=this[e].getLatest();return iF(t)?function(e,t){let{direction:n,origin:r}=e;return new iV(e,iZ(r,"focus"===t?iM[n]:n)-e.offset)}(t,e):null},t=e("anchor"),n=e("focus");if(t&&n){let{caret:e}=t,{caret:r}=n;if(e.isSameNodeCaret(r))return[new iV(e,r.offset-e.offset),null]}return[t,n]}iterNodeCarets(e="root"){let t=iF(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),n=this.focus.getLatest(),r=iF(n),i=t=>t.isSameNodeCaret(n)?null:iU(t)||t.getParentCaret(e);return iG({hasNext:e=>null!==e&&!(r&&n.isSameNodeCaret(e)),initial:t.isSameNodeCaret(n)?null:i(t),map:e=>e,step:i})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class iV{type="slice";caret;distance;constructor(e,t){this.caret=e,this.distance=t}getSliceIndices(){let{distance:e,caret:{offset:t}}=this,n=t+e;return n<t?[n,t]:[t,n]}getTextContent(){let[e,t]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,t)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){let{caret:{origin:e,direction:t}}=this,[n,r]=this.getSliceIndices(),i=e.getTextContent();return iJ(e.setTextContent(i.slice(0,n)+i.slice(r)),t,n)}}function iH(e){return iY(e,ij(rK(),e.direction))}function iY(e,t){return e.direction!==t.direction&&r(265),new i$(e,t,e.direction)}function iG(e){let{initial:t,hasNext:n,step:r,map:i}=e,l=t;return{[Symbol.iterator](){return this},next(){if(!n(l))return{done:!0,value:void 0};let e={done:!1,value:i(l)};return l=r(l),e}}}function iX(e,t){let n=i1(e.origin,t.origin);switch(null===n&&r(275,e.origin.getKey(),t.origin.getKey()),n.type){case"same":{let n="text"===e.type,r="text"===t.type;return n&&r?Math.sign(e.offset-t.offset):e.type===t.type?0:n?-1:r?1:"child"===e.type?-1:1}case"ancestor":return"child"===e.type?-1:1;case"descendant":return"child"===t.type?1:-1;case"branch":return iQ(n)}}function iQ(e){let{a:t,b:n}=e,r=t.__key,i=n.__key,l=t,o=n;for(;l&&o;l=l.getNextSibling(),o=o.getNextSibling()){if(l.__key===i)return -1;if(o.__key===r)return 1}return null===l?1:-1}function i0(e){return n1(e)?[e.getLatest(),null]:[e.getParent(),e.getLatest()]}function i1(e,t){if(e.is(t))return{commonAncestor:e,type:"same"};let n=new Map;for(let[t,r]=i0(e);t;r=t,t=t.getParent())n.set(t,r);for(let[i,l]=i0(t);i;l=i,i=i.getParent()){let o=n.get(i);if(void 0!==o)return null===o?(i.is(e)||r(276),{commonAncestor:i,type:"ancestor"}):null===l?(i.is(t)||r(277),{commonAncestor:i,type:"descendant"}):((n1(o)||o.is(e))&&(n1(l)||l.is(t))&&i.is(o.getParent())&&i.is(l.getParent())||r(278),{a:o,b:l,commonAncestor:i,type:"branch"})}return null}function i2(e,t){let{type:n,key:i,offset:l}=e,o=function(e){let t=rA(e);return null===t&&r(63,e),t}(e.key);return"text"===n?(t2(o)||r(266,o.getType(),i),iJ(o,t,l)):(n1(o)||r(267,o.getType(),i),function(e,t,n){let r=iq(e,"next");for(let e=0;e<t;e++){let e=r.getAdjacentCaret();if(null===e)break;r=e}return lt(r,n)}(o,e.offset,t))}function i3(e,t){let{origin:n,direction:i}=t,l="next"===i;iF(t)?e.set(n.getKey(),t.offset,"text"):iR(t)?t2(n)?e.set(n.getKey(),iZ(n,i),"text"):e.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent()+ +!!l,"element"):(iK(t)&&n1(n)||r(268),e.set(n.getKey(),l?0:n.getChildrenSize(),"element"))}function i8(e,t){i3(e.anchor,t.anchor),i3(e.focus,t.focus)}function i4(e){let{anchor:t,focus:n}=e,r=i2(t,"next"),i=i2(n,"next"),l=0>=iX(r,i)?"next":"previous";return iY(lt(r,l),lt(i,l))}function i5(e){let{direction:t,origin:n}=e,r=ij(n,iM[t]).getNodeAtCaret();return r?ij(r,t):iq(n.getParentOrThrow(),t)}function i6(e,t="root"){let n=[e];for(let r=iK(e)?e.getParentCaret(t):e.getSiblingCaret();null!==r;r=r.getParentCaret(t))n.push(i5(r));return n}function i9(e){return!!e&&e.origin.isAttached()}function i7(e){let t=function(e){let t=e;for(;iK(t);){let e=iU(t);if(!iK(e))break;t=e}return t}(e.getLatest()),{direction:n}=t;if(t2(t.origin))return iF(t)?t:iJ(t.origin,n,n);let r=t.getAdjacentCaret();return iR(r)&&t2(r.origin)?iJ(r.origin,n,iM[n]):t}function le(e){return iF(e)&&e.offset!==iZ(e.origin,e.direction)}function lt(e,t){return e.direction===t?e:e.getFlipped()}function ln(e,t){return e.direction===t?e:iY(lt(e.focus,t),lt(e.anchor,t))}function lr(e){return e}function li(e){return e}function ll(e,t){if(!t||e===t)return e;for(let n in t)if(e[n]!==t[n])return{...e,...t};return e}},9128:(e,t,n)=>{let r,i;n.d(t,{QZ:()=>E,iZ:()=>z,v:()=>w});var l=n(8801),o=n(5288);let s=Symbol.for("preact-signals");function a(){if(d>1)return void d--;let e,t=!1;for(;void 0!==i;){let n=i;for(i=void 0,f++;void 0!==n;){let r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&m(n))try{n.c()}catch(n){t||(e=n,t=!0)}n=r}}if(f=0,d--,t)throw e}function u(e){let t=r;r=void 0;try{return e()}finally{r=t}}let d=0,f=0,c=0;function h(e){if(void 0===r)return;let t=e.n;return void 0===t||t.t!==r?(t={i:0,S:e,p:r.s,n:void 0,t:r,e:void 0,x:void 0,r:t},void 0!==r.s&&(r.s.n=t),r.s=t,e.n=t,32&r.f&&e.S(t),t):-1===t.i?(t.i=0,void 0!==t.n&&(t.n.p=t.p,void 0!==t.p&&(t.p.n=t.n),t.p=r.s,t.n=void 0,r.s.n=t,r.s=t),t):void 0}function g(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name}function p(e,t){return new g(e,t)}function m(e){for(let t=e.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function _(e){for(let t=e.s;void 0!==t;t=t.n){let n=t.S.n;if(void 0!==n&&(t.r=n),t.S.n=t,t.i=-1,void 0===t.n){e.s=t;break}}}function y(e){let t,n=e.s;for(;void 0!==n;){let e=n.p;-1===n.i?(n.S.U(n),void 0!==e&&(e.n=n.n),void 0!==n.n&&(n.n.p=e)):t=n,n.S.n=n.r,void 0!==n.r&&(n.r=void 0),n=e}e.s=t}function v(e,t){g.call(this,void 0),this.x=e,this.s=void 0,this.g=c-1,this.f=4,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name}function x(e){let t=e.u;if(e.u=void 0,"function"==typeof t){d++;let n=r;r=void 0;try{t()}catch(t){throw e.f&=-2,e.f|=8,S(e),t}finally{r=n,a()}}}function S(e){for(let t=e.s;void 0!==t;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,x(e)}function C(e){if(r!==this)throw Error("Out-of-order effect");y(this),r=e,this.f&=-2,8&this.f&&S(this),a()}function b(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=null==t?void 0:t.name}function E(e,t){let n=new b(e,t);try{n.c()}catch(e){throw n.d(),e}let r=n.d.bind(n);return r[Symbol.dispose]=r,r}function w(e,t={}){let n={};for(let r in e){let i=t[r],l=p(void 0===i?e[r]:i);n[r]=l}return n}function T(){let e=(0,l.NiT)(),t=(0,l.vJq)(),n=(0,l.lJ7)();e.clear(),e.append(n),null!==t&&n.select(),(0,l.I2P)(t)&&(t.format=0)}function N(e,t){let n;return p(e(),{unwatched(){n&&(n(),n=void 0)},watched(){this.value=e(),n=t(this)}})}g.prototype.brand=s,g.prototype.h=function(){return!0},g.prototype.S=function(e){let t=this.t;t!==e&&void 0===e.e&&(e.x=t,this.t=e,void 0!==t?t.e=e:u(()=>{var e;null==(e=this.W)||e.call(this)}))},g.prototype.U=function(e){if(void 0!==this.t){let t=e.e,n=e.x;void 0!==t&&(t.x=n,e.e=void 0),void 0!==n&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n,void 0===n&&u(()=>{var e;null==(e=this.Z)||e.call(this)}))}},g.prototype.subscribe=function(e){return E(()=>{let t=this.value,n=r;r=void 0;try{e(t)}finally{r=n}},{name:"sub"})},g.prototype.valueOf=function(){return this.value},g.prototype.toString=function(){return this.value+""},g.prototype.toJSON=function(){return this.value},g.prototype.peek=function(){let e=r;r=void 0;try{return this.value}finally{r=e}},Object.defineProperty(g.prototype,"value",{get(){let e=h(this);return void 0!==e&&(e.i=this.i),this.v},set(e){if(e!==this.v){if(f>100)throw Error("Cycle detected");this.v=e,this.i++,c++,d++;try{for(let e=this.t;void 0!==e;e=e.x)e.t.N()}finally{a()}}}}),v.prototype=new g,v.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f)||(this.f&=-5,this.g===c))return!0;if(this.g=c,this.f|=1,this.i>0&&!m(this))return this.f&=-2,!0;let e=r;try{_(this),r=this;let e=this.x();(16&this.f||this.v!==e||0===this.i)&&(this.v=e,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return r=e,y(this),this.f&=-2,!0},v.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(let e=this.s;void 0!==e;e=e.n)e.S.S(e)}g.prototype.S.call(this,e)},v.prototype.U=function(e){if(void 0!==this.t&&(g.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(let e=this.s;void 0!==e;e=e.n)e.S.U(e)}},v.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let e=this.t;void 0!==e;e=e.x)e.t.N()}},Object.defineProperty(v.prototype,"value",{get(){if(1&this.f)throw Error("Cycle detected");let e=h(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v}}),b.prototype.c=function(){let e=this.S();try{if(8&this.f||void 0===this.x)return;let e=this.x();"function"==typeof e&&(this.u=e)}finally{e()}},b.prototype.S=function(){if(1&this.f)throw Error("Cycle detected");this.f|=1,this.f&=-9,x(this),_(this),d++;let e=r;return r=this,C.bind(this,e)},b.prototype.N=function(){2&this.f||(this.f|=2,this.o=i,i=this)},b.prototype.d=function(){this.f|=8,1&this.f||S(this)},b.prototype.dispose=function(){this.d()},(0,l.vE9)({build:(e,t,n)=>w(t),config:(0,l.lVE)({defaultSelection:"rootEnd",disabled:!1}),name:"@lexical/extension/AutoFocus",register(e,t,n){let r=n.getOutput();return E(()=>r.disabled.value?void 0:e.registerRootListener(t=>{e.focus(()=>{let e=document.activeElement;null===t||null!==e&&t.contains(e)||t.focus({preventScroll:!0})},{defaultSelection:r.defaultSelection.peek()})}))}}),(0,l.vE9)({build:(e,t,n)=>w(t),config:(0,l.lVE)({$onClear:T}),name:"@lexical/extension/ClearEditor",register(e,t,n){let{$onClear:r}=n.getOutput();return E(()=>(function(e,t=T){return e.registerCommand(l.SKc,n=>(e.update(t),!0),l.jZM)})(e,r.value))}});let k=(0,l.vE9)({build:e=>N(()=>e.getEditorState(),t=>e.registerUpdateListener(e=>{t.value=e.editorState})),name:"@lexical/extension/EditorState"});function M(e,...t){let n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;for(let n of(r.append("code",e),t))r.append("v",n);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let O=new Set;class P{builder;configs;_dependency;_peerNameSet;extension;state;_signal;constructor(e,t){this.builder=e,this.extension=t,this.configs=new Set,this.state={id:0}}mergeConfigs(){let e=this.extension.config||{},t=this.extension.mergeConfig?this.extension.mergeConfig.bind(this.extension):l.Tc1;for(let n of this.configs)e=t(e,n);return e}init(e){let t,n=this.state;2===n.id||M(306,String(n.id));let r={getDependency:this.getInitDependency.bind(this),getDirectDependentNames:this.getDirectDependentNames.bind(this),getPeer:this.getInitPeer.bind(this),getPeerNameSet:this.getPeerNameSet.bind(this)},i={...r,getDependency:this.getDependency.bind(this),getInitResult:this.getInitResult.bind(this),getPeer:this.getPeer.bind(this)},l=Object.assign(n,{config:this.mergeConfigs(),id:3,registerState:r});this.state=l,this.extension.init&&(t=this.extension.init(e,l.config,r)),this.state=Object.assign(l,{id:4,initResult:t,registerState:i})}build(e){let t,n=this.state;4!==n.id&&M(307,String(n.id),String(5)),this.extension.build&&(t=this.extension.build(e,n.config,n.registerState));let r={...n.registerState,getOutput:()=>t,getSignal:this.getSignal.bind(this)};this.state=Object.assign(n,{id:5,output:t,registerState:r})}register(e,t){this._signal=t;let n=this.state;5!==n.id&&M(308,String(n.id),String(5));let r=this.extension.register&&this.extension.register(e,n.config,n.registerState);return this.state=Object.assign(n,{id:6}),()=>{let e=this.state;7!==e.id&&M(309,String(n.id),String(7)),this.state=Object.assign(e,{id:5}),r&&r()}}afterRegistration(e){let t,n=this.state;return 6!==n.id&&M(310,String(n.id),String(6)),this.extension.afterRegistration&&(t=this.extension.afterRegistration(e,n.config,n.registerState)),this.state=Object.assign(n,{id:7}),t}getSignal(){return void 0===this._signal&&M(311),this._signal}getInitResult(){void 0===this.extension.init&&M(312,this.extension.name);let e=this.state;return e.id>=4||M(313,String(e.id),String(4)),e.initResult}getInitPeer(e){let t=this.builder.extensionNameMap.get(e);return t?t.getExtensionInitDependency():void 0}getExtensionInitDependency(){let e=this.state;return e.id>=3||M(314,String(e.id),String(3)),{config:e.config}}getPeer(e){let t=this.builder.extensionNameMap.get(e);return t?t.getExtensionDependency():void 0}getInitDependency(e){let t=this.builder.getExtensionRep(e);return void 0===t&&M(315,this.extension.name,e.name),t.getExtensionInitDependency()}getDependency(e){let t=this.builder.getExtensionRep(e);return void 0===t&&M(315,this.extension.name,e.name),t.getExtensionDependency()}getState(){let e=this.state;return e.id>=7||M(316,String(e.id),String(7)),e}getDirectDependentNames(){return this.builder.incomingEdges.get(this.extension.name)||O}getPeerNameSet(){let e=this._peerNameSet;return e||(e=new Set((this.extension.peerDependencies||[]).map(([e])=>e)),this._peerNameSet=e),e}getExtensionDependency(){if(!this._dependency){let e=this.state;e.id>=5||M(317,this.extension.name),this._dependency={config:e.config,init:e.initResult,output:e.output}}return this._dependency}}let A={tag:l.T40};function D(){let e=(0,l.NiT)();e.isEmpty()&&e.append((0,l.lJ7)())}let L=(0,l.vE9)({config:(0,l.lVE)({setOptions:A,updateOptions:A}),init:({$initialEditorState:e=D})=>({$initialEditorState:e,initialized:!1}),afterRegistration(e,{updateOptions:t,setOptions:n},r){let i=r.getInitResult();if(!i.initialized){i.initialized=!0;let{$initialEditorState:r}=i;if((0,l.v0B)(r))e.setEditorState(r,n);else if("function"==typeof r)e.update(()=>{r(e)},t);else if(r&&("string"==typeof r||"object"==typeof r)){let t=e.parseEditorState(r);e.setEditorState(t,n)}}return()=>{}},name:"@lexical/extension/InitialState",nodes:[l.haT,l.Ey8,l.GRK,l.MZu,l.fD3]}),I=Symbol.for("@lexical/extension/LexicalBuilder");function F(){}function R(e){throw e}function K(e){return Array.isArray(e)?e:[e]}let B="0.38.2+prod.esm";class z{roots;extensionNameMap;outgoingConfigEdges;incomingEdges;conflicts;_sortedExtensionReps;PACKAGE_VERSION;constructor(e){for(let t of(this.outgoingConfigEdges=new Map,this.incomingEdges=new Map,this.extensionNameMap=new Map,this.conflicts=new Map,this.PACKAGE_VERSION=B,this.roots=e,e))this.addExtension(t)}static fromExtensions(e){let t=[K(L)];for(let n of e)t.push(K(n));return new z(t)}static maybeFromEditor(e){let t=e[I];return t&&(t.PACKAGE_VERSION!==B&&M(292,t.PACKAGE_VERSION,B),t instanceof z||M(293)),t}static fromEditor(e){let t=z.maybeFromEditor(e);return void 0===t&&M(294),t}constructEditor(){let{$initialEditorState:e,onError:t,...n}=this.buildCreateEditorArgs(),r=Object.assign((0,l.ieJ)({...n,...t?{onError:e=>{t(e,r)}}:{}}),{[I]:this});for(let e of this.sortedExtensionReps())e.build(r);return r}buildEditor(){let e=F;function t(){try{e()}finally{e=F}}let n=Object.assign(this.constructEditor(),{dispose:t,[Symbol.dispose]:t});return e=(0,o.Sd)(this.registerEditor(n),()=>n.setRootElement(null)),n}hasExtensionByName(e){return this.extensionNameMap.has(e)}getExtensionRep(e){let t=this.extensionNameMap.get(e.name);if(t)return t.extension!==e&&M(295,e.name),t}addEdge(e,t,n){let r=this.outgoingConfigEdges.get(e);r?r.set(t,n):this.outgoingConfigEdges.set(e,new Map([[t,n]]));let i=this.incomingEdges.get(t);i?i.add(e):this.incomingEdges.set(t,new Set([e]))}addExtension(e){void 0!==this._sortedExtensionReps&&M(296);let[t]=K(e);"string"!=typeof t.name&&M(297,typeof t.name);let n=this.extensionNameMap.get(t.name);if(void 0!==n&&n.extension!==t&&M(298,t.name),!n){n=new P(this,t),this.extensionNameMap.set(t.name,n);let e=this.conflicts.get(t.name);for(let n of("string"==typeof e&&M(299,t.name,e),t.conflictsWith||[]))this.extensionNameMap.has(n)&&M(299,t.name,n),this.conflicts.set(n,t.name);for(let e of t.dependencies||[]){let n=K(e);this.addEdge(t.name,n[0].name,n.slice(1)),this.addExtension(n)}for(let[e,n]of t.peerDependencies||[])this.addEdge(t.name,e,n?[n]:[])}}sortedExtensionReps(){if(this._sortedExtensionReps)return this._sortedExtensionReps;let e=[],t=(n,r)=>{var i,l;let o=n.state;if(2===o.id)return;let s=n.extension.name;0===o.id||M(300,s,r||"[unknown]"),0===(i=o).id||M(304,String(i.id),String(0)),n.state=o=Object.assign(i,{id:1});let a=this.outgoingConfigEdges.get(s);if(a)for(let e of a.keys()){let n=this.extensionNameMap.get(e);n&&t(n,s)}1===(l=o).id||M(305,String(l.id),String(1)),n.state=o=Object.assign(l,{id:2}),e.push(n)};for(let e of this.extensionNameMap.values())0===e.state.id&&t(e);for(let t of e)for(let[e,n]of this.outgoingConfigEdges.get(t.extension.name)||[])if(n.length>0){let t=this.extensionNameMap.get(e);if(t)for(let e of n)t.configs.add(e)}for(let[e,...t]of this.roots)if(t.length>0){let n=this.extensionNameMap.get(e.name);for(let r of(void 0===n&&M(301,e.name),t))n.configs.add(r)}return this._sortedExtensionReps=e,this._sortedExtensionReps}registerEditor(e){let t=this.sortedExtensionReps(),n=new AbortController,r=[()=>n.abort()],i=n.signal;for(let n of t){let t=n.register(e,i);t&&r.push(t)}for(let n of t){let t=n.afterRegistration(e);t&&r.push(t)}return(0,o.Sd)(...r)}buildCreateEditorArgs(){let e={},t=new Set,n=new Map,r=new Map,i={},l={},o=this.sortedExtensionReps();for(let s of o){let{extension:o}=s;if(void 0!==o.onError&&(e.onError=o.onError),void 0!==o.disableEvents&&(e.disableEvents=o.disableEvents),void 0!==o.parentEditor&&(e.parentEditor=o.parentEditor),void 0!==o.editable&&(e.editable=o.editable),void 0!==o.namespace&&(e.namespace=o.namespace),void 0!==o.$initialEditorState&&(e.$initialEditorState=o.$initialEditorState),o.nodes){for(let e of("function"==typeof o.nodes?o.nodes():o.nodes)||[]){if("function"!=typeof e){let t=n.get(e.replace);t&&M(302,o.name,e.replace.name,t.extension.name),n.set(e.replace,s)}t.add(e)}}if(o.html){if(o.html.export)for(let[e,t]of o.html.export.entries())r.set(e,t);o.html.import&&Object.assign(i,o.html.import)}o.theme&&function e(t,n){if(t&&n&&!Array.isArray(n)&&"object"==typeof t&&"object"==typeof n){for(let r in n)t[r]=e(t[r],n[r]);return t}return n}(l,o.theme)}Object.keys(l).length>0&&(e.theme=l),t.size&&(e.nodes=[...t]);let s=Object.keys(i).length>0,a=r.size>0;for(let t of((s||a)&&(e.html={},s&&(e.html.import=i),a&&(e.html.export=r)),o))t.init(e);return e.onError||(e.onError=R),e}}let W=new Set,j=(0,l.vE9)({build(e,t,n){let r=n.getDependency(k).output,i=p({watchedNodeKeys:new Map}),o=N(()=>{},()=>E(()=>{let e=o.peek(),{watchedNodeKeys:t}=i.value,n,s=!1;r.value.read(()=>{if((0,l.vJq)())for(let[r,i]of t.entries()){if(0===i.size){t.delete(r);continue}let o=(0,l.nsf)(r),a=o&&o.isSelected()||!1;s=s||a!==(!!e&&e.has(r)),a&&(n=n||new Set).add(r)}}),!s&&n&&e&&n.size===e.size||(o.value=n)}));return{watchNodeKey:function(e){let t=new v(()=>(o.value||W).has(e),void 0),{watchedNodeKeys:n}=i.peek(),r=n.get(e),l=void 0!==r;return(r=r||new Set).add(t),l||(n.set(e,r),i.value={watchedNodeKeys:n}),t}}},dependencies:[k],name:"@lexical/extension/NodeSelection"});(0,l.guI)("INSERT_HORIZONTAL_RULE_COMMAND");class J extends l.Kp7{static getType(){return"horizontalrule"}static clone(e){return new J(e.__key)}static importJSON(e){return q().updateFromJSON(e)}static importDOM(){return{hr:()=>({conversion:Z,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(e){let t=document.createElement("hr");return(0,o.ZB)(t,e.theme.hr),t}getTextContent(){return"\n"}isInline(){return!1}updateDOM(){return!1}}function Z(){return{node:q()}}function q(){return(0,l.phO)(J)}(0,l.vE9)({dependencies:[k,j],name:"@lexical/extension/HorizontalRule",nodes:[J],register(e,t,n){let{watchNodeKey:r}=n.getDependency(j).output,i=p({nodeSelections:new Map}),s=e._config.theme.hrSelected??"selected";return(0,o.Sd)(e.registerCommand(l.d8p,e=>{if((0,l.vAA)(e.target)){let t=(0,l.pJU)(e.target);if(t instanceof J)return function(e,t=!1){let n,r=(0,l.vJq)(),i=e.isSelected(),o=e.getKey();t&&(0,l.RTZ)(r)?n=r:(n=(0,l.rUs)(),(0,l.n1P)(n)),i?n.delete(o):n.add(o)}(t,e.shiftKey),!0}return!1},l.AcJ),e.registerMutationListener(J,(t,n)=>{!function(e){if(d>0)return e();d++;try{return e()}finally{a()}}(()=>{let n=!1,{nodeSelections:l}=i.peek();for(let[i,o]of t.entries())if("destroyed"===o)l.delete(i),n=!0;else{let t=l.get(i),o=e.getElementByKey(i);t?t.domNode.value=o:(n=!0,l.set(i,{domNode:p(o),selectedSignal:r(i)}))}n&&(i.value={nodeSelections:l})})}),E(()=>{let e=[];for(let{domNode:t,selectedSignal:n}of i.value.nodeSelections.values())e.push(E(()=>{let e=t.value;e&&(n.value?(0,o.ZB)(e,s):(0,o.HE)(e,s))}));return(0,o.Sd)(...e)}))}}),(0,l.vE9)({build:(e,t,n)=>w(t),config:(0,l.lVE)({disabled:!1,maxIndent:null}),name:"@lexical/extension/TabIndentation",register(e,t,n){let{disabled:r,maxIndent:i}=n.getOutput();return E(()=>{if(!r.value)return(0,o.Sd)(e.registerCommand(l.OXk,t=>{let n=(0,l.vJq)();if(!(0,l.I2P)(n))return!1;t.preventDefault();let r=!function(e){let t=e.getNodes();if((0,o.zD)(t,e=>(0,l.y68)(e)&&e.canIndent()?e:null).length>0)return!0;let n=e.anchor,r=e.focus,i=r.isBefore(n)?r:n,s=i.getNode(),a=(0,o.mB)(s);if(a.canIndent()){let e=a.getKey(),t=(0,l.uTE)();if(t.anchor.set(e,0,"element"),t.focus.set(e,0,"element"),(t=(0,l.CaD)(t)).anchor.is(i))return!0}return!1}(n)?l.YW5:t.shiftKey?l.sik:l.PiT;return e.dispatchCommand(r,void 0)},l.jZM),e.registerCommand(l.PiT,()=>{let e="number"==typeof i?i:i?i.peek():null;if(null==e)return!1;let t=(0,l.vJq)();return!!(0,l.I2P)(t)&&Math.max(...t.getNodes().map(e=>(0,o.mB)(e).getIndent()))+1>=e},l.da8))})}})},9416:(e,t,n)=>{n.d(t,{yl:()=>i});var r=n(8801);function i(e){return()=>(function(e){if(!function(e,t=!0){if(e)return!1;let n=(0,r.NiT)().getTextContent();return t&&(n=n.trim()),""===n}(e,!1))return!1;let t=(0,r.NiT)().getChildren(),n=t.length;if(n>1)return!1;for(let e=0;e<n;e++){let n=t[e];if((0,r.Cyw)(n))return!1;if((0,r.ff4)(n)){if(!(0,r.bSg)(n)||0!==n.__indent)return!1;let t=n.getChildren(),i=t.length;for(let n=0;n<i;n++){let n=t[e];if(!(0,r.kFe)(n))return!1}}}return!0})(e)}}}]);