(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[329],{175:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var s=a(5155),n=a(2115),l=a(7621),o=a(1712),c=a(9867);let i=(0,a(1847).A)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);var r=a(5299),d=a(5740),h=a(5880),m=a(1360),x=a(1412);function p(){let[e,t]=(0,n.useState)("download"),[a,p]=(0,n.useState)(""),[y,u]=(0,n.useState)("model"),[g,b]=(0,n.useState)("sdxl"),[f,j]=(0,n.useState)(!1),[w,v]=(0,n.useState)(null),[N,k]=(0,n.useState)(null),[S,T]=(0,n.useState)([]),[O,C]=(0,n.useState)([]),[A,_]=(0,n.useState)(!1),[M,P]=(0,n.useState)(null);(0,n.useEffect)(()=>{D(),E()},[]);let D=async()=>{try{_(!0);let e=await l.BO.list();T(e.models||[]),C(e.vaes||[])}catch(e){console.error("Failed to load files:",e)}finally{_(!1)}},E=async()=>{try{let e=await l.BO.popular();P(e)}catch(e){console.error("Failed to load popular models:",e)}},J=async()=>{if(!a.trim())return void k("Please enter a URL");try{j(!0),k(null),v(null);let e=await l.BO.download(a,y,g);v(e),p(""),setTimeout(()=>D(),1e3)}catch(e){k(e.message||"Download failed")}finally{j(!1)}},F=async e=>{if(confirm("Delete ".concat(e.name,"?")))try{await l.BO.delete(e.type,e.name),D()}catch(e){alert("Failed to delete: ".concat(e.message))}},H=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"model";p(e),u(a),t("download")};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 py-16",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 max-w-7xl",children:[(0,s.jsx)(x.A,{items:[{label:"Home",href:"/",icon:(0,s.jsx)(o.A,{className:"w-4 h-4"})},{label:"Models & VAEs",icon:(0,s.jsx)(c.A,{className:"w-4 h-4"})}]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-5xl md:text-6xl font-bold mb-4 bg-gradient-to-r from-cyan-400 via-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"Models & VAEs"}),(0,s.jsx)("p",{className:"text-xl text-gray-300",children:"Download base models and VAEs from HuggingFace or Civitai"})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("div",{className:"border-b border-slate-700",children:(0,s.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,s.jsxs)("button",{onClick:()=>t("download"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("download"===e?"border-cyan-400 text-cyan-400":"border-transparent text-gray-400 hover:text-gray-300 hover:border-slate-600"),children:[(0,s.jsx)(c.A,{className:"w-5 h-5 inline mr-2"}),"Download"]}),(0,s.jsxs)("button",{onClick:()=>t("manage"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("manage"===e?"border-cyan-400 text-cyan-400":"border-transparent text-gray-400 hover:text-gray-300 hover:border-slate-600"),children:[(0,s.jsx)(i,{className:"w-5 h-5 inline mr-2"}),"Manage (",S.length+O.length,")"]})]})})}),"download"===e&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-lg shadow-lg p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Download Model or VAE"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Download Type"}),(0,s.jsxs)("select",{value:y,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-600 text-white rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",children:[(0,s.jsx)("option",{value:"model",children:"Base Model"}),(0,s.jsx)("option",{value:"vae",children:"VAE"})]})]}),"model"===y&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Model Type"}),(0,s.jsxs)("select",{value:g,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-600 text-white rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",children:[(0,s.jsx)("option",{value:"sdxl",children:"SDXL"}),(0,s.jsx)("option",{value:"sd15",children:"SD 1.5"}),(0,s.jsx)("option",{value:"flux",children:"Flux"}),(0,s.jsx)("option",{value:"sd3.5",children:"SD 3.5"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Download URL (HuggingFace or Civitai)"}),(0,s.jsx)("input",{type:"text",value:a,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-600 text-white rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",placeholder:"https://huggingface.co/.../model.safetensors"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Supports HuggingFace (resolve links) and Civitai (direct download links)"})]})]}),(0,s.jsx)("button",{onClick:J,disabled:f||!a.trim(),className:"mt-6 w-full flex items-center justify-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:f?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.A,{className:"w-5 h-5 animate-spin"}),"Downloading..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{className:"w-5 h-5"}),"Download ","model"===y?"Model":"VAE"]})}),N&&(0,s.jsx)("div",{className:"mt-4 bg-red-900/50 border border-red-500/50 text-red-200 px-4 py-3 rounded",children:N}),w&&w.success&&(0,s.jsxs)("div",{className:"mt-4 bg-green-900/50 border border-green-500/50 text-green-200 px-4 py-3 rounded",children:[(0,s.jsx)("p",{className:"font-semibold",children:"Download Complete!"}),(0,s.jsxs)("p",{className:"text-sm mt-1",children:[w.file_name," (",w.size_mb," MB)"]})]})]}),M&&(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-lg shadow-lg p-6",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,s.jsx)(d.A,{className:"w-6 h-6 text-yellow-400"}),"Popular Models"]}),(0,s.jsxs)("div",{className:"space-y-4",children:[Object.entries(M.models||{}).map(e=>{let[t,a]=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-cyan-400 mb-2 uppercase",children:t}),(0,s.jsx)("div",{className:"space-y-2",children:a.map((e,t)=>(0,s.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-3 hover:border-cyan-500/50 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"font-semibold text-white",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:e.description})]}),(0,s.jsxs)("button",{onClick:()=>H(e.url,"model"),className:"ml-4 flex items-center gap-1 text-cyan-400 hover:text-cyan-300 text-sm",children:[(0,s.jsx)(h.A,{className:"w-4 h-4"}),"Use"]})]})},t))})]},t)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"VAES"}),(0,s.jsx)("div",{className:"space-y-2",children:(M.vaes||[]).map((e,t)=>(0,s.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-3 hover:border-cyan-500/50 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"font-semibold text-white",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:e.description})]}),(0,s.jsxs)("button",{onClick:()=>H(e.url,"vae"),className:"ml-4 flex items-center gap-1 text-cyan-400 hover:text-cyan-300 text-sm",children:[(0,s.jsx)(h.A,{className:"w-4 h-4"}),"Use"]})]})},t))})]})]})]})]}),"manage"===e&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-lg shadow-lg p-6",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-white mb-4",children:["Base Models (",S.length,")"]}),0===S.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(c.A,{className:"w-16 h-16 mx-auto text-gray-500 mb-4"}),(0,s.jsx)("p",{className:"text-gray-400",children:"No models downloaded yet"}),(0,s.jsx)("button",{onClick:()=>t("download"),className:"mt-4 text-cyan-400 hover:text-cyan-300",children:"Download your first model →"})]}):(0,s.jsx)("div",{className:"space-y-2",children:S.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-cyan-500/50 transition-colors",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-white",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:[e.size_mb.toFixed(2)," MB"]})]}),(0,s.jsx)("button",{onClick:()=>F(e),className:"ml-4 text-red-400 hover:text-red-300 transition-colors",children:(0,s.jsx)(m.A,{className:"w-5 h-5"})})]},e.path))})]}),(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-lg shadow-lg p-6",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-white mb-4",children:["VAE Files (",O.length,")"]}),0===O.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(c.A,{className:"w-16 h-16 mx-auto text-gray-500 mb-4"}),(0,s.jsx)("p",{className:"text-gray-400",children:"No VAEs downloaded yet"}),(0,s.jsx)("button",{onClick:()=>t("download"),className:"mt-4 text-cyan-400 hover:text-cyan-300",children:"Download a VAE →"})]}):(0,s.jsx)("div",{className:"space-y-2",children:O.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-cyan-500/50 transition-colors",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-white",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:[e.size_mb.toFixed(2)," MB"]})]}),(0,s.jsx)("button",{onClick:()=>F(e),className:"ml-4 text-red-400 hover:text-red-300 transition-colors",children:(0,s.jsx)(m.A,{className:"w-5 h-5"})})]},e.path))})]})]})]})})}},1360:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},1412:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var s=a(5155),n=a(2619),l=a.n(n),o=a(7937);function c(e){let{items:t}=e;return(0,s.jsx)("nav",{className:"flex items-center space-x-2 text-sm mb-6",children:t.map((e,a)=>{let n=a===t.length-1;return(0,s.jsxs)("div",{className:"flex items-center",children:[a>0&&(0,s.jsx)(o.A,{className:"w-4 h-4 mx-2 text-gray-500"}),e.href&&!n?(0,s.jsxs)(l(),{href:e.href,className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors",children:[e.icon,e.label]}):(0,s.jsxs)("span",{className:"flex items-center gap-2 ".concat(n?"text-gray-300 font-semibold":"text-gray-500"),children:[e.icon,e.label]})]},a)})})}},1712:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},3400:(e,t,a)=>{Promise.resolve().then(a.bind(a,175))},5299:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5740:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},5880:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},7621:(e,t,a)=>{"use strict";a.d(t,{BO:()=>d,Dp:()=>c,Zq:()=>o,jp:()=>l,t_:()=>r,vt:()=>i});let s=a(5704).env.NEXT_PUBLIC_API_URL||"http://localhost:8000/api";async function n(e){if(!e.ok)throw Error((await e.json().catch(()=>({detail:"Unknown error"}))).detail||"HTTP ".concat(e.status));return e.json()}let l={list:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/workspace";return n(await fetch("".concat(s,"/files/list?path=").concat(encodeURIComponent(e))))},upload:async(e,t)=>{let a=new FormData;return a.append("file",e),n(await fetch("".concat(s,"/files/upload?destination=").concat(encodeURIComponent(t)),{method:"POST",body:a}))},delete:async e=>n(await fetch("".concat(s,"/files/delete?path=").concat(encodeURIComponent(e)),{method:"DELETE"})),rename:async(e,t)=>n(await fetch("".concat(s,"/files/rename"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({old_path:e,new_name:t})})),mkdir:async(e,t)=>n(await fetch("".concat(s,"/files/mkdir"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e,name:t})})),read:async e=>n(await fetch("".concat(s,"/files/read/").concat(encodeURIComponent(e.substring(1))))),write:async(e,t)=>n(await fetch("".concat(s,"/files/write"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e,content:t})}))},o={list:async()=>n(await fetch("".concat(s,"/dataset/list"))),uploadBatch:async(e,t)=>{let a=new FormData;return e.forEach(e=>a.append("files",e)),n(await fetch("".concat(s,"/dataset/upload-batch?dataset_name=").concat(encodeURIComponent(t)),{method:"POST",body:a}))},tag:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wd14-vit-v2",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.35;return n(await fetch("".concat(s,"/dataset/tag"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset_path:e,model:t,threshold:a})}))},create:async e=>n(await fetch("".concat(s,"/dataset/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})})),getImagesWithTags:async e=>n(await fetch("".concat(s,"/dataset/images-with-tags?dataset_path=").concat(encodeURIComponent(e)))),updateTags:async(e,t)=>n(await fetch("".concat(s,"/dataset/update-tags"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image_path:e,tags:t})})),bulkTagOperation:async(e,t,a,l)=>n(await fetch("".concat(s,"/dataset/bulk-tag-operation"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset_path:e,operation:t,tags:a,replace_with:l||""})})),injectTriggerWord:async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"start";return n(await fetch("".concat(s,"/dataset/inject-trigger-word"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset_path:e,trigger_word:t,position:a})}))}},c={start:async e=>n(await fetch("".concat(s,"/training/start"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),stop:async()=>n(await fetch("".concat(s,"/training/stop"),{method:"POST"})),status:async()=>n(await fetch("".concat(s,"/training/status"))),validate:async e=>n(await fetch("".concat(s,"/training/validate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),connectLogs:(e,t)=>{let a=new WebSocket("ws://localhost:8000/api/training/logs");return a.onmessage=t=>{e(JSON.parse(t.data))},t&&(a.onerror=t),a}},i={templates:async()=>n(await fetch("".concat(s,"/config/templates"))),load:async e=>n(await fetch("".concat(s,"/config/load?path=").concat(encodeURIComponent(e)))),save:async(e,t)=>n(await fetch("".concat(s,"/config/save"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,config:t})})),defaults:async()=>n(await fetch("".concat(s,"/config/defaults")))},r={calculateSteps:async e=>n(await fetch("".concat(s,"/utilities/calculator"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),browseDatasets:async()=>n(await fetch("".concat(s,"/utilities/datasets/browse"))),listLoraFiles:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"safetensors",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name";return n(await fetch("".concat(s,"/utilities/lora/list"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({directory:e,file_extension:t,sort_by:a})}))},getResizeDimensions:async()=>n(await fetch("".concat(s,"/utilities/lora/resize-dimensions"))),resizeLora:async(e,t,a,l)=>n(await fetch("".concat(s,"/utilities/lora/resize"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input_path:e,output_path:t,new_dim:a,new_alpha:l})})),uploadToHuggingFace:async e=>n(await fetch("".concat(s,"/utilities/hf/upload"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),validateHfToken:async e=>n(await fetch("".concat(s,"/utilities/hf/validate-token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hf_token:e})}))},d={download:async(e,t,a)=>n(await fetch("".concat(s,"/models/download"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e,download_type:t,model_type:a})})),list:async()=>n(await fetch("".concat(s,"/models/list"))),delete:async(e,t)=>n(await fetch("".concat(s,"/models/").concat(e,"/").concat(encodeURIComponent(t)),{method:"DELETE"})),popular:async()=>n(await fetch("".concat(s,"/models/popular")))}},7937:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},9867:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])}},e=>{e.O(0,[297,441,255,358],()=>e(e.s=3400)),_N_E=e.O()}]);