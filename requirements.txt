# Ktiseos-Nyx-Trainer - Complete Requirements for NextJS-based Training Platform
# Consolidated for unified NextJS + FastAPI architecture (replaces fragmented requirements)

# Core FastAPI and Web Server
fastapi>=0.110.0
uvicorn[standard]>=0.27.0
python-multipart>=0.0.9
aiofiles>=23.2.1
websockets>=12.0
pydantic>=2.6.0
pydantic-settings>=2.2.0
aiohttp>=3.9.0
starlette

# Core Training Dependencies
# PyTorch - VastAI base image includes this, but explicit for other environments
torch>=2.1.0
torchvision>=0.16.0
numpy>=1.24.0  # Required by custom scripts and ML workflows
accelerate==0.33.0
transformers==4.54.1
diffusers[torch]==0.32.1
safetensors==0.5.3
bitsandbytes==0.45.5
torch-fidelity==0.3.0
einops==0.8.1
lycoris-lora

# Optimizers & Schedulers
prodigyopt==1.1.2
lion-pytorch==0.2.3
dadaptation==3.2
pytorch_optimizer==3.1.2
schedulefree==1.4
prodigy-plus-schedule-free
came-pytorch

# General Utilities
toml>=0.10.2
tqdm>=4.66.4
# Pin rich to compatible version for streamlit
rich>=13.0,<15.0
ftfy>=6.2.0
requests>=2.28.0
psutil
pyyaml
pandas
scipy
omegaconf
huggingface-hub>=0.34.3
fiftyone
gallery-dl
hf-transfer
voluptuous>=0.15.2
sentencepiece>=0.2.1
uv  # Ultra-fast Python package installer

# Image/UI/Data Handling
Pillow>=10.3.0
opencv-python==4.10.0.84
imageio>=2.34.1
imageio-ffmpeg>=0.5.1
pyarrow>=16.1.0
altair>=5.3.0
streamlit>=1.35.0
easygui>=0.98.3
Jinja2>=3.1.4
sidecar>=0.5.0
imagesize>=1.4.1
setuptools>=78.1.1

# Monitoring & Logging
tensorboard>=2.16.2
wandb>=0.17.0
watchdog>=4.0.0

# ONNX / Tagger Dependencies
onnx>=1.16.1
# Use Microsoft's CUDA 12 build instead of broken PyPI version
onnxruntime-gpu==1.17.1 --extra-index-url https://aiinfra.pkgs.visualstudio.com/PublicPackages/_packaging/onnxruntime-cuda-12/pypi/simple/

# Windows Specific (safe to include for all OS)
pyreadline
colorama

# Configuration and Training (needed for LoRA trainer)
toml>=0.10.2

# API & Web Server (moved to top for clarity)
pyngrok
pycloudflared